2025-11-12 20:54:20 - 8_0.0_1 - INFO - 日志文件已创建: logs/oxford_pets/fedotp/8_0.0_1_20251112_205420.log
2025-11-12 20:54:20 - 8_0.0_1 - INFO - Loading trainer: DP_FPL
2025-11-12 20:54:20 - 8_0.0_1 - INFO - Loading dataset: OxfordPets
2025-11-12 20:54:20 - 8_0.0_1 - INFO - Reading split from /home/liuxin25/dataset/oxford_pets/split_zhou_OxfordPets.json
2025-11-12 20:54:20 - 8_0.0_1 - INFO - Creating a baseline federated dataset
2025-11-12 20:54:20 - 8_0.0_1 - INFO - class_num 37
2025-11-12 20:54:20 - 8_0.0_1 - INFO - user class dict total [18, 14, 23, 10]
2025-11-12 20:54:20 - 8_0.0_1 - INFO - idx: 0, output_dict_len: 320
2025-11-12 20:54:20 - 8_0.0_1 - INFO - user class dict total [8, 4, 13, 19]
2025-11-12 20:54:20 - 8_0.0_1 - INFO - idx: 1, output_dict_len: 320
2025-11-12 20:54:20 - 8_0.0_1 - INFO - user class dict total [12, 29, 34, 15]
2025-11-12 20:54:20 - 8_0.0_1 - INFO - idx: 2, output_dict_len: 317
2025-11-12 20:54:20 - 8_0.0_1 - INFO - user class dict total [2, 32, 1, 11]
2025-11-12 20:54:20 - 8_0.0_1 - INFO - idx: 3, output_dict_len: 313
2025-11-12 20:54:20 - 8_0.0_1 - INFO - user class dict total [31, 0, 35, 7]
2025-11-12 20:54:20 - 8_0.0_1 - INFO - idx: 4, output_dict_len: 317
2025-11-12 20:54:20 - 8_0.0_1 - INFO - user class dict total [5, 27, 16, 30]
2025-11-12 20:54:20 - 8_0.0_1 - INFO - idx: 5, output_dict_len: 320
2025-11-12 20:54:20 - 8_0.0_1 - INFO - user class dict total [17, 22, 26, 9]
2025-11-12 20:54:20 - 8_0.0_1 - INFO - idx: 6, output_dict_len: 317
2025-11-12 20:54:20 - 8_0.0_1 - INFO - user class dict total [33, 3, 25, 6]
2025-11-12 20:54:20 - 8_0.0_1 - INFO - idx: 7, output_dict_len: 320
2025-11-12 20:54:20 - 8_0.0_1 - INFO - user class dict total [21, 20, 36, 28]
2025-11-12 20:54:20 - 8_0.0_1 - INFO - idx: 8, output_dict_len: 320
2025-11-12 20:54:20 - 8_0.0_1 - INFO - user class dict total [24]
2025-11-12 20:54:20 - 8_0.0_1 - INFO - idx: 9, output_dict_len: 80
2025-11-12 20:54:20 - 8_0.0_1 - INFO - Creating a baseline federated dataset
2025-11-12 20:54:20 - 8_0.0_1 - INFO - class_num 37
2025-11-12 20:54:20 - 8_0.0_1 - INFO - user class dict total [18, 14, 23, 10]
2025-11-12 20:54:20 - 8_0.0_1 - INFO - idx: 0, output_dict_len: 399
2025-11-12 20:54:20 - 8_0.0_1 - INFO - user class dict total [8, 4, 13, 19]
2025-11-12 20:54:20 - 8_0.0_1 - INFO - idx: 1, output_dict_len: 399
2025-11-12 20:54:20 - 8_0.0_1 - INFO - user class dict total [12, 29, 34, 15]
2025-11-12 20:54:20 - 8_0.0_1 - INFO - idx: 2, output_dict_len: 389
2025-11-12 20:54:20 - 8_0.0_1 - INFO - user class dict total [2, 32, 1, 11]
2025-11-12 20:54:20 - 8_0.0_1 - INFO - idx: 3, output_dict_len: 397
2025-11-12 20:54:20 - 8_0.0_1 - INFO - user class dict total [31, 0, 35, 7]
2025-11-12 20:54:20 - 8_0.0_1 - INFO - idx: 4, output_dict_len: 386
2025-11-12 20:54:20 - 8_0.0_1 - INFO - user class dict total [5, 27, 16, 30]
2025-11-12 20:54:20 - 8_0.0_1 - INFO - idx: 5, output_dict_len: 399
2025-11-12 20:54:20 - 8_0.0_1 - INFO - user class dict total [17, 22, 26, 9]
2025-11-12 20:54:20 - 8_0.0_1 - INFO - idx: 6, output_dict_len: 400
2025-11-12 20:54:20 - 8_0.0_1 - INFO - user class dict total [33, 3, 25, 6]
2025-11-12 20:54:20 - 8_0.0_1 - INFO - idx: 7, output_dict_len: 400
2025-11-12 20:54:20 - 8_0.0_1 - INFO - user class dict total [21, 20, 36, 28]
2025-11-12 20:54:20 - 8_0.0_1 - INFO - idx: 8, output_dict_len: 400
2025-11-12 20:54:20 - 8_0.0_1 - INFO - user class dict total [24]
2025-11-12 20:54:20 - 8_0.0_1 - INFO - idx: 9, output_dict_len: 100
2025-11-12 20:54:20 - 8_0.0_1 - INFO - Loading CLIP (backbone: ViT-B/16)
2025-11-12 20:54:24 - 8_0.0_1 - INFO - Building custom CLIP
2025-11-12 20:54:24 - 8_0.0_1 - INFO - Turning off gradients in both the image and the text encoder
2025-11-12 20:54:30 - 8_0.0_1 - INFO - [Epoch 1/30] 训练耗时: 6.00s | 平均训练准确率: 51.09
2025-11-12 20:54:36 - 8_0.0_1 - INFO - [Epoch 2/30] 训练耗时: 5.80s | 平均训练准确率: 73.44
2025-11-12 20:54:42 - 8_0.0_1 - INFO - [Epoch 3/30] 训练耗时: 5.45s | 平均训练准确率: 77.34
2025-11-12 20:54:49 - 8_0.0_1 - INFO - [Epoch 4/30] 训练耗时: 6.83s | 平均训练准确率: 77.19
2025-11-12 20:54:54 - 8_0.0_1 - INFO - [Epoch 5/30] 训练耗时: 5.24s | 平均训练准确率: 80.00
2025-11-12 20:55:00 - 8_0.0_1 - INFO - [Epoch 6/30] 训练耗时: 5.91s | 平均训练准确率: 78.91
2025-11-12 20:55:06 - 8_0.0_1 - INFO - [Epoch 7/30] 训练耗时: 5.92s | 平均训练准确率: 79.38
2025-11-12 20:55:11 - 8_0.0_1 - INFO - [Epoch 8/30] 训练耗时: 5.76s | 平均训练准确率: 82.34
2025-11-12 20:55:23 - 8_0.0_1 - INFO - [Epoch 9/30] 训练耗时: 11.46s | 平均训练准确率: 84.06
2025-11-12 20:55:29 - 8_0.0_1 - INFO - [Epoch 10/30] 训练耗时: 6.58s | 平均训练准确率: 80.78
2025-11-12 20:55:36 - 8_0.0_1 - INFO - [Epoch 11/30] 训练耗时: 6.07s | 平均训练准确率: 80.94
2025-11-12 20:55:42 - 8_0.0_1 - INFO - [Epoch 12/30] 训练耗时: 6.03s | 平均训练准确率: 84.22
2025-11-12 20:55:47 - 8_0.0_1 - INFO - [Epoch 13/30] 训练耗时: 5.59s | 平均训练准确率: 85.62
2025-11-12 20:55:53 - 8_0.0_1 - INFO - [Epoch 14/30] 训练耗时: 5.63s | 平均训练准确率: 85.78
2025-11-12 20:55:59 - 8_0.0_1 - INFO - [Epoch 15/30] 训练耗时: 5.99s | 平均训练准确率: 82.97
2025-11-12 20:56:05 - 8_0.0_1 - INFO - [Epoch 16/30] 训练耗时: 5.80s | 平均训练准确率: 84.38
2025-11-12 20:56:10 - 8_0.0_1 - INFO - [Epoch 17/30] 训练耗时: 5.71s | 平均训练准确率: 85.16
2025-11-12 20:56:16 - 8_0.0_1 - INFO - [Epoch 18/30] 训练耗时: 6.04s | 平均训练准确率: 84.22
2025-11-12 20:56:23 - 8_0.0_1 - INFO - [Epoch 19/30] 训练耗时: 6.42s | 平均训练准确率: 84.06
2025-11-12 20:56:29 - 8_0.0_1 - INFO - [Epoch 20/30] 训练耗时: 6.20s | 平均训练准确率: 86.25
2025-11-12 20:56:35 - 8_0.0_1 - INFO - [Epoch 21/30] 训练耗时: 5.64s | 平均训练准确率: 85.78
2025-11-12 20:56:40 - 8_0.0_1 - INFO - [Epoch 22/30] 训练耗时: 5.62s | 平均训练准确率: 83.28
2025-11-12 20:56:46 - 8_0.0_1 - INFO - [Epoch 23/30] 训练耗时: 5.64s | 平均训练准确率: 86.09
2025-11-12 20:56:52 - 8_0.0_1 - INFO - [Epoch 24/30] 训练耗时: 5.76s | 平均训练准确率: 87.03
2025-11-12 20:56:57 - 8_0.0_1 - INFO - [Epoch 25/30] 训练耗时: 5.67s | 平均训练准确率: 86.72
2025-11-12 20:57:03 - 8_0.0_1 - INFO - [Epoch 26/30] 训练耗时: 5.81s | 平均训练准确率: 85.47
2025-11-12 20:57:09 - 8_0.0_1 - INFO - [Epoch 27/30] 训练耗时: 5.61s | 平均训练准确率: 85.62
2025-11-12 20:57:14 - 8_0.0_1 - INFO - [Epoch 28/30] 训练耗时: 5.57s | 平均训练准确率: 83.75
2025-11-12 20:57:14 - 8_0.0_1 - INFO - ------------local test start-------------
2025-11-12 20:57:14 - 8_0.0_1 - INFO - Evaluate on the client0 local set
2025-11-12 20:57:19 - 8_0.0_1 - INFO - => result | total 399 | correct 296 | acc 74.19% | err 25.81% | macro_f1 82.40%
2025-11-12 20:57:19 - 8_0.0_1 - INFO - Evaluate on the client0 neighbor set
