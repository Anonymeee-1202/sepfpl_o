2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - 日志文件已创建: logs/caltech-101_fedotp_8_0.0_1_20251112_120604.log
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - Loading trainer: DP_FPL
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - Loading dataset: Caltech101
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - Reading split from /home/liuxin25/dataset/caltech-101/split_zhou_Caltech101.json
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - Creating a baseline federated dataset
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - class_num 100
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - user class dict total [20, 79, 93, 54, 52, 65, 0, 1, 48, 74]
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - idx: 0, output_dict_len: 673
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - user class dict total [44, 82, 35, 69, 91, 42, 33, 14, 5, 62]
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - idx: 1, output_dict_len: 296
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - user class dict total [32, 55, 96, 10, 21, 31, 90, 27, 28, 76]
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - idx: 2, output_dict_len: 251
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - user class dict total [80, 71, 66, 58, 23, 70, 60, 72, 17, 18]
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - idx: 3, output_dict_len: 275
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - user class dict total [45, 34, 11, 56, 84, 13, 41, 30, 24, 85]
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - idx: 4, output_dict_len: 369
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - user class dict total [51, 75, 37, 6, 53, 94, 95, 39, 47, 98]
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - idx: 5, output_dict_len: 265
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - user class dict total [36, 7, 50, 3, 63, 59, 9, 77, 64, 92]
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - idx: 6, output_dict_len: 286
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - user class dict total [86, 97, 61, 19, 25, 4, 16, 8, 46, 26]
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - idx: 7, output_dict_len: 675
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - user class dict total [2, 88, 29, 22, 87, 67, 68, 38, 83, 15]
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - idx: 8, output_dict_len: 695
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - user class dict total [12, 81, 43, 73, 78, 40, 99, 57, 89, 49]
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - idx: 9, output_dict_len: 343
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - Creating a baseline federated dataset
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - class_num 100
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - user class dict total [20, 79, 93, 54, 52, 65, 0, 1, 48, 74]
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - idx: 0, output_dict_len: 399
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - user class dict total [44, 82, 35, 69, 91, 42, 33, 14, 5, 62]
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - idx: 1, output_dict_len: 176
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - user class dict total [32, 55, 96, 10, 21, 31, 90, 27, 28, 76]
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - idx: 2, output_dict_len: 154
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - user class dict total [80, 71, 66, 58, 23, 70, 60, 72, 17, 18]
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - idx: 3, output_dict_len: 162
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - user class dict total [45, 34, 11, 56, 84, 13, 41, 30, 24, 85]
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - idx: 4, output_dict_len: 221
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - user class dict total [51, 75, 37, 6, 53, 94, 95, 39, 47, 98]
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - idx: 5, output_dict_len: 157
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - user class dict total [36, 7, 50, 3, 63, 59, 9, 77, 64, 92]
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - idx: 6, output_dict_len: 171
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - user class dict total [86, 97, 61, 19, 25, 4, 16, 8, 46, 26]
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - idx: 7, output_dict_len: 404
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - user class dict total [2, 88, 29, 22, 87, 67, 68, 38, 83, 15]
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - idx: 8, output_dict_len: 415
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - user class dict total [12, 81, 43, 73, 78, 40, 99, 57, 89, 49]
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - idx: 9, output_dict_len: 206
2025-11-12 12:06:04 - caltech-101_fedotp_8_0.0_1 - INFO - Loading CLIP (backbone: ViT-B/16)
2025-11-12 12:06:08 - caltech-101_fedotp_8_0.0_1 - INFO - Building custom CLIP
2025-11-12 12:06:08 - caltech-101_fedotp_8_0.0_1 - INFO - Turning off gradients in both the image and the text encoder
2025-11-12 12:06:24 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 1/30] 训练耗时: 16.46s | 平均训练准确率: 52.86
2025-11-12 12:06:39 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 2/30] 训练耗时: 15.04s | 平均训练准确率: 71.38
2025-11-12 12:06:54 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 3/30] 训练耗时: 15.07s | 平均训练准确率: 81.79
2025-11-12 12:07:09 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 4/30] 训练耗时: 14.82s | 平均训练准确率: 82.32
2025-11-12 12:07:25 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 5/30] 训练耗时: 15.68s | 平均训练准确率: 82.77
2025-11-12 12:07:40 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 6/30] 训练耗时: 14.77s | 平均训练准确率: 82.28
2025-11-12 12:07:54 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 7/30] 训练耗时: 14.71s | 平均训练准确率: 83.44
2025-11-12 12:08:12 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 8/30] 训练耗时: 18.19s | 平均训练准确率: 83.21
2025-11-12 12:08:28 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 9/30] 训练耗时: 15.22s | 平均训练准确率: 83.35
2025-11-12 12:08:42 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 10/30] 训练耗时: 14.75s | 平均训练准确率: 84.06
2025-11-12 12:08:57 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 11/30] 训练耗时: 14.84s | 平均训练准确率: 84.29
2025-11-12 12:09:12 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 12/30] 训练耗时: 15.08s | 平均训练准确率: 83.44
2025-11-12 12:09:27 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 13/30] 训练耗时: 14.43s | 平均训练准确率: 85.18
2025-11-12 12:09:42 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 14/30] 训练耗时: 15.15s | 平均训练准确率: 84.51
2025-11-12 12:09:57 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 15/30] 训练耗时: 14.55s | 平均训练准确率: 83.71
2025-11-12 12:10:11 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 16/30] 训练耗时: 14.81s | 平均训练准确率: 85.71
2025-11-12 12:10:26 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 17/30] 训练耗时: 14.35s | 平均训练准确率: 84.69
2025-11-12 12:10:40 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 18/30] 训练耗时: 14.05s | 平均训练准确率: 83.79
2025-11-12 12:10:54 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 19/30] 训练耗时: 14.26s | 平均训练准确率: 83.44
2025-11-12 12:11:09 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 20/30] 训练耗时: 14.64s | 平均训练准确率: 84.42
2025-11-12 12:11:23 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 21/30] 训练耗时: 14.24s | 平均训练准确率: 84.38
2025-11-12 12:11:37 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 22/30] 训练耗时: 14.24s | 平均训练准确率: 84.15
2025-11-12 12:11:51 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 23/30] 训练耗时: 14.10s | 平均训练准确率: 84.60
2025-11-12 12:12:06 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 24/30] 训练耗时: 14.62s | 平均训练准确率: 84.29
2025-11-12 12:12:20 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 25/30] 训练耗时: 14.41s | 平均训练准确率: 83.66
2025-11-12 12:12:34 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 26/30] 训练耗时: 14.09s | 平均训练准确率: 85.09
2025-11-12 12:12:55 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 27/30] 训练耗时: 20.43s | 平均训练准确率: 84.64
2025-11-12 12:13:09 - caltech-101_fedotp_8_0.0_1 - INFO - [Epoch 28/30] 训练耗时: 13.80s | 平均训练准确率: 85.40
2025-11-12 12:13:09 - caltech-101_fedotp_8_0.0_1 - INFO - ------------local test start-------------
2025-11-12 12:13:09 - caltech-101_fedotp_8_0.0_1 - INFO - Evaluate on the client0 local set
2025-11-12 12:13:11 - caltech-101_fedotp_8_0.0_1 - INFO - => result | total 399 | correct 340 | acc 85.21% | err 14.79% | macro_f1 85.41%
2025-11-12 12:13:11 - caltech-101_fedotp_8_0.0_1 - INFO - Evaluate on the client0 neighbor set
2025-11-12 12:13:21 - caltech-101_fedotp_8_0.0_1 - INFO - => result | total 2,066 | correct 1,936 | acc 93.71% | err 6.29% | macro_f1 90.79%
2025-11-12 12:13:21 - caltech-101_fedotp_8_0.0_1 - INFO - Evaluate on the client1 local set
2025-11-12 12:13:21 - caltech-101_fedotp_8_0.0_1 - INFO - => result | total 176 | correct 169 | acc 96.02% | err 3.98% | macro_f1 96.92%
2025-11-12 12:13:21 - caltech-101_fedotp_8_0.0_1 - INFO - Evaluate on the client1 neighbor set
