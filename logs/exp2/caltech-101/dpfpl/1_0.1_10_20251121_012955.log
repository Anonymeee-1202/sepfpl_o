2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | Loading trainer: DP_FPL
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | Loading dataset: Caltech101
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | Reading split from %s
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | Creating a baseline federated dataset
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | class_num %d
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | user class dict total %s
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | user class dict total %s
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | user class dict total %s
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | user class dict total %s
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | user class dict total %s
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | user class dict total %s
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | user class dict total %s
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | user class dict total %s
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | user class dict total %s
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | user class dict total %s
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | Creating a baseline federated dataset
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | class_num %d
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | user class dict total %s
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | user class dict total %s
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | user class dict total %s
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | user class dict total %s
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | user class dict total %s
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | user class dict total %s
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | user class dict total %s
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | user class dict total %s
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | user class dict total %s
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | user class dict total %s
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 01:29:56 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | Building custom CLIP
2025-11-21 01:29:56 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | Turning off gradients in both the image and the text encoder
2025-11-21 01:29:57 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [wandb] 正在初始化实验：project=SepFPL, name=caltech-101-dpfpl-rank1-noise0.1-seed1-users10-21/120, mode=online
2025-11-21 01:30:24 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 1/30] 训练耗时: 19.62s | 平均训练准确率: 53.21
2025-11-21 01:30:42 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 2/30] 训练耗时: 18.66s | 平均训练准确率: 54.29
2025-11-21 01:31:00 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 3/30] 训练耗时: 18.15s | 平均训练准确率: 53.17
2025-11-21 01:31:18 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 4/30] 训练耗时: 17.68s | 平均训练准确率: 52.14
2025-11-21 01:31:37 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 5/30] 训练耗时: 18.71s | 平均训练准确率: 53.26
2025-11-21 01:31:55 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 6/30] 训练耗时: 17.92s | 平均训练准确率: 53.44
2025-11-21 01:32:13 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 7/30] 训练耗时: 17.87s | 平均训练准确率: 52.99
2025-11-21 01:32:30 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 8/30] 训练耗时: 17.92s | 平均训练准确率: 53.21
2025-11-21 01:32:48 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 9/30] 训练耗时: 17.80s | 平均训练准确率: 53.93
2025-11-21 01:33:06 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 10/30] 训练耗时: 18.13s | 平均训练准确率: 53.57
2025-11-21 01:33:25 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 11/30] 训练耗时: 18.96s | 平均训练准确率: 53.17
2025-11-21 01:33:43 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 12/30] 训练耗时: 17.55s | 平均训练准确率: 51.83
2025-11-21 01:34:01 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 13/30] 训练耗时: 18.20s | 平均训练准确率: 54.20
2025-11-21 01:34:20 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 14/30] 训练耗时: 18.59s | 平均训练准确率: 54.42
2025-11-21 01:34:37 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 15/30] 训练耗时: 17.38s | 平均训练准确率: 53.93
2025-11-21 01:34:56 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 16/30] 训练耗时: 18.70s | 平均训练准确率: 53.84
2025-11-21 01:35:13 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 17/30] 训练耗时: 17.43s | 平均训练准确率: 52.50
2025-11-21 01:35:31 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 18/30] 训练耗时: 17.90s | 平均训练准确率: 53.17
2025-11-21 01:35:49 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 19/30] 训练耗时: 17.80s | 平均训练准确率: 54.69
2025-11-21 01:36:07 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 20/30] 训练耗时: 18.13s | 平均训练准确率: 53.08
2025-11-21 01:36:25 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 21/30] 训练耗时: 18.18s | 平均训练准确率: 52.81
2025-11-21 01:36:43 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 22/30] 训练耗时: 17.72s | 平均训练准确率: 53.84
2025-11-21 01:37:01 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 23/30] 训练耗时: 18.07s | 平均训练准确率: 53.08
2025-11-21 01:37:19 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 24/30] 训练耗时: 17.84s | 平均训练准确率: 54.11
2025-11-21 01:37:36 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 25/30] 训练耗时: 17.60s | 平均训练准确率: 54.06
2025-11-21 01:37:54 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 26/30] 训练耗时: 17.62s | 平均训练准确率: 53.75
2025-11-21 01:38:12 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 27/30] 训练耗时: 17.76s | 平均训练准确率: 54.24
2025-11-21 01:38:30 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 28/30] 训练耗时: 18.48s | 平均训练准确率: 53.39
2025-11-21 01:38:30 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | 
2025-11-21 01:38:30 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | ================================================================================
2025-11-21 01:38:30 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] |                     TEST START - Epoch 28/30
2025-11-21 01:38:30 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | ================================================================================
2025-11-21 01:38:30 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | 
2025-11-21 01:40:51 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    21.80 |      78.20 |    44.83 |
| Client 1 |    76.70 |      23.30 |    82.60 |
| Client 2 |    63.64 |      36.36 |    64.35 |
| Client 3 |    56.79 |      43.21 |    61.93 |
| Client 4 |    79.19 |      20.81 |    73.58 |
| Client 5 |    85.35 |      14.65 |    89.99 |
| Client 6 |    45.61 |      54.39 |    53.06 |
| Client 7 |    88.12 |      11.88 |    74.71 |
| Client 8 |    83.37 |      16.63 |    64.17 |
| Client 9 |    82.04 |      17.96 |    78.35 |
| Average  |    68.26 |      31.74 |    68.76 |
+----------+----------+------------+----------+

2025-11-21 01:40:51 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    76.96 |      23.04 |    64.45 |
| Client 1 |    67.32 |      32.68 |    57.94 |
| Client 2 |    68.11 |      31.89 |    60.85 |
| Client 3 |    68.48 |      31.52 |    59.38 |
| Client 4 |    66.31 |      33.69 |    57.02 |
| Client 5 |    66.07 |      33.93 |    56.69 |
| Client 6 |    68.74 |      31.26 |    59.44 |
| Client 7 |    63.12 |      36.88 |    58.07 |
| Client 8 |    63.85 |      36.15 |    58.39 |
| Client 9 |    65.74 |      34.26 |    56.93 |
| Average  |    67.47 |      32.53 |    58.92 |
+----------+----------+------------+----------+

2025-11-21 01:40:51 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | 
2025-11-21 01:40:51 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | ================================================================================
2025-11-21 01:40:51 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 01:40:51 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] |                     测试耗时: 141.03s
2025-11-21 01:40:51 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | ================================================================================
2025-11-21 01:40:51 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | 
2025-11-21 01:41:10 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 29/30] 训练耗时: 18.38s | 平均训练准确率: 58.71
2025-11-21 01:41:10 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | 
2025-11-21 01:41:10 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | ================================================================================
2025-11-21 01:41:10 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] |                     TEST START - Epoch 29/30
2025-11-21 01:41:10 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | ================================================================================
2025-11-21 01:41:10 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | 
2025-11-21 01:43:32 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    32.58 |      67.42 |    60.50 |
| Client 1 |    93.75 |       6.25 |    94.70 |
| Client 2 |    68.18 |      31.82 |    70.10 |
| Client 3 |    60.49 |      39.51 |    66.62 |
| Client 4 |    85.97 |      14.03 |    88.20 |
| Client 5 |    92.36 |       7.64 |    93.99 |
| Client 6 |    66.08 |      33.92 |    72.87 |
| Client 7 |    91.58 |       8.42 |    81.52 |
| Client 8 |    87.23 |      12.77 |    88.59 |
| Client 9 |    85.92 |      14.08 |    86.31 |
| Average  |    76.42 |      23.58 |    80.34 |
+----------+----------+------------+----------+

2025-11-21 01:43:32 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    85.53 |      14.47 |    79.55 |
| Client 1 |    75.27 |      24.73 |    72.95 |
| Client 2 |    76.81 |      23.19 |    75.87 |
| Client 3 |    77.07 |      22.93 |    75.16 |
| Client 4 |    74.64 |      25.36 |    72.09 |
| Client 5 |    74.44 |      25.56 |    70.70 |
| Client 6 |    75.94 |      24.06 |    72.98 |
| Client 7 |    72.05 |      27.95 |    72.09 |
| Client 8 |    72.73 |      27.27 |    70.77 |
| Client 9 |    73.88 |      26.12 |    71.40 |
| Average  |    75.84 |      24.16 |    73.36 |
+----------+----------+------------+----------+

2025-11-21 01:43:32 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | 
2025-11-21 01:43:32 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | ================================================================================
2025-11-21 01:43:32 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 01:43:32 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] |                     测试耗时: 141.93s
2025-11-21 01:43:32 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | ================================================================================
2025-11-21 01:43:32 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | 
2025-11-21 01:43:50 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | [Epoch 30/30] 训练耗时: 18.03s | 平均训练准确率: 65.13
2025-11-21 01:43:50 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | 
2025-11-21 01:43:50 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | ================================================================================
2025-11-21 01:43:50 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] |                     TEST START - Epoch 30/30
2025-11-21 01:43:50 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | ================================================================================
2025-11-21 01:43:50 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | 
2025-11-21 01:46:10 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    47.12 |      52.88 |    70.80 |
| Client 1 |    95.45 |       4.55 |    95.80 |
| Client 2 |    71.43 |      28.57 |    75.78 |
| Client 3 |    83.95 |      16.05 |    87.90 |
| Client 4 |    83.71 |      16.29 |    83.27 |
| Client 5 |    94.90 |       5.10 |    96.99 |
| Client 6 |    79.53 |      20.47 |    85.01 |
| Client 7 |    97.77 |       2.23 |    96.23 |
| Client 8 |    95.66 |       4.34 |    93.59 |
| Client 9 |    91.75 |       8.25 |    90.96 |
| Average  |    84.13 |      15.87 |    87.63 |
+----------+----------+------------+----------+

2025-11-21 01:46:10 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    90.85 |       9.15 |    86.26 |
| Client 1 |    82.83 |      17.17 |    81.73 |
| Client 2 |    84.68 |      15.32 |    84.52 |
| Client 3 |    83.67 |      16.33 |    82.17 |
| Client 4 |    83.38 |      16.62 |    82.09 |
| Client 5 |    82.45 |      17.55 |    80.61 |
| Client 6 |    83.26 |      16.74 |    81.21 |
| Client 7 |    79.82 |      20.18 |    79.90 |
| Client 8 |    80.10 |      19.90 |    78.89 |
| Client 9 |    81.81 |      18.19 |    80.22 |
| Average  |    83.28 |      16.72 |    81.76 |
+----------+----------+------------+----------+

2025-11-21 01:46:10 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | 
2025-11-21 01:46:10 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | ================================================================================
2025-11-21 01:46:10 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 01:46:10 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] |                     测试耗时: 140.79s
2025-11-21 01:46:10 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | ================================================================================
2025-11-21 01:46:10 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | 
2025-11-21 01:46:10 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | maximum test local acc: 84.128
2025-11-21 01:46:10 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | mean of local acc: 76.268
2025-11-21 01:46:10 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | maximum test neighbor acc: 83.285
2025-11-21 01:46:10 | INFO | caltech-101_dpfpl_1_0.1_10_[21/120] | mean of neighbor acc: 75.531
