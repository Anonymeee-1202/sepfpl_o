2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | Loading trainer: DP_FPL
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | Loading dataset: Caltech101
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | Reading split from %s
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | Creating a baseline federated dataset
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | class_num %d
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | user class dict total %s
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | user class dict total %s
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | user class dict total %s
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | user class dict total %s
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | user class dict total %s
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | user class dict total %s
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | user class dict total %s
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | user class dict total %s
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | user class dict total %s
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | user class dict total %s
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | Creating a baseline federated dataset
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | class_num %d
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | user class dict total %s
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | user class dict total %s
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | user class dict total %s
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | user class dict total %s
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | user class dict total %s
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | user class dict total %s
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | user class dict total %s
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | user class dict total %s
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | user class dict total %s
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | user class dict total %s
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:21 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 01:46:23 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | Building custom CLIP
2025-11-21 01:46:24 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | Turning off gradients in both the image and the text encoder
2025-11-21 01:46:24 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [wandb] 正在初始化实验：project=SepFPL, name=caltech-101-dpfpl-rank8-noise0.1-seed1-users10-24/120, mode=online
2025-11-21 01:46:50 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 1/30] 训练耗时: 19.62s | 平均训练准确率: 52.95
2025-11-21 01:47:08 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 2/30] 训练耗时: 18.31s | 平均训练准确率: 53.53
2025-11-21 01:47:26 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 3/30] 训练耗时: 18.01s | 平均训练准确率: 53.88
2025-11-21 01:47:44 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 4/30] 训练耗时: 18.31s | 平均训练准确率: 53.44
2025-11-21 01:48:02 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 5/30] 训练耗时: 17.65s | 平均训练准确率: 53.93
2025-11-21 01:48:19 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 6/30] 训练耗时: 17.61s | 平均训练准确率: 53.04
2025-11-21 01:48:37 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 7/30] 训练耗时: 17.76s | 平均训练准确率: 54.29
2025-11-21 01:48:55 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 8/30] 训练耗时: 18.00s | 平均训练准确率: 54.42
2025-11-21 01:49:13 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 9/30] 训练耗时: 17.98s | 平均训练准确率: 54.11
2025-11-21 01:49:31 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 10/30] 训练耗时: 17.87s | 平均训练准确率: 53.62
2025-11-21 01:49:48 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 11/30] 训练耗时: 17.44s | 平均训练准确率: 54.38
2025-11-21 01:50:06 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 12/30] 训练耗时: 18.03s | 平均训练准确率: 53.97
2025-11-21 01:50:25 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 13/30] 训练耗时: 18.34s | 平均训练准确率: 52.54
2025-11-21 01:50:43 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 14/30] 训练耗时: 17.72s | 平均训练准确率: 52.72
2025-11-21 01:51:00 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 15/30] 训练耗时: 17.61s | 平均训练准确率: 53.79
2025-11-21 01:51:18 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 16/30] 训练耗时: 17.76s | 平均训练准确率: 54.15
2025-11-21 01:51:36 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 17/30] 训练耗时: 18.03s | 平均训练准确率: 52.99
2025-11-21 01:51:54 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 18/30] 训练耗时: 17.85s | 平均训练准确率: 54.29
2025-11-21 01:52:11 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 19/30] 训练耗时: 17.50s | 平均训练准确率: 53.84
2025-11-21 01:52:29 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 20/30] 训练耗时: 17.71s | 平均训练准确率: 53.30
2025-11-21 01:52:47 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 21/30] 训练耗时: 17.83s | 平均训练准确率: 54.24
2025-11-21 01:53:04 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 22/30] 训练耗时: 17.61s | 平均训练准确率: 53.44
2025-11-21 01:53:22 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 23/30] 训练耗时: 17.69s | 平均训练准确率: 52.46
2025-11-21 01:53:40 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 24/30] 训练耗时: 17.72s | 平均训练准确率: 53.57
2025-11-21 01:53:57 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 25/30] 训练耗时: 17.42s | 平均训练准确率: 53.79
2025-11-21 01:54:15 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 26/30] 训练耗时: 18.00s | 平均训练准确率: 54.20
2025-11-21 01:54:33 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 27/30] 训练耗时: 18.18s | 平均训练准确率: 54.06
2025-11-21 01:54:52 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 28/30] 训练耗时: 18.16s | 平均训练准确率: 53.66
2025-11-21 01:54:52 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | 
2025-11-21 01:54:52 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | ================================================================================
2025-11-21 01:54:52 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] |                     TEST START - Epoch 28/30
2025-11-21 01:54:52 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | ================================================================================
2025-11-21 01:54:52 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | 
2025-11-21 01:57:14 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    21.30 |      78.70 |    45.75 |
| Client 1 |    65.91 |      34.09 |    71.33 |
| Client 2 |    61.69 |      38.31 |    63.14 |
| Client 3 |    45.68 |      54.32 |    48.41 |
| Client 4 |    80.09 |      19.91 |    75.70 |
| Client 5 |    82.17 |      17.83 |    84.82 |
| Client 6 |    39.18 |      60.82 |    47.67 |
| Client 7 |    86.14 |      13.86 |    71.13 |
| Client 8 |    81.45 |      18.55 |    61.88 |
| Client 9 |    77.67 |      22.33 |    77.07 |
| Average  |    64.13 |      35.87 |    64.69 |
+----------+----------+------------+----------+

2025-11-21 01:57:14 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    74.64 |      25.36 |    60.76 |
| Client 1 |    65.49 |      34.51 |    54.46 |
| Client 2 |    65.25 |      34.75 |    56.30 |
| Client 3 |    66.17 |      33.83 |    56.30 |
| Client 4 |    63.01 |      36.99 |    52.65 |
| Client 5 |    63.00 |      37.00 |    53.10 |
| Client 6 |    66.09 |      33.91 |    55.77 |
| Client 7 |    59.97 |      40.03 |    54.37 |
| Client 8 |    60.73 |      39.27 |    54.57 |
| Client 9 |    63.08 |      36.92 |    53.06 |
| Average  |    64.74 |      35.26 |    55.13 |
+----------+----------+------------+----------+

2025-11-21 01:57:14 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | 
2025-11-21 01:57:14 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | ================================================================================
2025-11-21 01:57:14 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 01:57:14 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] |                     测试耗时: 142.55s
2025-11-21 01:57:14 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | ================================================================================
2025-11-21 01:57:14 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | 
2025-11-21 01:57:32 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 29/30] 训练耗时: 18.31s | 平均训练准确率: 57.10
2025-11-21 01:57:32 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | 
2025-11-21 01:57:32 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | ================================================================================
2025-11-21 01:57:32 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] |                     TEST START - Epoch 29/30
2025-11-21 01:57:32 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | ================================================================================
2025-11-21 01:57:32 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | 
2025-11-21 01:59:54 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    37.34 |      62.66 |    55.06 |
| Client 1 |    83.52 |      16.48 |    88.00 |
| Client 2 |    68.18 |      31.82 |    70.98 |
| Client 3 |    64.20 |      35.80 |    66.54 |
| Client 4 |    82.35 |      17.65 |    81.64 |
| Client 5 |    91.72 |       8.28 |    93.74 |
| Client 6 |    54.97 |      45.03 |    58.93 |
| Client 7 |    91.09 |       8.91 |    79.03 |
| Client 8 |    89.16 |      10.84 |    80.96 |
| Client 9 |    83.98 |      16.02 |    81.93 |
| Average  |    74.65 |      25.35 |    75.68 |
+----------+----------+------------+----------+

2025-11-21 01:59:54 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    81.22 |      18.78 |    71.11 |
| Client 1 |    72.61 |      27.39 |    65.67 |
| Client 2 |    73.86 |      26.14 |    68.95 |
| Client 3 |    74.21 |      25.79 |    68.62 |
| Client 4 |    72.73 |      27.27 |    66.80 |
| Client 5 |    72.31 |      27.69 |    65.55 |
| Client 6 |    75.33 |      24.67 |    70.48 |
| Client 7 |    70.94 |      29.06 |    68.05 |
| Client 8 |    71.32 |      28.68 |    67.20 |
| Client 9 |    73.62 |      26.38 |    68.18 |
| Average  |    73.81 |      26.19 |    68.06 |
+----------+----------+------------+----------+

2025-11-21 01:59:54 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | 
2025-11-21 01:59:54 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | ================================================================================
2025-11-21 01:59:54 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 01:59:54 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] |                     测试耗时: 141.95s
2025-11-21 01:59:54 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | ================================================================================
2025-11-21 01:59:54 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | 
2025-11-21 02:00:12 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | [Epoch 30/30] 训练耗时: 17.76s | 平均训练准确率: 66.16
2025-11-21 02:00:12 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | 
2025-11-21 02:00:12 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | ================================================================================
2025-11-21 02:00:12 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] |                     TEST START - Epoch 30/30
2025-11-21 02:00:12 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | ================================================================================
2025-11-21 02:00:12 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | 
2025-11-21 02:02:33 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    32.33 |      67.67 |    59.19 |
| Client 1 |    91.48 |       8.52 |    92.55 |
| Client 2 |    67.53 |      32.47 |    69.70 |
| Client 3 |    69.75 |      30.25 |    76.01 |
| Client 4 |    91.86 |       8.14 |    92.76 |
| Client 5 |    92.99 |       7.01 |    96.03 |
| Client 6 |    80.70 |      19.30 |    85.63 |
| Client 7 |    94.55 |       5.45 |    88.54 |
| Client 8 |    93.98 |       6.02 |    91.07 |
| Client 9 |    87.86 |      12.14 |    89.03 |
| Average  |    80.30 |      19.70 |    84.05 |
+----------+----------+------------+----------+

2025-11-21 02:02:33 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    87.32 |      12.68 |    80.73 |
| Client 1 |    77.46 |      22.54 |    74.25 |
| Client 2 |    79.58 |      20.42 |    78.63 |
| Client 3 |    78.98 |      21.02 |    76.14 |
| Client 4 |    76.87 |      23.13 |    74.96 |
| Client 5 |    77.04 |      22.96 |    74.52 |
| Client 6 |    77.68 |      22.32 |    74.92 |
| Client 7 |    74.43 |      25.57 |    74.41 |
| Client 8 |    74.05 |      25.95 |    72.85 |
| Client 9 |    76.41 |      23.59 |    73.91 |
| Average  |    77.98 |      22.02 |    75.53 |
+----------+----------+------------+----------+

2025-11-21 02:02:33 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | 
2025-11-21 02:02:33 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | ================================================================================
2025-11-21 02:02:33 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 02:02:33 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] |                     测试耗时: 141.06s
2025-11-21 02:02:33 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | ================================================================================
2025-11-21 02:02:33 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | 
2025-11-21 02:02:33 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | maximum test local acc: 80.304
2025-11-21 02:02:33 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | mean of local acc: 73.028
2025-11-21 02:02:33 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | maximum test neighbor acc: 77.981
2025-11-21 02:02:33 | INFO | caltech-101_dpfpl_8_0.1_10_[24/120] | mean of neighbor acc: 72.179
