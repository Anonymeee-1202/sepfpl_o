2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | Loading trainer: DP_FPL
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | Loading dataset: Caltech101
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | Reading split from %s
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | Creating a baseline federated dataset
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | class_num %d
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | user class dict total %s
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | idx: %s, output_dict_len: %d
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | user class dict total %s
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | idx: %s, output_dict_len: %d
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | user class dict total %s
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | idx: %s, output_dict_len: %d
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | user class dict total %s
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | idx: %s, output_dict_len: %d
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | user class dict total %s
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | idx: %s, output_dict_len: %d
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | user class dict total %s
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | idx: %s, output_dict_len: %d
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | user class dict total %s
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | idx: %s, output_dict_len: %d
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | user class dict total %s
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | idx: %s, output_dict_len: %d
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | user class dict total %s
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | idx: %s, output_dict_len: %d
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | user class dict total %s
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | idx: %s, output_dict_len: %d
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | Creating a baseline federated dataset
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | class_num %d
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | user class dict total %s
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | idx: %s, output_dict_len: %d
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | user class dict total %s
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | idx: %s, output_dict_len: %d
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | user class dict total %s
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | idx: %s, output_dict_len: %d
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | user class dict total %s
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | idx: %s, output_dict_len: %d
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | user class dict total %s
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | idx: %s, output_dict_len: %d
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | user class dict total %s
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | idx: %s, output_dict_len: %d
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | user class dict total %s
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | idx: %s, output_dict_len: %d
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | user class dict total %s
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | idx: %s, output_dict_len: %d
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | user class dict total %s
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | idx: %s, output_dict_len: %d
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | user class dict total %s
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | idx: %s, output_dict_len: %d
2025-11-21 03:12:20 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 03:12:22 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | Building custom CLIP
2025-11-21 03:12:22 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | Turning off gradients in both the image and the text encoder
2025-11-21 03:12:23 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [wandb] 正在初始化实验：project=SepFPL, name=caltech-101-dpfpl-rank8-noise0.01-seed1-users10-44/120, mode=online
2025-11-21 03:12:47 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 1/30] 训练耗时: 19.16s | 平均训练准确率: 52.95
2025-11-21 03:13:05 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 2/30] 训练耗时: 18.09s | 平均训练准确率: 53.53
2025-11-21 03:13:24 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 3/30] 训练耗时: 18.58s | 平均训练准确率: 53.88
2025-11-21 03:13:42 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 4/30] 训练耗时: 17.70s | 平均训练准确率: 53.44
2025-11-21 03:14:00 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 5/30] 训练耗时: 18.38s | 平均训练准确率: 53.93
2025-11-21 03:14:18 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 6/30] 训练耗时: 18.10s | 平均训练准确率: 53.04
2025-11-21 03:14:36 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 7/30] 训练耗时: 17.69s | 平均训练准确率: 54.29
2025-11-21 03:14:54 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 8/30] 训练耗时: 17.75s | 平均训练准确率: 54.42
2025-11-21 03:15:12 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 9/30] 训练耗时: 18.19s | 平均训练准确率: 54.11
2025-11-21 03:15:30 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 10/30] 训练耗时: 18.15s | 平均训练准确率: 53.62
2025-11-21 03:15:48 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 11/30] 训练耗时: 18.01s | 平均训练准确率: 54.38
2025-11-21 03:16:06 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 12/30] 训练耗时: 17.66s | 平均训练准确率: 53.97
2025-11-21 03:16:24 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 13/30] 训练耗时: 18.36s | 平均训练准确率: 52.54
2025-11-21 03:16:42 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 14/30] 训练耗时: 17.67s | 平均训练准确率: 52.72
2025-11-21 03:16:59 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 15/30] 训练耗时: 17.59s | 平均训练准确率: 53.79
2025-11-21 03:17:17 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 16/30] 训练耗时: 17.42s | 平均训练准确率: 54.15
2025-11-21 03:17:35 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 17/30] 训练耗时: 18.53s | 平均训练准确率: 52.99
2025-11-21 03:17:53 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 18/30] 训练耗时: 17.96s | 平均训练准确率: 54.29
2025-11-21 03:18:11 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 19/30] 训练耗时: 18.25s | 平均训练准确率: 53.84
2025-11-21 03:18:30 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 20/30] 训练耗时: 18.56s | 平均训练准确率: 53.30
2025-11-21 03:18:48 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 21/30] 训练耗时: 17.97s | 平均训练准确率: 54.24
2025-11-21 03:19:06 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 22/30] 训练耗时: 17.60s | 平均训练准确率: 53.44
2025-11-21 03:19:23 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 23/30] 训练耗时: 17.40s | 平均训练准确率: 52.46
2025-11-21 03:19:41 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 24/30] 训练耗时: 17.74s | 平均训练准确率: 53.57
2025-11-21 03:20:00 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 25/30] 训练耗时: 18.88s | 平均训练准确率: 53.79
2025-11-21 03:20:19 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 26/30] 训练耗时: 19.50s | 平均训练准确率: 54.20
2025-11-21 03:20:38 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 27/30] 训练耗时: 18.70s | 平均训练准确率: 54.06
2025-11-21 03:20:57 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 28/30] 训练耗时: 18.72s | 平均训练准确率: 53.66
2025-11-21 03:20:57 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | 
2025-11-21 03:20:57 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | ================================================================================
2025-11-21 03:20:57 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] |                     TEST START - Epoch 28/30
2025-11-21 03:20:57 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | ================================================================================
2025-11-21 03:20:57 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | 
2025-11-21 03:23:18 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    23.81 |      76.19 |    50.53 |
| Client 1 |    65.91 |      34.09 |    71.66 |
| Client 2 |    54.55 |      45.45 |    59.70 |
| Client 3 |    42.59 |      57.41 |    38.99 |
| Client 4 |    77.38 |      22.62 |    71.92 |
| Client 5 |    68.79 |      31.21 |    70.16 |
| Client 6 |    26.32 |      73.68 |    30.65 |
| Client 7 |    84.16 |      15.84 |    61.46 |
| Client 8 |    80.24 |      19.76 |    65.83 |
| Client 9 |    69.90 |      30.10 |    70.52 |
| Average  |    59.36 |      40.64 |    59.14 |
+----------+----------+------------+----------+

2025-11-21 03:23:18 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    70.76 |      29.24 |    55.95 |
| Client 1 |    60.99 |      39.01 |    47.17 |
| Client 2 |    60.49 |      39.51 |    47.76 |
| Client 3 |    60.88 |      39.12 |    48.06 |
| Client 4 |    57.71 |      42.29 |    43.98 |
| Client 5 |    58.62 |      41.38 |    46.47 |
| Client 6 |    61.86 |      38.14 |    50.40 |
| Client 7 |    54.88 |      45.12 |    48.39 |
| Client 8 |    55.85 |      44.15 |    47.63 |
| Client 9 |    60.03 |      39.97 |    48.17 |
| Average  |    60.21 |      39.79 |    48.40 |
+----------+----------+------------+----------+

2025-11-21 03:23:18 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | 
2025-11-21 03:23:18 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | ================================================================================
2025-11-21 03:23:18 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 03:23:18 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] |                     测试耗时: 141.03s
2025-11-21 03:23:18 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | ================================================================================
2025-11-21 03:23:18 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | 
2025-11-21 03:23:36 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 29/30] 训练耗时: 18.80s | 平均训练准确率: 53.71
2025-11-21 03:23:36 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | 
2025-11-21 03:23:36 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | ================================================================================
2025-11-21 03:23:36 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] |                     TEST START - Epoch 29/30
2025-11-21 03:23:36 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | ================================================================================
2025-11-21 03:23:36 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | 
2025-11-21 03:25:58 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    45.11 |      54.89 |    57.66 |
| Client 1 |    74.43 |      25.57 |    81.09 |
| Client 2 |    66.23 |      33.77 |    67.05 |
| Client 3 |    56.79 |      43.21 |    57.71 |
| Client 4 |    80.09 |      19.91 |    74.82 |
| Client 5 |    83.44 |      16.56 |    84.80 |
| Client 6 |    45.03 |      54.97 |    51.17 |
| Client 7 |    92.08 |       7.92 |    82.61 |
| Client 8 |    86.51 |      13.49 |    70.63 |
| Client 9 |    86.89 |      13.11 |    84.41 |
| Average  |    71.66 |      28.34 |    71.20 |
+----------+----------+------------+----------+

2025-11-21 03:25:58 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    78.94 |      21.06 |    67.50 |
| Client 1 |    70.42 |      29.58 |    62.01 |
| Client 2 |    70.53 |      29.47 |    63.31 |
| Client 3 |    72.43 |      27.57 |    63.09 |
| Client 4 |    70.99 |      29.01 |    60.90 |
| Client 5 |    71.27 |      28.73 |    60.13 |
| Client 6 |    74.02 |      25.98 |    64.04 |
| Client 7 |    68.51 |      31.49 |    61.12 |
| Client 8 |    71.76 |      28.24 |    64.89 |
| Client 9 |    73.79 |      26.21 |    65.08 |
| Average  |    72.27 |      27.73 |    63.21 |
+----------+----------+------------+----------+

2025-11-21 03:25:58 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | 
2025-11-21 03:25:58 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | ================================================================================
2025-11-21 03:25:58 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 03:25:58 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] |                     测试耗时: 141.79s
2025-11-21 03:25:58 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | ================================================================================
2025-11-21 03:25:58 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | 
2025-11-21 03:26:17 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | [Epoch 30/30] 训练耗时: 18.88s | 平均训练准确率: 61.29
2025-11-21 03:26:17 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | 
2025-11-21 03:26:17 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | ================================================================================
2025-11-21 03:26:17 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] |                     TEST START - Epoch 30/30
2025-11-21 03:26:17 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | ================================================================================
2025-11-21 03:26:17 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | 
2025-11-21 03:28:34 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    44.86 |      55.14 |    68.24 |
| Client 1 |    92.05 |       7.95 |    93.57 |
| Client 2 |    65.58 |      34.42 |    66.62 |
| Client 3 |    63.58 |      36.42 |    68.95 |
| Client 4 |    90.50 |       9.50 |    86.81 |
| Client 5 |    91.08 |       8.92 |    93.68 |
| Client 6 |    80.70 |      19.30 |    88.61 |
| Client 7 |    90.59 |       9.41 |    80.71 |
| Client 8 |    88.67 |      11.33 |    77.71 |
| Client 9 |    91.75 |       8.25 |    88.07 |
| Average  |    79.94 |      20.06 |    81.30 |
+----------+----------+------------+----------+

2025-11-21 03:28:34 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    81.66 |      18.34 |    72.20 |
| Client 1 |    72.91 |      27.09 |    64.24 |
| Client 2 |    75.34 |      24.66 |    68.38 |
| Client 3 |    77.64 |      22.36 |    69.44 |
| Client 4 |    76.38 |      23.62 |    69.41 |
| Client 5 |    77.77 |      22.23 |    69.97 |
| Client 6 |    78.81 |      21.19 |    71.04 |
| Client 7 |    77.24 |      22.76 |    72.69 |
| Client 8 |    78.24 |      21.76 |    73.60 |
| Client 9 |    79.86 |      20.14 |    74.97 |
| Average  |    77.59 |      22.41 |    70.59 |
+----------+----------+------------+----------+

2025-11-21 03:28:34 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | 
2025-11-21 03:28:34 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | ================================================================================
2025-11-21 03:28:34 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 03:28:34 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] |                     测试耗时: 136.89s
2025-11-21 03:28:34 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | ================================================================================
2025-11-21 03:28:34 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | 
2025-11-21 03:28:34 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | maximum test local acc: 79.937
2025-11-21 03:28:34 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | mean of local acc: 70.321
2025-11-21 03:28:34 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | maximum test neighbor acc: 77.586
2025-11-21 03:28:34 | INFO | caltech-101_dpfpl_8_0.01_10_[44/120] | mean of neighbor acc: 70.020
