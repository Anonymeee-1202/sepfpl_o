2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | Loading trainer: DP_FPL
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | Loading dataset: Caltech101
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | Reading split from %s
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | Creating a baseline federated dataset
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | class_num %d
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | user class dict total %s
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | idx: %s, output_dict_len: %d
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | user class dict total %s
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | idx: %s, output_dict_len: %d
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | user class dict total %s
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | idx: %s, output_dict_len: %d
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | user class dict total %s
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | idx: %s, output_dict_len: %d
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | user class dict total %s
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | idx: %s, output_dict_len: %d
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | user class dict total %s
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | idx: %s, output_dict_len: %d
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | user class dict total %s
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | idx: %s, output_dict_len: %d
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | user class dict total %s
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | idx: %s, output_dict_len: %d
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | user class dict total %s
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | idx: %s, output_dict_len: %d
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | user class dict total %s
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | idx: %s, output_dict_len: %d
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | Creating a baseline federated dataset
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | class_num %d
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | user class dict total %s
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | idx: %s, output_dict_len: %d
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | user class dict total %s
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | idx: %s, output_dict_len: %d
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | user class dict total %s
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | idx: %s, output_dict_len: %d
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | user class dict total %s
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | idx: %s, output_dict_len: %d
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | user class dict total %s
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | idx: %s, output_dict_len: %d
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | user class dict total %s
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | idx: %s, output_dict_len: %d
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | user class dict total %s
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | idx: %s, output_dict_len: %d
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | user class dict total %s
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | idx: %s, output_dict_len: %d
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | user class dict total %s
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | idx: %s, output_dict_len: %d
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | user class dict total %s
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | idx: %s, output_dict_len: %d
2025-11-21 02:03:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 02:03:01 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | Building custom CLIP
2025-11-21 02:03:01 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | Turning off gradients in both the image and the text encoder
2025-11-21 02:03:02 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [wandb] 正在初始化实验：project=SepFPL, name=caltech-101-dpfpl-rank16-noise0.1-seed1-users10-25/120, mode=online
2025-11-21 02:03:27 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 1/30] 训练耗时: 20.12s | 平均训练准确率: 54.55
2025-11-21 02:03:46 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 2/30] 训练耗时: 19.02s | 平均训练准确率: 52.46
2025-11-21 02:04:05 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 3/30] 训练耗时: 18.96s | 平均训练准确率: 53.57
2025-11-21 02:04:24 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 4/30] 训练耗时: 18.80s | 平均训练准确率: 53.57
2025-11-21 02:04:43 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 5/30] 训练耗时: 18.83s | 平均训练准确率: 53.35
2025-11-21 02:05:03 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 6/30] 训练耗时: 19.64s | 平均训练准确率: 54.82
2025-11-21 02:05:21 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 7/30] 训练耗时: 18.70s | 平均训练准确率: 54.29
2025-11-21 02:05:40 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 8/30] 训练耗时: 18.99s | 平均训练准确率: 53.97
2025-11-21 02:05:58 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 9/30] 训练耗时: 17.46s | 平均训练准确率: 53.44
2025-11-21 02:06:16 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 10/30] 训练耗时: 18.28s | 平均训练准确率: 53.48
2025-11-21 02:06:35 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 11/30] 训练耗时: 18.51s | 平均训练准确率: 53.57
2025-11-21 02:06:53 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 12/30] 训练耗时: 18.35s | 平均训练准确率: 54.87
2025-11-21 02:07:10 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 13/30] 训练耗时: 17.48s | 平均训练准确率: 54.20
2025-11-21 02:07:28 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 14/30] 训练耗时: 18.10s | 平均训练准确率: 53.88
2025-11-21 02:07:47 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 15/30] 训练耗时: 18.21s | 平均训练准确率: 53.71
2025-11-21 02:08:05 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 16/30] 训练耗时: 17.90s | 平均训练准确率: 53.48
2025-11-21 02:08:23 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 17/30] 训练耗时: 18.88s | 平均训练准确率: 53.97
2025-11-21 02:08:42 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 18/30] 训练耗时: 19.02s | 平均训练准确率: 52.54
2025-11-21 02:09:00 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 19/30] 训练耗时: 17.95s | 平均训练准确率: 52.54
2025-11-21 02:09:19 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 20/30] 训练耗时: 18.16s | 平均训练准确率: 53.71
2025-11-21 02:09:36 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 21/30] 训练耗时: 17.77s | 平均训练准确率: 55.04
2025-11-21 02:09:54 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 22/30] 训练耗时: 17.65s | 平均训练准确率: 53.75
2025-11-21 02:10:12 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 23/30] 训练耗时: 17.79s | 平均训练准确率: 53.17
2025-11-21 02:10:30 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 24/30] 训练耗时: 17.81s | 平均训练准确率: 53.62
2025-11-21 02:10:48 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 25/30] 训练耗时: 18.60s | 平均训练准确率: 52.95
2025-11-21 02:11:06 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 26/30] 训练耗时: 17.85s | 平均训练准确率: 53.75
2025-11-21 02:11:24 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 27/30] 训练耗时: 18.21s | 平均训练准确率: 54.20
2025-11-21 02:11:42 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 28/30] 训练耗时: 18.01s | 平均训练准确率: 52.37
2025-11-21 02:11:42 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | 
2025-11-21 02:11:42 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | ================================================================================
2025-11-21 02:11:42 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] |                     TEST START - Epoch 28/30
2025-11-21 02:11:42 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | ================================================================================
2025-11-21 02:11:42 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | 
2025-11-21 02:14:02 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    22.06 |      77.94 |    47.32 |
| Client 1 |    83.52 |      16.48 |    88.03 |
| Client 2 |    64.94 |      35.06 |    65.01 |
| Client 3 |    51.85 |      48.15 |    58.83 |
| Client 4 |    81.45 |      18.55 |    78.45 |
| Client 5 |    89.17 |      10.83 |    92.24 |
| Client 6 |    47.95 |      52.05 |    54.09 |
| Client 7 |    88.61 |      11.39 |    74.86 |
| Client 8 |    84.34 |      15.66 |    70.66 |
| Client 9 |    82.52 |      17.48 |    78.53 |
| Average  |    69.64 |      30.36 |    70.80 |
+----------+----------+------------+----------+

2025-11-21 02:14:02 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    80.40 |      19.60 |    69.11 |
| Client 1 |    69.20 |      30.80 |    61.20 |
| Client 2 |    69.84 |      30.16 |    63.96 |
| Client 3 |    70.34 |      29.66 |    62.27 |
| Client 4 |    67.38 |      32.62 |    59.09 |
| Client 5 |    66.90 |      33.10 |    58.22 |
| Client 6 |    69.44 |      30.56 |    61.09 |
| Client 7 |    63.46 |      36.54 |    59.31 |
| Client 8 |    64.05 |      35.95 |    58.73 |
| Client 9 |    65.91 |      34.09 |    57.96 |
| Average  |    68.69 |      31.31 |    61.09 |
+----------+----------+------------+----------+

2025-11-21 02:14:02 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | 
2025-11-21 02:14:02 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | ================================================================================
2025-11-21 02:14:02 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 02:14:02 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] |                     测试耗时: 139.29s
2025-11-21 02:14:02 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | ================================================================================
2025-11-21 02:14:02 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | 
2025-11-21 02:14:19 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 29/30] 训练耗时: 17.67s | 平均训练准确率: 62.01
2025-11-21 02:14:19 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | 
2025-11-21 02:14:19 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | ================================================================================
2025-11-21 02:14:19 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] |                     TEST START - Epoch 29/30
2025-11-21 02:14:19 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | ================================================================================
2025-11-21 02:14:19 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | 
2025-11-21 02:16:40 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    35.34 |      64.66 |    61.46 |
| Client 1 |    93.75 |       6.25 |    94.25 |
| Client 2 |    70.13 |      29.87 |    74.08 |
| Client 3 |    62.96 |      37.04 |    67.79 |
| Client 4 |    88.69 |      11.31 |    89.78 |
| Client 5 |    93.63 |       6.37 |    95.26 |
| Client 6 |    75.44 |      24.56 |    80.78 |
| Client 7 |    92.57 |       7.43 |    83.87 |
| Client 8 |    93.25 |       6.75 |    93.25 |
| Client 9 |    89.32 |      10.68 |    91.04 |
| Average  |    79.51 |      20.49 |    83.16 |
+----------+----------+------------+----------+

2025-11-21 02:16:40 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    86.83 |      13.17 |    80.89 |
| Client 1 |    77.76 |      22.24 |    75.91 |
| Client 2 |    79.32 |      20.68 |    78.72 |
| Client 3 |    79.72 |      20.28 |    78.89 |
| Client 4 |    77.50 |      22.50 |    76.36 |
| Client 5 |    77.25 |      22.75 |    75.23 |
| Client 6 |    78.12 |      21.88 |    76.54 |
| Client 7 |    74.82 |      25.18 |    75.71 |
| Client 8 |    74.34 |      25.66 |    73.70 |
| Client 9 |    76.32 |      23.68 |    75.28 |
| Average  |    78.20 |      21.80 |    76.72 |
+----------+----------+------------+----------+

2025-11-21 02:16:40 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | 
2025-11-21 02:16:40 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | ================================================================================
2025-11-21 02:16:40 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 02:16:40 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] |                     测试耗时: 140.53s
2025-11-21 02:16:40 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | ================================================================================
2025-11-21 02:16:40 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | 
2025-11-21 02:16:59 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | [Epoch 30/30] 训练耗时: 18.97s | 平均训练准确率: 68.57
2025-11-21 02:16:59 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | 
2025-11-21 02:16:59 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | ================================================================================
2025-11-21 02:16:59 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] |                     TEST START - Epoch 30/30
2025-11-21 02:16:59 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | ================================================================================
2025-11-21 02:16:59 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | 
2025-11-21 02:19:22 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    45.36 |      54.64 |    70.46 |
| Client 1 |    94.89 |       5.11 |    95.79 |
| Client 2 |    70.13 |      29.87 |    73.56 |
| Client 3 |    73.46 |      26.54 |    79.86 |
| Client 4 |    90.95 |       9.05 |    89.33 |
| Client 5 |    94.27 |       5.73 |    95.55 |
| Client 6 |    84.80 |      15.20 |    88.02 |
| Client 7 |    96.04 |       3.96 |    91.59 |
| Client 8 |    96.87 |       3.13 |    95.60 |
| Client 9 |    92.23 |       7.77 |    92.63 |
| Average  |    83.90 |      16.10 |    87.24 |
+----------+----------+------------+----------+

2025-11-21 02:19:22 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    89.93 |      10.07 |    84.58 |
| Client 1 |    81.91 |      18.09 |    79.82 |
| Client 2 |    83.73 |      16.27 |    82.89 |
| Client 3 |    83.76 |      16.24 |    81.54 |
| Client 4 |    82.40 |      17.60 |    80.87 |
| Client 5 |    81.98 |      18.02 |    80.08 |
| Client 6 |    82.56 |      17.44 |    80.37 |
| Client 7 |    80.06 |      19.94 |    80.22 |
| Client 8 |    79.27 |      20.73 |    78.39 |
| Client 9 |    81.23 |      18.77 |    80.10 |
| Average  |    82.68 |      17.32 |    80.88 |
+----------+----------+------------+----------+

2025-11-21 02:19:22 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | 
2025-11-21 02:19:22 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | ================================================================================
2025-11-21 02:19:22 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 02:19:22 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] |                     测试耗时: 143.31s
2025-11-21 02:19:22 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | ================================================================================
2025-11-21 02:19:22 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | 
2025-11-21 02:19:22 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | maximum test local acc: 83.899
2025-11-21 02:19:22 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | mean of local acc: 77.683
2025-11-21 02:19:22 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | maximum test neighbor acc: 82.683
2025-11-21 02:19:22 | INFO | caltech-101_dpfpl_16_0.1_10_[25/120] | mean of neighbor acc: 76.524
