2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | Loading trainer: DP_FPL
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | Loading dataset: Caltech101
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | Reading split from %s
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | Creating a baseline federated dataset
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | class_num %d
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | user class dict total %s
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | user class dict total %s
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | user class dict total %s
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | user class dict total %s
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | user class dict total %s
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | user class dict total %s
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | user class dict total %s
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | user class dict total %s
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | user class dict total %s
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | user class dict total %s
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | Creating a baseline federated dataset
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | class_num %d
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | user class dict total %s
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | user class dict total %s
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | user class dict total %s
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | user class dict total %s
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | user class dict total %s
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | user class dict total %s
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | user class dict total %s
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | user class dict total %s
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | user class dict total %s
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | user class dict total %s
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | idx: %s, output_dict_len: %d
2025-11-21 01:46:27 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 01:46:29 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | Building custom CLIP
2025-11-21 01:46:29 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | Turning off gradients in both the image and the text encoder
2025-11-21 01:46:29 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [wandb] 正在初始化实验：project=SepFPL, name=caltech-101-dpfpl-rank4-noise0.1-seed1-users10-23/120, mode=online
2025-11-21 01:46:55 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 1/30] 训练耗时: 19.59s | 平均训练准确率: 54.82
2025-11-21 01:47:13 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 2/30] 训练耗时: 18.35s | 平均训练准确率: 52.90
2025-11-21 01:47:32 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 3/30] 训练耗时: 18.82s | 平均训练准确率: 53.57
2025-11-21 01:47:50 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 4/30] 训练耗时: 17.91s | 平均训练准确率: 53.97
2025-11-21 01:48:08 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 5/30] 训练耗时: 17.64s | 平均训练准确率: 54.55
2025-11-21 01:48:25 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 6/30] 训练耗时: 17.60s | 平均训练准确率: 52.50
2025-11-21 01:48:43 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 7/30] 训练耗时: 17.89s | 平均训练准确率: 53.44
2025-11-21 01:49:02 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 8/30] 训练耗时: 18.73s | 平均训练准确率: 53.35
2025-11-21 01:49:20 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 9/30] 训练耗时: 18.13s | 平均训练准确率: 54.02
2025-11-21 01:49:38 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 10/30] 训练耗时: 17.52s | 平均训练准确率: 52.77
2025-11-21 01:49:55 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 11/30] 训练耗时: 17.64s | 平均训练准确率: 54.69
2025-11-21 01:50:13 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 12/30] 训练耗时: 17.81s | 平均训练准确率: 54.20
2025-11-21 01:50:31 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 13/30] 训练耗时: 17.75s | 平均训练准确率: 55.13
2025-11-21 01:50:49 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 14/30] 训练耗时: 18.65s | 平均训练准确率: 53.44
2025-11-21 01:51:07 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 15/30] 训练耗时: 17.49s | 平均训练准确率: 53.53
2025-11-21 01:51:26 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 16/30] 训练耗时: 18.51s | 平均训练准确率: 53.44
2025-11-21 01:51:43 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 17/30] 训练耗时: 17.89s | 平均训练准确率: 53.93
2025-11-21 01:52:01 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 18/30] 训练耗时: 17.61s | 平均训练准确率: 52.95
2025-11-21 01:52:19 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 19/30] 训练耗时: 17.59s | 平均训练准确率: 53.57
2025-11-21 01:52:37 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 20/30] 训练耗时: 17.96s | 平均训练准确率: 53.44
2025-11-21 01:52:55 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 21/30] 训练耗时: 18.22s | 平均训练准确率: 53.35
2025-11-21 01:53:13 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 22/30] 训练耗时: 17.76s | 平均训练准确率: 53.75
2025-11-21 01:53:30 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 23/30] 训练耗时: 17.59s | 平均训练准确率: 53.97
2025-11-21 01:53:48 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 24/30] 训练耗时: 17.60s | 平均训练准确率: 54.02
2025-11-21 01:54:05 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 25/30] 训练耗时: 17.42s | 平均训练准确率: 53.12
2025-11-21 01:54:23 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 26/30] 训练耗时: 18.26s | 平均训练准确率: 53.88
2025-11-21 01:54:42 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 27/30] 训练耗时: 18.57s | 平均训练准确率: 53.44
2025-11-21 01:55:02 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 28/30] 训练耗时: 19.77s | 平均训练准确率: 53.57
2025-11-21 01:55:02 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | 
2025-11-21 01:55:02 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | ================================================================================
2025-11-21 01:55:02 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] |                     TEST START - Epoch 28/30
2025-11-21 01:55:02 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | ================================================================================
2025-11-21 01:55:02 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | 
2025-11-21 01:57:23 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    21.80 |      78.20 |    47.52 |
| Client 1 |    72.73 |      27.27 |    79.91 |
| Client 2 |    63.64 |      36.36 |    64.00 |
| Client 3 |    54.32 |      45.68 |    57.67 |
| Client 4 |    81.00 |      19.00 |    76.94 |
| Client 5 |    86.62 |      13.38 |    90.18 |
| Client 6 |    42.69 |      57.31 |    50.97 |
| Client 7 |    87.13 |      12.87 |    73.01 |
| Client 8 |    82.65 |      17.35 |    63.33 |
| Client 9 |    80.58 |      19.42 |    77.26 |
| Average  |    67.32 |      32.68 |    68.08 |
+----------+----------+------------+----------+

2025-11-21 01:57:23 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    77.15 |      22.85 |    64.40 |
| Client 1 |    67.32 |      32.68 |    57.91 |
| Client 2 |    67.63 |      32.37 |    60.35 |
| Client 3 |    68.09 |      31.91 |    59.22 |
| Client 4 |    65.60 |      34.40 |    56.16 |
| Client 5 |    65.47 |      34.53 |    56.00 |
| Client 6 |    68.40 |      31.60 |    58.94 |
| Client 7 |    62.59 |      37.41 |    57.42 |
| Client 8 |    63.22 |      36.78 |    57.44 |
| Client 9 |    65.16 |      34.84 |    56.18 |
| Average  |    67.06 |      32.94 |    58.40 |
+----------+----------+------------+----------+

2025-11-21 01:57:23 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | 
2025-11-21 01:57:23 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | ================================================================================
2025-11-21 01:57:23 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 01:57:23 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] |                     测试耗时: 141.21s
2025-11-21 01:57:23 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | ================================================================================
2025-11-21 01:57:23 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | 
2025-11-21 01:57:41 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 29/30] 训练耗时: 18.29s | 平均训练准确率: 58.08
2025-11-21 01:57:41 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | 
2025-11-21 01:57:41 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | ================================================================================
2025-11-21 01:57:41 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] |                     TEST START - Epoch 29/30
2025-11-21 01:57:41 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | ================================================================================
2025-11-21 01:57:41 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | 
2025-11-21 02:00:04 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    40.60 |      59.40 |    62.54 |
| Client 1 |    94.89 |       5.11 |    96.14 |
| Client 2 |    68.83 |      31.17 |    71.92 |
| Client 3 |    65.43 |      34.57 |    73.91 |
| Client 4 |    89.14 |      10.86 |    91.51 |
| Client 5 |    93.63 |       6.37 |    94.55 |
| Client 6 |    67.84 |      32.16 |    75.48 |
| Client 7 |    91.83 |       8.17 |    81.64 |
| Client 8 |    91.08 |       8.92 |    90.23 |
| Client 9 |    81.55 |      18.45 |    82.61 |
| Average  |    78.48 |      21.52 |    82.05 |
+----------+----------+------------+----------+

2025-11-21 02:00:04 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    86.25 |      13.75 |    80.82 |
| Client 1 |    77.50 |      22.50 |    74.92 |
| Client 2 |    79.01 |      20.99 |    77.96 |
| Client 3 |    78.81 |      21.19 |    76.75 |
| Client 4 |    76.16 |      23.84 |    74.01 |
| Client 5 |    75.52 |      24.48 |    72.38 |
| Client 6 |    76.77 |      23.23 |    73.93 |
| Client 7 |    72.30 |      27.70 |    72.46 |
| Client 8 |    72.05 |      27.95 |    70.62 |
| Client 9 |    74.10 |      25.90 |    72.02 |
| Average  |    76.85 |      23.15 |    74.59 |
+----------+----------+------------+----------+

2025-11-21 02:00:04 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | 
2025-11-21 02:00:04 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | ================================================================================
2025-11-21 02:00:04 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 02:00:04 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] |                     测试耗时: 143.20s
2025-11-21 02:00:04 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | ================================================================================
2025-11-21 02:00:04 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | 
2025-11-21 02:00:23 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | [Epoch 30/30] 训练耗时: 18.12s | 平均训练准确率: 67.05
2025-11-21 02:00:23 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | 
2025-11-21 02:00:23 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | ================================================================================
2025-11-21 02:00:23 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] |                     TEST START - Epoch 30/30
2025-11-21 02:00:23 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | ================================================================================
2025-11-21 02:00:23 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | 
2025-11-21 02:02:43 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    58.15 |      41.85 |    78.40 |
| Client 1 |    93.75 |       6.25 |    95.23 |
| Client 2 |    72.08 |      27.92 |    76.32 |
| Client 3 |    83.95 |      16.05 |    88.97 |
| Client 4 |    90.05 |       9.95 |    88.69 |
| Client 5 |    95.54 |       4.46 |    97.25 |
| Client 6 |    82.46 |      17.54 |    87.96 |
| Client 7 |    98.27 |       1.73 |    97.32 |
| Client 8 |    96.63 |       3.37 |    95.48 |
| Client 9 |    93.69 |       6.31 |    94.92 |
| Average  |    86.45 |      13.55 |    90.05 |
+----------+----------+------------+----------+

2025-11-21 02:02:43 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    91.29 |       8.71 |    86.90 |
| Client 1 |    85.19 |      14.81 |    83.46 |
| Client 2 |    86.54 |      13.46 |    85.82 |
| Client 3 |    85.37 |      14.63 |    83.88 |
| Client 4 |    84.45 |      15.55 |    84.07 |
| Client 5 |    83.71 |      16.29 |    82.86 |
| Client 6 |    84.22 |      15.78 |    83.35 |
| Client 7 |    80.83 |      19.17 |    82.07 |
| Client 8 |    80.54 |      19.46 |    80.87 |
| Client 9 |    81.98 |      18.02 |    82.26 |
| Average  |    84.41 |      15.59 |    83.55 |
+----------+----------+------------+----------+

2025-11-21 02:02:43 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | 
2025-11-21 02:02:43 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | ================================================================================
2025-11-21 02:02:43 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 02:02:43 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] |                     测试耗时: 140.01s
2025-11-21 02:02:43 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | ================================================================================
2025-11-21 02:02:43 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | 
2025-11-21 02:02:43 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | maximum test local acc: 86.455
2025-11-21 02:02:43 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | mean of local acc: 77.418
2025-11-21 02:02:43 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | maximum test neighbor acc: 84.412
2025-11-21 02:02:43 | INFO | caltech-101_dpfpl_4_0.1_10_[23/120] | mean of neighbor acc: 76.107
