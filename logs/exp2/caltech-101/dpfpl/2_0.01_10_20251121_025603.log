2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | Loading trainer: DP_FPL
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | Loading dataset: Caltech101
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | Reading split from %s
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | Creating a baseline federated dataset
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | class_num %d
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | user class dict total %s
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | idx: %s, output_dict_len: %d
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | user class dict total %s
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | idx: %s, output_dict_len: %d
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | user class dict total %s
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | idx: %s, output_dict_len: %d
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | user class dict total %s
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | idx: %s, output_dict_len: %d
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | user class dict total %s
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | idx: %s, output_dict_len: %d
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | user class dict total %s
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | idx: %s, output_dict_len: %d
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | user class dict total %s
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | idx: %s, output_dict_len: %d
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | user class dict total %s
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | idx: %s, output_dict_len: %d
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | user class dict total %s
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | idx: %s, output_dict_len: %d
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | user class dict total %s
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | idx: %s, output_dict_len: %d
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | Creating a baseline federated dataset
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | class_num %d
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | user class dict total %s
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | idx: %s, output_dict_len: %d
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | user class dict total %s
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | idx: %s, output_dict_len: %d
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | user class dict total %s
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | idx: %s, output_dict_len: %d
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | user class dict total %s
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | idx: %s, output_dict_len: %d
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | user class dict total %s
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | idx: %s, output_dict_len: %d
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | user class dict total %s
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | idx: %s, output_dict_len: %d
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | user class dict total %s
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | idx: %s, output_dict_len: %d
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | user class dict total %s
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | idx: %s, output_dict_len: %d
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | user class dict total %s
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | idx: %s, output_dict_len: %d
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | user class dict total %s
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | idx: %s, output_dict_len: %d
2025-11-21 02:56:03 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 02:56:05 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | Building custom CLIP
2025-11-21 02:56:05 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | Turning off gradients in both the image and the text encoder
2025-11-21 02:56:05 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [wandb] 正在初始化实验：project=SepFPL, name=caltech-101-dpfpl-rank2-noise0.01-seed1-users10-42/120, mode=online
2025-11-21 02:56:29 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 1/30] 训练耗时: 18.87s | 平均训练准确率: 53.12
2025-11-21 02:56:46 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 2/30] 训练耗时: 17.61s | 平均训练准确率: 53.53
2025-11-21 02:57:04 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 3/30] 训练耗时: 17.75s | 平均训练准确率: 54.06
2025-11-21 02:57:22 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 4/30] 训练耗时: 17.96s | 平均训练准确率: 53.26
2025-11-21 02:57:39 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 5/30] 训练耗时: 17.37s | 平均训练准确率: 54.15
2025-11-21 02:57:57 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 6/30] 训练耗时: 17.83s | 平均训练准确率: 53.75
2025-11-21 02:58:15 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 7/30] 训练耗时: 17.47s | 平均训练准确率: 53.21
2025-11-21 02:58:32 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 8/30] 训练耗时: 17.55s | 平均训练准确率: 53.84
2025-11-21 02:58:50 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 9/30] 训练耗时: 17.66s | 平均训练准确率: 52.81
2025-11-21 02:59:07 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 10/30] 训练耗时: 17.33s | 平均训练准确率: 53.66
2025-11-21 02:59:25 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 11/30] 训练耗时: 18.10s | 平均训练准确率: 54.87
2025-11-21 02:59:43 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 12/30] 训练耗时: 18.03s | 平均训练准确率: 53.30
2025-11-21 03:00:01 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 13/30] 训练耗时: 17.92s | 平均训练准确率: 53.57
2025-11-21 03:00:19 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 14/30] 训练耗时: 17.63s | 平均训练准确率: 54.55
2025-11-21 03:00:37 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 15/30] 训练耗时: 18.33s | 平均训练准确率: 52.99
2025-11-21 03:00:55 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 16/30] 训练耗时: 17.95s | 平均训练准确率: 53.26
2025-11-21 03:01:13 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 17/30] 训练耗时: 17.53s | 平均训练准确率: 52.59
2025-11-21 03:01:30 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 18/30] 训练耗时: 17.58s | 平均训练准确率: 54.46
2025-11-21 03:01:48 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 19/30] 训练耗时: 18.14s | 平均训练准确率: 54.96
2025-11-21 03:02:07 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 20/30] 训练耗时: 18.46s | 平均训练准确率: 55.31
2025-11-21 03:02:25 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 21/30] 训练耗时: 18.05s | 平均训练准确率: 53.75
2025-11-21 03:02:43 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 22/30] 训练耗时: 17.87s | 平均训练准确率: 53.75
2025-11-21 03:03:01 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 23/30] 训练耗时: 17.86s | 平均训练准确率: 53.04
2025-11-21 03:03:19 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 24/30] 训练耗时: 18.30s | 平均训练准确率: 54.33
2025-11-21 03:03:38 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 25/30] 训练耗时: 18.78s | 平均训练准确率: 53.57
2025-11-21 03:03:57 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 26/30] 训练耗时: 18.95s | 平均训练准确率: 53.39
2025-11-21 03:04:15 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 27/30] 训练耗时: 18.49s | 平均训练准确率: 53.88
2025-11-21 03:04:33 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 28/30] 训练耗时: 18.39s | 平均训练准确率: 54.55
2025-11-21 03:04:33 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | 
2025-11-21 03:04:33 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | ================================================================================
2025-11-21 03:04:33 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] |                     TEST START - Epoch 28/30
2025-11-21 03:04:33 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | ================================================================================
2025-11-21 03:04:33 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | 
2025-11-21 03:06:54 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    23.56 |      76.44 |    50.03 |
| Client 1 |    78.41 |      21.59 |    84.68 |
| Client 2 |    62.99 |      37.01 |    64.30 |
| Client 3 |    45.68 |      54.32 |    45.05 |
| Client 4 |    90.50 |       9.50 |    87.21 |
| Client 5 |    76.43 |      23.57 |    81.16 |
| Client 6 |    31.58 |      68.42 |    38.45 |
| Client 7 |    85.89 |      14.11 |    68.12 |
| Client 8 |    81.45 |      18.55 |    66.21 |
| Client 9 |    63.59 |      36.41 |    64.79 |
| Average  |    64.01 |      35.99 |    65.00 |
+----------+----------+------------+----------+

2025-11-21 03:06:54 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    81.70 |      18.30 |    71.33 |
| Client 1 |    68.89 |      31.11 |    58.82 |
| Client 2 |    67.03 |      32.97 |    58.75 |
| Client 3 |    66.74 |      33.26 |    57.22 |
| Client 4 |    62.25 |      37.75 |    51.77 |
| Client 5 |    62.65 |      37.35 |    51.19 |
| Client 6 |    65.34 |      34.66 |    53.95 |
| Client 7 |    58.22 |      41.78 |    50.78 |
| Client 8 |    59.12 |      40.88 |    50.72 |
| Client 9 |    63.52 |      36.48 |    52.01 |
| Average  |    65.55 |      34.45 |    55.65 |
+----------+----------+------------+----------+

2025-11-21 03:06:54 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | 
2025-11-21 03:06:54 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | ================================================================================
2025-11-21 03:06:54 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 03:06:54 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] |                     测试耗时: 140.49s
2025-11-21 03:06:54 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | ================================================================================
2025-11-21 03:06:54 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | 
2025-11-21 03:07:13 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 29/30] 训练耗时: 18.76s | 平均训练准确率: 55.98
2025-11-21 03:07:13 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | 
2025-11-21 03:07:13 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | ================================================================================
2025-11-21 03:07:13 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] |                     TEST START - Epoch 29/30
2025-11-21 03:07:13 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | ================================================================================
2025-11-21 03:07:13 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | 
2025-11-21 03:09:31 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    30.83 |      69.17 |    48.36 |
| Client 1 |    72.73 |      27.27 |    76.97 |
| Client 2 |    66.23 |      33.77 |    67.51 |
| Client 3 |    44.44 |      55.56 |    51.21 |
| Client 4 |    80.54 |      19.46 |    77.68 |
| Client 5 |    79.62 |      20.38 |    83.33 |
| Client 6 |    51.46 |      48.54 |    56.99 |
| Client 7 |    86.63 |      13.37 |    68.88 |
| Client 8 |    83.61 |      16.39 |    63.03 |
| Client 9 |    68.45 |      31.55 |    71.57 |
| Average  |    66.46 |      33.54 |    66.55 |
+----------+----------+------------+----------+

2025-11-21 03:09:31 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    78.17 |      21.83 |    65.74 |
| Client 1 |    68.15 |      31.85 |    58.71 |
| Client 2 |    66.90 |      33.10 |    58.81 |
| Client 3 |    68.48 |      31.52 |    58.83 |
| Client 4 |    66.71 |      33.29 |    55.96 |
| Client 5 |    67.29 |      32.71 |    56.46 |
| Client 6 |    68.96 |      31.04 |    58.28 |
| Client 7 |    64.19 |      35.81 |    57.49 |
| Client 8 |    64.78 |      35.22 |    57.84 |
| Client 9 |    67.95 |      32.05 |    57.81 |
| Average  |    68.16 |      31.84 |    58.59 |
+----------+----------+------------+----------+

2025-11-21 03:09:31 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | 
2025-11-21 03:09:31 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | ================================================================================
2025-11-21 03:09:31 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 03:09:31 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] |                     测试耗时: 137.98s
2025-11-21 03:09:31 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | ================================================================================
2025-11-21 03:09:31 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | 
2025-11-21 03:09:50 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | [Epoch 30/30] 训练耗时: 18.79s | 平均训练准确率: 58.88
2025-11-21 03:09:50 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | 
2025-11-21 03:09:50 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | ================================================================================
2025-11-21 03:09:50 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] |                     TEST START - Epoch 30/30
2025-11-21 03:09:50 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | ================================================================================
2025-11-21 03:09:50 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | 
2025-11-21 03:12:06 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    55.64 |      44.36 |    73.80 |
| Client 1 |    91.48 |       8.52 |    93.05 |
| Client 2 |    68.18 |      31.82 |    71.75 |
| Client 3 |    65.43 |      34.57 |    69.70 |
| Client 4 |    80.09 |      19.91 |    75.53 |
| Client 5 |    84.71 |      15.29 |    86.02 |
| Client 6 |    66.08 |      33.92 |    72.47 |
| Client 7 |    90.35 |       9.65 |    84.88 |
| Client 8 |    90.84 |       9.16 |    83.88 |
| Client 9 |    92.23 |       7.77 |    88.35 |
| Average  |    78.50 |      21.50 |    79.94 |
+----------+----------+------------+----------+

2025-11-21 03:12:06 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    81.32 |      18.68 |    71.03 |
| Client 1 |    76.10 |      23.90 |    68.83 |
| Client 2 |    78.23 |      21.77 |    72.61 |
| Client 3 |    78.94 |      21.06 |    72.93 |
| Client 4 |    78.74 |      21.26 |    73.46 |
| Client 5 |    78.55 |      21.45 |    72.30 |
| Client 6 |    79.38 |      20.62 |    72.98 |
| Client 7 |    75.98 |      24.02 |    71.65 |
| Client 8 |    76.34 |      23.66 |    71.01 |
| Client 9 |    78.09 |      21.91 |    72.43 |
| Average  |    78.17 |      21.83 |    71.92 |
+----------+----------+------------+----------+

2025-11-21 03:12:06 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | 
2025-11-21 03:12:06 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | ================================================================================
2025-11-21 03:12:06 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 03:12:06 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] |                     测试耗时: 135.99s
2025-11-21 03:12:06 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | ================================================================================
2025-11-21 03:12:06 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | 
2025-11-21 03:12:06 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | maximum test local acc: 78.504
2025-11-21 03:12:06 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | mean of local acc: 69.655
2025-11-21 03:12:06 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | maximum test neighbor acc: 78.168
2025-11-21 03:12:06 | INFO | caltech-101_dpfpl_2_0.01_10_[42/120] | mean of neighbor acc: 70.625
