2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | Loading trainer: DP_FPL
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | Loading dataset: Caltech101
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | Reading split from %s
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | Creating a baseline federated dataset
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | class_num %d
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | user class dict total %s
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | idx: %s, output_dict_len: %d
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | user class dict total %s
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | idx: %s, output_dict_len: %d
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | user class dict total %s
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | idx: %s, output_dict_len: %d
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | user class dict total %s
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | idx: %s, output_dict_len: %d
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | user class dict total %s
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | idx: %s, output_dict_len: %d
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | user class dict total %s
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | idx: %s, output_dict_len: %d
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | user class dict total %s
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | idx: %s, output_dict_len: %d
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | user class dict total %s
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | idx: %s, output_dict_len: %d
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | user class dict total %s
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | idx: %s, output_dict_len: %d
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | user class dict total %s
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | idx: %s, output_dict_len: %d
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | Creating a baseline federated dataset
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | class_num %d
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | user class dict total %s
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | idx: %s, output_dict_len: %d
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | user class dict total %s
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | idx: %s, output_dict_len: %d
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | user class dict total %s
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | idx: %s, output_dict_len: %d
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | user class dict total %s
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | idx: %s, output_dict_len: %d
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | user class dict total %s
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | idx: %s, output_dict_len: %d
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | user class dict total %s
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | idx: %s, output_dict_len: %d
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | user class dict total %s
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | idx: %s, output_dict_len: %d
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | user class dict total %s
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | idx: %s, output_dict_len: %d
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | user class dict total %s
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | idx: %s, output_dict_len: %d
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | user class dict total %s
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | idx: %s, output_dict_len: %d
2025-11-21 03:11:02 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 03:11:04 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | Building custom CLIP
2025-11-21 03:11:04 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | Turning off gradients in both the image and the text encoder
2025-11-21 03:11:05 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [wandb] 正在初始化实验：project=SepFPL, name=caltech-101-dpfpl-rank4-noise0.01-seed1-users10-43/120, mode=online
2025-11-21 03:11:30 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 1/30] 训练耗时: 19.42s | 平均训练准确率: 54.82
2025-11-21 03:11:49 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 2/30] 训练耗时: 18.95s | 平均训练准确率: 52.90
2025-11-21 03:12:08 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 3/30] 训练耗时: 19.23s | 平均训练准确率: 53.57
2025-11-21 03:12:27 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 4/30] 训练耗时: 18.57s | 平均训练准确率: 53.97
2025-11-21 03:12:45 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 5/30] 训练耗时: 18.57s | 平均训练准确率: 54.55
2025-11-21 03:13:04 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 6/30] 训练耗时: 18.41s | 平均训练准确率: 52.50
2025-11-21 03:13:22 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 7/30] 训练耗时: 18.02s | 平均训练准确率: 53.44
2025-11-21 03:13:39 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 8/30] 训练耗时: 17.60s | 平均训练准确率: 53.35
2025-11-21 03:13:58 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 9/30] 训练耗时: 18.75s | 平均训练准确率: 54.02
2025-11-21 03:14:16 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 10/30] 训练耗时: 18.15s | 平均训练准确率: 52.77
2025-11-21 03:14:34 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 11/30] 训练耗时: 17.68s | 平均训练准确率: 54.69
2025-11-21 03:14:51 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 12/30] 训练耗时: 17.67s | 平均训练准确率: 54.20
2025-11-21 03:15:10 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 13/30] 训练耗时: 18.30s | 平均训练准确率: 55.13
2025-11-21 03:15:29 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 14/30] 训练耗时: 18.88s | 平均训练准确率: 53.44
2025-11-21 03:15:47 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 15/30] 训练耗时: 17.94s | 平均训练准确率: 53.53
2025-11-21 03:16:05 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 16/30] 训练耗时: 18.22s | 平均训练准确率: 53.44
2025-11-21 03:16:23 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 17/30] 训练耗时: 18.06s | 平均训练准确率: 53.93
2025-11-21 03:16:41 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 18/30] 训练耗时: 17.67s | 平均训练准确率: 52.95
2025-11-21 03:16:58 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 19/30] 训练耗时: 17.90s | 平均训练准确率: 53.57
2025-11-21 03:17:16 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 20/30] 训练耗时: 17.42s | 平均训练准确率: 53.44
2025-11-21 03:17:34 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 21/30] 训练耗时: 18.03s | 平均训练准确率: 53.35
2025-11-21 03:17:52 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 22/30] 训练耗时: 17.90s | 平均训练准确率: 53.75
2025-11-21 03:18:10 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 23/30] 训练耗时: 17.98s | 平均训练准确率: 53.97
2025-11-21 03:18:28 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 24/30] 训练耗时: 18.38s | 平均训练准确率: 54.02
2025-11-21 03:18:46 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 25/30] 训练耗时: 17.72s | 平均训练准确率: 53.12
2025-11-21 03:19:03 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 26/30] 训练耗时: 17.58s | 平均训练准确率: 53.88
2025-11-21 03:19:21 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 27/30] 训练耗时: 17.45s | 平均训练准确率: 53.44
2025-11-21 03:19:38 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 28/30] 训练耗时: 17.57s | 平均训练准确率: 53.57
2025-11-21 03:19:38 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | 
2025-11-21 03:19:38 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | ================================================================================
2025-11-21 03:19:38 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] |                     TEST START - Epoch 28/30
2025-11-21 03:19:38 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | ================================================================================
2025-11-21 03:19:38 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | 
2025-11-21 03:21:59 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    26.82 |      73.18 |    53.44 |
| Client 1 |    82.39 |      17.61 |    86.92 |
| Client 2 |    62.99 |      37.01 |    63.51 |
| Client 3 |    50.62 |      49.38 |    54.40 |
| Client 4 |    90.95 |       9.05 |    87.83 |
| Client 5 |    74.52 |      25.48 |    76.48 |
| Client 6 |    41.52 |      58.48 |    49.08 |
| Client 7 |    87.38 |      12.62 |    70.53 |
| Client 8 |    82.89 |      17.11 |    70.26 |
| Client 9 |    75.24 |      24.76 |    72.52 |
| Average  |    67.53 |      32.47 |    68.50 |
+----------+----------+------------+----------+

2025-11-21 03:21:59 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    81.56 |      18.44 |    70.64 |
| Client 1 |    70.16 |      29.84 |    61.40 |
| Client 2 |    69.15 |      30.85 |    61.53 |
| Client 3 |    68.30 |      31.70 |    58.54 |
| Client 4 |    63.37 |      36.63 |    52.86 |
| Client 5 |    64.21 |      35.79 |    53.10 |
| Client 6 |    66.52 |      33.48 |    55.42 |
| Client 7 |    60.50 |      39.50 |    54.32 |
| Client 8 |    62.15 |      37.85 |    55.13 |
| Client 9 |    65.43 |      34.57 |    56.30 |
| Average  |    67.13 |      32.87 |    57.92 |
+----------+----------+------------+----------+

2025-11-21 03:21:59 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | 
2025-11-21 03:21:59 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | ================================================================================
2025-11-21 03:21:59 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 03:21:59 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] |                     测试耗时: 140.46s
2025-11-21 03:21:59 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | ================================================================================
2025-11-21 03:21:59 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | 
2025-11-21 03:22:18 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 29/30] 训练耗时: 19.40s | 平均训练准确率: 58.44
2025-11-21 03:22:18 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | 
2025-11-21 03:22:18 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | ================================================================================
2025-11-21 03:22:18 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] |                     TEST START - Epoch 29/30
2025-11-21 03:22:18 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | ================================================================================
2025-11-21 03:22:18 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | 
2025-11-21 03:24:39 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    48.62 |      51.38 |    62.96 |
| Client 1 |    83.52 |      16.48 |    88.20 |
| Client 2 |    70.13 |      29.87 |    74.33 |
| Client 3 |    58.64 |      41.36 |    67.79 |
| Client 4 |    82.35 |      17.65 |    81.19 |
| Client 5 |    80.89 |      19.11 |    83.60 |
| Client 6 |    55.56 |      44.44 |    61.08 |
| Client 7 |    83.66 |      16.34 |    78.62 |
| Client 8 |    91.81 |       8.19 |    85.82 |
| Client 9 |    90.29 |       9.71 |    86.96 |
| Average  |    74.55 |      25.45 |    77.05 |
+----------+----------+------------+----------+

2025-11-21 03:24:39 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    79.24 |      20.76 |    69.40 |
| Client 1 |    70.38 |      29.62 |    65.31 |
| Client 2 |    70.10 |      29.90 |    67.94 |
| Client 3 |    70.95 |      29.05 |    68.51 |
| Client 4 |    70.32 |      29.68 |    68.40 |
| Client 5 |    72.70 |      27.30 |    68.25 |
| Client 6 |    76.50 |      23.50 |    71.76 |
| Client 7 |    75.89 |      24.11 |    70.41 |
| Client 8 |    74.29 |      25.71 |    68.75 |
| Client 9 |    75.87 |      24.13 |    69.58 |
| Average  |    73.62 |      26.38 |    68.83 |
+----------+----------+------------+----------+

2025-11-21 03:24:39 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | 
2025-11-21 03:24:39 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | ================================================================================
2025-11-21 03:24:39 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 03:24:39 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] |                     测试耗时: 140.25s
2025-11-21 03:24:39 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | ================================================================================
2025-11-21 03:24:39 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | 
2025-11-21 03:24:57 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | [Epoch 30/30] 训练耗时: 18.70s | 平均训练准确率: 63.48
2025-11-21 03:24:57 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | 
2025-11-21 03:24:57 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | ================================================================================
2025-11-21 03:24:57 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] |                     TEST START - Epoch 30/30
2025-11-21 03:24:57 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | ================================================================================
2025-11-21 03:24:57 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | 
2025-11-21 03:27:19 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    69.17 |      30.83 |    81.79 |
| Client 1 |    93.75 |       6.25 |    94.22 |
| Client 2 |    66.88 |      33.12 |    70.74 |
| Client 3 |    84.57 |      15.43 |    85.72 |
| Client 4 |    88.24 |      11.76 |    89.95 |
| Client 5 |    94.27 |       5.73 |    96.29 |
| Client 6 |    77.19 |      22.81 |    83.66 |
| Client 7 |    93.07 |       6.93 |    93.99 |
| Client 8 |    94.46 |       5.54 |    89.59 |
| Client 9 |    87.38 |      12.62 |    84.72 |
| Average  |    84.90 |      15.10 |    87.07 |
+----------+----------+------------+----------+

2025-11-21 03:27:19 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    88.87 |      11.13 |    83.05 |
| Client 1 |    82.57 |      17.43 |    78.40 |
| Client 2 |    82.82 |      17.18 |    79.31 |
| Client 3 |    83.72 |      16.28 |    80.18 |
| Client 4 |    85.29 |      14.71 |    82.93 |
| Client 5 |    85.01 |      14.99 |    82.52 |
| Client 6 |    85.27 |      14.73 |    82.44 |
| Client 7 |    81.95 |      18.05 |    80.06 |
| Client 8 |    79.95 |      20.05 |    75.85 |
| Client 9 |    81.85 |      18.15 |    77.21 |
| Average  |    83.73 |      16.27 |    80.19 |
+----------+----------+------------+----------+

2025-11-21 03:27:19 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | 
2025-11-21 03:27:19 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | ================================================================================
2025-11-21 03:27:19 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 03:27:19 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] |                     测试耗时: 141.96s
2025-11-21 03:27:19 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | ================================================================================
2025-11-21 03:27:19 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | 
2025-11-21 03:27:19 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | maximum test local acc: 84.898
2025-11-21 03:27:19 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | mean of local acc: 75.659
2025-11-21 03:27:19 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | maximum test neighbor acc: 83.730
2025-11-21 03:27:19 | INFO | caltech-101_dpfpl_4_0.01_10_[43/120] | mean of neighbor acc: 74.830
