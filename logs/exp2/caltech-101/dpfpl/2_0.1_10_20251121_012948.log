2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | Loading trainer: DP_FPL
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | Loading dataset: Caltech101
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | Reading split from %s
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | Creating a baseline federated dataset
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | class_num %d
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | user class dict total %s
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | user class dict total %s
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | user class dict total %s
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | user class dict total %s
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | user class dict total %s
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | user class dict total %s
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | user class dict total %s
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | user class dict total %s
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | user class dict total %s
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | user class dict total %s
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | Creating a baseline federated dataset
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | class_num %d
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | user class dict total %s
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | user class dict total %s
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | user class dict total %s
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | user class dict total %s
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | user class dict total %s
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | user class dict total %s
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | user class dict total %s
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | user class dict total %s
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | user class dict total %s
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | user class dict total %s
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | idx: %s, output_dict_len: %d
2025-11-21 01:29:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 01:29:49 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | Building custom CLIP
2025-11-21 01:29:49 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | Turning off gradients in both the image and the text encoder
2025-11-21 01:29:50 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [wandb] 正在初始化实验：project=SepFPL, name=caltech-101-dpfpl-rank2-noise0.1-seed1-users10-22/120, mode=online
2025-11-21 01:30:18 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 1/30] 训练耗时: 19.15s | 平均训练准确率: 53.12
2025-11-21 01:30:36 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 2/30] 训练耗时: 18.10s | 平均训练准确率: 53.53
2025-11-21 01:30:54 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 3/30] 训练耗时: 18.50s | 平均训练准确率: 54.06
2025-11-21 01:31:12 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 4/30] 训练耗时: 17.26s | 平均训练准确率: 53.26
2025-11-21 01:31:30 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 5/30] 训练耗时: 18.23s | 平均训练准确率: 54.15
2025-11-21 01:31:48 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 6/30] 训练耗时: 18.20s | 平均训练准确率: 53.75
2025-11-21 01:32:06 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 7/30] 训练耗时: 18.18s | 平均训练准确率: 53.21
2025-11-21 01:32:24 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 8/30] 训练耗时: 18.22s | 平均训练准确率: 53.84
2025-11-21 01:32:42 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 9/30] 训练耗时: 17.70s | 平均训练准确率: 52.81
2025-11-21 01:33:00 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 10/30] 训练耗时: 18.11s | 平均训练准确率: 53.66
2025-11-21 01:33:19 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 11/30] 训练耗时: 18.47s | 平均训练准确率: 54.87
2025-11-21 01:33:36 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 12/30] 训练耗时: 17.86s | 平均训练准确率: 53.30
2025-11-21 01:33:54 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 13/30] 训练耗时: 17.98s | 平均训练准确率: 53.57
2025-11-21 01:34:13 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 14/30] 训练耗时: 18.51s | 平均训练准确率: 54.55
2025-11-21 01:34:31 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 15/30] 训练耗时: 17.61s | 平均训练准确率: 52.99
2025-11-21 01:34:49 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 16/30] 训练耗时: 18.04s | 平均训练准确率: 53.26
2025-11-21 01:35:07 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 17/30] 训练耗时: 17.92s | 平均训练准确率: 52.59
2025-11-21 01:35:24 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 18/30] 训练耗时: 17.71s | 平均训练准确率: 54.46
2025-11-21 01:35:42 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 19/30] 训练耗时: 17.75s | 平均训练准确率: 54.96
2025-11-21 01:36:01 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 20/30] 训练耗时: 18.79s | 平均训练准确率: 55.31
2025-11-21 01:36:19 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 21/30] 训练耗时: 18.04s | 平均训练准确率: 53.75
2025-11-21 01:36:37 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 22/30] 训练耗时: 17.79s | 平均训练准确率: 53.75
2025-11-21 01:36:55 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 23/30] 训练耗时: 18.29s | 平均训练准确率: 53.04
2025-11-21 01:37:13 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 24/30] 训练耗时: 18.42s | 平均训练准确率: 54.33
2025-11-21 01:37:31 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 25/30] 训练耗时: 17.78s | 平均训练准确率: 53.57
2025-11-21 01:37:49 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 26/30] 训练耗时: 17.54s | 平均训练准确率: 53.39
2025-11-21 01:38:06 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 27/30] 训练耗时: 17.62s | 平均训练准确率: 53.88
2025-11-21 01:38:25 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 28/30] 训练耗时: 18.31s | 平均训练准确率: 54.55
2025-11-21 01:38:25 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | 
2025-11-21 01:38:25 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | ================================================================================
2025-11-21 01:38:25 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] |                     TEST START - Epoch 28/30
2025-11-21 01:38:25 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | ================================================================================
2025-11-21 01:38:25 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | 
2025-11-21 01:40:45 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    21.80 |      78.20 |    45.94 |
| Client 1 |    72.73 |      27.27 |    79.21 |
| Client 2 |    64.29 |      35.71 |    64.53 |
| Client 3 |    58.02 |      41.98 |    59.30 |
| Client 4 |    80.09 |      19.91 |    75.98 |
| Client 5 |    85.35 |      14.65 |    89.59 |
| Client 6 |    40.94 |      59.06 |    50.06 |
| Client 7 |    87.13 |      12.87 |    73.51 |
| Client 8 |    82.89 |      17.11 |    63.57 |
| Client 9 |    78.16 |      21.84 |    76.37 |
| Average  |    67.14 |      32.86 |    67.80 |
+----------+----------+------------+----------+

2025-11-21 01:40:45 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    76.72 |      23.28 |    63.85 |
| Client 1 |    67.19 |      32.81 |    57.12 |
| Client 2 |    67.76 |      32.24 |    59.97 |
| Client 3 |    67.87 |      32.13 |    58.48 |
| Client 4 |    65.60 |      34.40 |    55.96 |
| Client 5 |    65.34 |      34.66 |    55.98 |
| Client 6 |    68.40 |      31.60 |    58.96 |
| Client 7 |    62.30 |      37.70 |    57.21 |
| Client 8 |    62.78 |      37.22 |    57.22 |
| Client 9 |    64.85 |      35.15 |    55.64 |
| Average  |    66.88 |      33.12 |    58.04 |
+----------+----------+------------+----------+

2025-11-21 01:40:45 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | 
2025-11-21 01:40:45 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | ================================================================================
2025-11-21 01:40:45 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 01:40:45 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] |                     测试耗时: 140.68s
2025-11-21 01:40:45 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | ================================================================================
2025-11-21 01:40:45 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | 
2025-11-21 01:41:03 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 29/30] 训练耗时: 17.79s | 平均训练准确率: 58.26
2025-11-21 01:41:03 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | 
2025-11-21 01:41:03 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | ================================================================================
2025-11-21 01:41:03 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] |                     TEST START - Epoch 29/30
2025-11-21 01:41:03 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | ================================================================================
2025-11-21 01:41:03 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | 
2025-11-21 01:43:25 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    35.34 |      64.66 |    57.43 |
| Client 1 |    85.80 |      14.20 |    90.02 |
| Client 2 |    67.53 |      32.47 |    71.75 |
| Client 3 |    69.75 |      30.25 |    71.46 |
| Client 4 |    84.16 |      15.84 |    84.94 |
| Client 5 |    91.72 |       8.28 |    93.51 |
| Client 6 |    56.73 |      43.27 |    61.59 |
| Client 7 |    91.83 |       8.17 |    81.07 |
| Client 8 |    91.33 |       8.67 |    87.34 |
| Client 9 |    85.44 |      14.56 |    83.42 |
| Average  |    75.96 |      24.04 |    78.25 |
+----------+----------+------------+----------+

2025-11-21 01:43:25 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    83.64 |      16.36 |    75.28 |
| Client 1 |    75.01 |      24.99 |    69.95 |
| Client 2 |    76.42 |      23.58 |    72.11 |
| Client 3 |    76.34 |      23.66 |    71.14 |
| Client 4 |    75.09 |      24.91 |    69.47 |
| Client 5 |    74.65 |      25.35 |    68.32 |
| Client 6 |    77.07 |      22.93 |    72.47 |
| Client 7 |    72.20 |      27.80 |    69.42 |
| Client 8 |    72.15 |      27.85 |    67.89 |
| Client 9 |    74.24 |      25.76 |    69.30 |
| Average  |    75.68 |      24.32 |    70.53 |
+----------+----------+------------+----------+

2025-11-21 01:43:25 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | 
2025-11-21 01:43:25 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | ================================================================================
2025-11-21 01:43:25 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 01:43:25 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] |                     测试耗时: 141.82s
2025-11-21 01:43:25 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | ================================================================================
2025-11-21 01:43:25 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | 
2025-11-21 01:43:43 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | [Epoch 30/30] 训练耗时: 18.12s | 平均训练准确率: 67.05
2025-11-21 01:43:43 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | 
2025-11-21 01:43:43 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | ================================================================================
2025-11-21 01:43:43 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] |                     TEST START - Epoch 30/30
2025-11-21 01:43:43 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | ================================================================================
2025-11-21 01:43:43 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | 
2025-11-21 01:46:04 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    37.34 |      62.66 |    63.28 |
| Client 1 |    93.18 |       6.82 |    94.04 |
| Client 2 |    72.08 |      27.92 |    75.29 |
| Client 3 |    67.28 |      32.72 |    73.15 |
| Client 4 |    90.95 |       9.05 |    91.32 |
| Client 5 |    93.63 |       6.37 |    95.42 |
| Client 6 |    78.95 |      21.05 |    84.77 |
| Client 7 |    95.30 |       4.70 |    90.08 |
| Client 8 |    96.14 |       3.86 |    94.82 |
| Client 9 |    87.38 |      12.62 |    85.14 |
| Average  |    81.22 |      18.78 |    84.73 |
+----------+----------+------------+----------+

2025-11-21 01:46:04 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    89.21 |      10.79 |    84.02 |
| Client 1 |    79.69 |      20.31 |    78.22 |
| Client 2 |    80.87 |      19.13 |    80.57 |
| Client 3 |    80.89 |      19.11 |    79.49 |
| Client 4 |    78.65 |      21.35 |    77.61 |
| Client 5 |    78.64 |      21.36 |    76.50 |
| Client 6 |    79.47 |      20.53 |    77.14 |
| Client 7 |    76.13 |      23.87 |    76.26 |
| Client 8 |    75.56 |      24.44 |    74.55 |
| Client 9 |    78.13 |      21.87 |    76.40 |
| Average  |    79.72 |      20.28 |    78.08 |
+----------+----------+------------+----------+

2025-11-21 01:46:04 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | 
2025-11-21 01:46:04 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | ================================================================================
2025-11-21 01:46:04 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 01:46:04 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] |                     测试耗时: 140.67s
2025-11-21 01:46:04 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | ================================================================================
2025-11-21 01:46:04 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | 
2025-11-21 01:46:04 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | maximum test local acc: 81.224
2025-11-21 01:46:04 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | mean of local acc: 74.775
2025-11-21 01:46:04 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | maximum test neighbor acc: 79.724
2025-11-21 01:46:04 | INFO | caltech-101_dpfpl_2_0.1_10_[22/120] | mean of neighbor acc: 74.095
