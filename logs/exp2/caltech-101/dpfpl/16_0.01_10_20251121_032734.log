2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | Loading trainer: DP_FPL
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | Loading dataset: Caltech101
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | Reading split from %s
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | Creating a baseline federated dataset
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | class_num %d
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | user class dict total %s
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | idx: %s, output_dict_len: %d
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | user class dict total %s
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | idx: %s, output_dict_len: %d
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | user class dict total %s
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | idx: %s, output_dict_len: %d
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | user class dict total %s
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | idx: %s, output_dict_len: %d
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | user class dict total %s
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | idx: %s, output_dict_len: %d
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | user class dict total %s
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | idx: %s, output_dict_len: %d
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | user class dict total %s
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | idx: %s, output_dict_len: %d
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | user class dict total %s
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | idx: %s, output_dict_len: %d
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | user class dict total %s
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | idx: %s, output_dict_len: %d
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | user class dict total %s
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | idx: %s, output_dict_len: %d
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | Creating a baseline federated dataset
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | class_num %d
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | user class dict total %s
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | idx: %s, output_dict_len: %d
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | user class dict total %s
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | idx: %s, output_dict_len: %d
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | user class dict total %s
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | idx: %s, output_dict_len: %d
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | user class dict total %s
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | idx: %s, output_dict_len: %d
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | user class dict total %s
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | idx: %s, output_dict_len: %d
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | user class dict total %s
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | idx: %s, output_dict_len: %d
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | user class dict total %s
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | idx: %s, output_dict_len: %d
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | user class dict total %s
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | idx: %s, output_dict_len: %d
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | user class dict total %s
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | idx: %s, output_dict_len: %d
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | user class dict total %s
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | idx: %s, output_dict_len: %d
2025-11-21 03:27:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 03:27:36 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | Building custom CLIP
2025-11-21 03:27:36 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | Turning off gradients in both the image and the text encoder
2025-11-21 03:27:36 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [wandb] 正在初始化实验：project=SepFPL, name=caltech-101-dpfpl-rank16-noise0.01-seed1-users10-45/120, mode=online
2025-11-21 03:28:01 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 1/30] 训练耗时: 19.45s | 平均训练准确率: 54.55
2025-11-21 03:28:19 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 2/30] 训练耗时: 18.41s | 平均训练准确率: 52.46
2025-11-21 03:28:38 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 3/30] 训练耗时: 18.56s | 平均训练准确率: 53.57
2025-11-21 03:28:56 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 4/30] 训练耗时: 18.46s | 平均训练准确率: 53.57
2025-11-21 03:29:15 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 5/30] 训练耗时: 18.81s | 平均训练准确率: 53.35
2025-11-21 03:29:33 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 6/30] 训练耗时: 17.93s | 平均训练准确率: 54.82
2025-11-21 03:29:51 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 7/30] 训练耗时: 17.92s | 平均训练准确率: 54.29
2025-11-21 03:30:09 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 8/30] 训练耗时: 18.70s | 平均训练准确率: 53.97
2025-11-21 03:30:28 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 9/30] 训练耗时: 18.47s | 平均训练准确率: 53.44
2025-11-21 03:30:46 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 10/30] 训练耗时: 18.39s | 平均训练准确率: 53.48
2025-11-21 03:31:05 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 11/30] 训练耗时: 19.09s | 平均训练准确率: 53.57
2025-11-21 03:31:24 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 12/30] 训练耗时: 18.68s | 平均训练准确率: 54.87
2025-11-21 03:31:43 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 13/30] 训练耗时: 18.61s | 平均训练准确率: 54.20
2025-11-21 03:32:02 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 14/30] 训练耗时: 19.20s | 平均训练准确率: 53.88
2025-11-21 03:32:22 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 15/30] 训练耗时: 19.72s | 平均训练准确率: 53.71
2025-11-21 03:32:40 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 16/30] 训练耗时: 18.00s | 平均训练准确率: 53.48
2025-11-21 03:32:57 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 17/30] 训练耗时: 17.64s | 平均训练准确率: 53.97
2025-11-21 03:33:15 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 18/30] 训练耗时: 17.52s | 平均训练准确率: 52.54
2025-11-21 03:33:32 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 19/30] 训练耗时: 17.70s | 平均训练准确率: 52.54
2025-11-21 03:33:50 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 20/30] 训练耗时: 17.65s | 平均训练准确率: 53.71
2025-11-21 03:34:08 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 21/30] 训练耗时: 17.96s | 平均训练准确率: 55.04
2025-11-21 03:34:27 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 22/30] 训练耗时: 19.12s | 平均训练准确率: 53.75
2025-11-21 03:34:46 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 23/30] 训练耗时: 19.03s | 平均训练准确率: 53.17
2025-11-21 03:35:06 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 24/30] 训练耗时: 19.56s | 平均训练准确率: 53.62
2025-11-21 03:35:24 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 25/30] 训练耗时: 18.63s | 平均训练准确率: 52.95
2025-11-21 03:35:42 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 26/30] 训练耗时: 17.81s | 平均训练准确率: 53.75
2025-11-21 03:36:01 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 27/30] 训练耗时: 18.82s | 平均训练准确率: 54.20
2025-11-21 03:36:19 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 28/30] 训练耗时: 17.89s | 平均训练准确率: 52.37
2025-11-21 03:36:19 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | 
2025-11-21 03:36:19 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | ================================================================================
2025-11-21 03:36:19 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] |                     TEST START - Epoch 28/30
2025-11-21 03:36:19 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | ================================================================================
2025-11-21 03:36:19 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | 
2025-11-21 03:38:36 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    28.57 |      71.43 |    51.54 |
| Client 1 |    72.16 |      27.84 |    79.18 |
| Client 2 |    60.39 |      39.61 |    59.94 |
| Client 3 |    40.12 |      59.88 |    48.58 |
| Client 4 |    88.69 |      11.31 |    83.80 |
| Client 5 |    84.08 |      15.92 |    86.05 |
| Client 6 |    48.54 |      51.46 |    58.33 |
| Client 7 |    89.60 |      10.40 |    72.44 |
| Client 8 |    78.07 |      21.93 |    62.53 |
| Client 9 |    77.18 |      22.82 |    76.51 |
| Average  |    66.74 |      33.26 |    67.89 |
+----------+----------+------------+----------+

2025-11-21 03:38:36 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    75.85 |      24.15 |    63.41 |
| Client 1 |    66.40 |      33.60 |    56.40 |
| Client 2 |    65.60 |      34.40 |    57.21 |
| Client 3 |    68.04 |      31.96 |    58.88 |
| Client 4 |    64.53 |      35.47 |    56.78 |
| Client 5 |    64.47 |      35.53 |    55.20 |
| Client 6 |    66.13 |      33.87 |    56.96 |
| Client 7 |    60.16 |      39.84 |    56.33 |
| Client 8 |    62.39 |      37.61 |    58.43 |
| Client 9 |    63.57 |      36.43 |    55.38 |
| Average  |    65.71 |      34.29 |    57.50 |
+----------+----------+------------+----------+

2025-11-21 03:38:36 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | 
2025-11-21 03:38:36 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | ================================================================================
2025-11-21 03:38:36 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 03:38:36 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] |                     测试耗时: 136.76s
2025-11-21 03:38:36 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | ================================================================================
2025-11-21 03:38:36 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | 
2025-11-21 03:38:53 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 29/30] 训练耗时: 17.30s | 平均训练准确率: 59.11
2025-11-21 03:38:53 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | 
2025-11-21 03:38:53 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | ================================================================================
2025-11-21 03:38:53 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] |                     TEST START - Epoch 29/30
2025-11-21 03:38:53 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | ================================================================================
2025-11-21 03:38:53 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | 
2025-11-21 03:41:15 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    51.13 |      48.87 |    72.95 |
| Client 1 |    89.20 |      10.80 |    88.38 |
| Client 2 |    69.48 |      30.52 |    72.92 |
| Client 3 |    48.15 |      51.85 |    50.26 |
| Client 4 |    87.33 |      12.67 |    87.24 |
| Client 5 |    84.71 |      15.29 |    85.63 |
| Client 6 |    73.68 |      26.32 |    82.33 |
| Client 7 |    92.33 |       7.67 |    83.63 |
| Client 8 |    85.06 |      14.94 |    73.75 |
| Client 9 |    90.29 |       9.71 |    87.37 |
| Average  |    77.14 |      22.86 |    78.44 |
+----------+----------+------------+----------+

2025-11-21 03:41:15 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    88.82 |      11.18 |    82.30 |
| Client 1 |    83.22 |      16.78 |    79.63 |
| Client 2 |    75.21 |      24.79 |    71.59 |
| Client 3 |    73.08 |      26.92 |    65.39 |
| Client 4 |    76.34 |      23.66 |    70.61 |
| Client 5 |    78.94 |      21.06 |    72.51 |
| Client 6 |    79.82 |      20.18 |    72.55 |
| Client 7 |    76.66 |      23.34 |    72.36 |
| Client 8 |    77.56 |      22.44 |    72.07 |
| Client 9 |    77.47 |      22.53 |    70.30 |
| Average  |    78.71 |      21.29 |    72.93 |
+----------+----------+------------+----------+

2025-11-21 03:41:15 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | 
2025-11-21 03:41:15 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | ================================================================================
2025-11-21 03:41:15 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 03:41:15 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] |                     测试耗时: 142.54s
2025-11-21 03:41:15 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | ================================================================================
2025-11-21 03:41:15 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | 
2025-11-21 03:41:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | [Epoch 30/30] 训练耗时: 18.43s | 平均训练准确率: 67.99
2025-11-21 03:41:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | 
2025-11-21 03:41:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | ================================================================================
2025-11-21 03:41:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] |                     TEST START - Epoch 30/30
2025-11-21 03:41:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | ================================================================================
2025-11-21 03:41:34 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | 
2025-11-21 03:43:55 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    42.36 |      57.64 |    63.05 |
| Client 1 |    88.64 |      11.36 |    89.90 |
| Client 2 |    65.58 |      34.42 |    67.11 |
| Client 3 |    50.62 |      49.38 |    52.45 |
| Client 4 |    78.73 |      21.27 |    76.41 |
| Client 5 |    79.62 |      20.38 |    82.38 |
| Client 6 |    61.99 |      38.01 |    60.96 |
| Client 7 |    90.10 |       9.90 |    82.21 |
| Client 8 |    81.20 |      18.80 |    67.56 |
| Client 9 |    82.04 |      17.96 |    83.03 |
| Average  |    72.09 |      27.91 |    72.51 |
+----------+----------+------------+----------+

2025-11-21 03:43:55 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    81.75 |      18.25 |    72.37 |
| Client 1 |    75.05 |      24.95 |    66.91 |
| Client 2 |    74.90 |      25.10 |    67.45 |
| Client 3 |    72.38 |      27.62 |    63.07 |
| Client 4 |    69.47 |      30.53 |    59.94 |
| Client 5 |    70.19 |      29.81 |    59.80 |
| Client 6 |    73.10 |      26.90 |    64.26 |
| Client 7 |    70.21 |      29.79 |    64.57 |
| Client 8 |    73.56 |      26.44 |    66.89 |
| Client 9 |    75.03 |      24.97 |    66.95 |
| Average  |    73.57 |      26.43 |    65.22 |
+----------+----------+------------+----------+

2025-11-21 03:43:55 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | 
2025-11-21 03:43:55 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | ================================================================================
2025-11-21 03:43:55 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 03:43:55 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] |                     测试耗时: 141.13s
2025-11-21 03:43:55 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | ================================================================================
2025-11-21 03:43:55 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | 
2025-11-21 03:43:55 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | maximum test local acc: 77.137
2025-11-21 03:43:55 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | mean of local acc: 71.988
2025-11-21 03:43:55 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | maximum test neighbor acc: 78.711
2025-11-21 03:43:55 | INFO | caltech-101_dpfpl_16_0.01_10_[45/120] | mean of neighbor acc: 72.664
