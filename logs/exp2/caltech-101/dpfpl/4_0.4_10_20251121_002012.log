2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | Loading trainer: DP_FPL
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | Loading dataset: Caltech101
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | Reading split from %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | Creating a baseline federated dataset
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | class_num %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | Creating a baseline federated dataset
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | class_num %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 00:20:14 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | Building custom CLIP
2025-11-21 00:20:14 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | Turning off gradients in both the image and the text encoder
2025-11-21 00:20:14 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [wandb] 正在初始化实验：project=SepFPL, name=caltech-101-dpfpl-rank4-noise0.4-seed1-users10-3/120, mode=online
2025-11-21 00:20:47 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 1/30] 训练耗时: 19.27s | 平均训练准确率: 54.82
2025-11-21 00:21:05 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 2/30] 训练耗时: 18.30s | 平均训练准确率: 52.90
2025-11-21 00:21:24 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 3/30] 训练耗时: 18.52s | 平均训练准确率: 53.57
2025-11-21 00:21:42 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 4/30] 训练耗时: 18.55s | 平均训练准确率: 53.97
2025-11-21 00:22:00 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 5/30] 训练耗时: 17.47s | 平均训练准确率: 54.55
2025-11-21 00:22:18 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 6/30] 训练耗时: 17.92s | 平均训练准确率: 52.50
2025-11-21 00:22:36 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 7/30] 训练耗时: 18.08s | 平均训练准确率: 53.44
2025-11-21 00:22:54 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 8/30] 训练耗时: 17.65s | 平均训练准确率: 53.35
2025-11-21 00:23:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 9/30] 训练耗时: 18.06s | 平均训练准确率: 54.02
2025-11-21 00:23:29 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 10/30] 训练耗时: 17.49s | 平均训练准确率: 52.77
2025-11-21 00:23:47 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 11/30] 训练耗时: 18.11s | 平均训练准确率: 54.69
2025-11-21 00:24:06 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 12/30] 训练耗时: 18.56s | 平均训练准确率: 54.20
2025-11-21 00:24:23 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 13/30] 训练耗时: 17.63s | 平均训练准确率: 55.13
2025-11-21 00:24:41 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 14/30] 训练耗时: 18.04s | 平均训练准确率: 53.44
2025-11-21 00:25:00 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 15/30] 训练耗时: 18.37s | 平均训练准确率: 53.53
2025-11-21 00:25:17 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 16/30] 训练耗时: 17.53s | 平均训练准确率: 53.44
2025-11-21 00:25:35 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 17/30] 训练耗时: 18.14s | 平均训练准确率: 53.93
2025-11-21 00:25:54 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 18/30] 训练耗时: 18.90s | 平均训练准确率: 52.95
2025-11-21 00:26:12 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 19/30] 训练耗时: 17.56s | 平均训练准确率: 53.57
2025-11-21 00:26:31 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 20/30] 训练耗时: 18.76s | 平均训练准确率: 53.44
2025-11-21 00:26:48 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 21/30] 训练耗时: 17.45s | 平均训练准确率: 53.35
2025-11-21 00:27:07 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 22/30] 训练耗时: 18.40s | 平均训练准确率: 53.75
2025-11-21 00:27:25 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 23/30] 训练耗时: 18.67s | 平均训练准确率: 53.97
2025-11-21 00:27:43 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 24/30] 训练耗时: 17.78s | 平均训练准确率: 54.02
2025-11-21 00:28:01 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 25/30] 训练耗时: 17.73s | 平均训练准确率: 53.12
2025-11-21 00:28:18 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 26/30] 训练耗时: 17.66s | 平均训练准确率: 53.88
2025-11-21 00:28:37 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 27/30] 训练耗时: 18.82s | 平均训练准确率: 53.44
2025-11-21 00:28:56 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 28/30] 训练耗时: 18.33s | 平均训练准确率: 53.57
2025-11-21 00:28:56 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | 
2025-11-21 00:28:56 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | ================================================================================
2025-11-21 00:28:56 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] |                     TEST START - Epoch 28/30
2025-11-21 00:28:56 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | ================================================================================
2025-11-21 00:28:56 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | 
2025-11-21 00:31:18 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    21.80 |      78.20 |    46.13 |
| Client 1 |    76.70 |      23.30 |    82.64 |
| Client 2 |    64.29 |      35.71 |    64.53 |
| Client 3 |    59.26 |      40.74 |    63.00 |
| Client 4 |    79.64 |      20.36 |    74.44 |
| Client 5 |    86.62 |      13.38 |    90.25 |
| Client 6 |    47.37 |      52.63 |    53.54 |
| Client 7 |    88.12 |      11.88 |    74.16 |
| Client 8 |    83.61 |      16.39 |    63.97 |
| Client 9 |    82.52 |      17.48 |    78.41 |
| Average  |    68.99 |      31.01 |    69.11 |
+----------+----------+------------+----------+

2025-11-21 00:31:18 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    77.98 |      22.02 |    65.19 |
| Client 1 |    67.89 |      32.11 |    58.36 |
| Client 2 |    68.63 |      31.37 |    61.25 |
| Client 3 |    68.87 |      31.13 |    59.76 |
| Client 4 |    66.98 |      33.02 |    57.83 |
| Client 5 |    66.81 |      33.19 |    57.60 |
| Client 6 |    69.44 |      30.56 |    60.50 |
| Client 7 |    63.85 |      36.15 |    58.81 |
| Client 8 |    64.54 |      35.46 |    59.01 |
| Client 9 |    66.36 |      33.64 |    57.62 |
| Average  |    68.13 |      31.87 |    59.59 |
+----------+----------+------------+----------+

2025-11-21 00:31:18 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | 
2025-11-21 00:31:18 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | ================================================================================
2025-11-21 00:31:18 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 00:31:18 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] |                     测试耗时: 142.83s
2025-11-21 00:31:18 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | ================================================================================
2025-11-21 00:31:18 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | 
2025-11-21 00:31:36 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 29/30] 训练耗时: 18.15s | 平均训练准确率: 59.06
2025-11-21 00:31:37 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | 
2025-11-21 00:31:37 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | ================================================================================
2025-11-21 00:31:37 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] |                     TEST START - Epoch 29/30
2025-11-21 00:31:37 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | ================================================================================
2025-11-21 00:31:37 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | 
2025-11-21 00:34:00 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    43.36 |      56.64 |    62.69 |
| Client 1 |    90.91 |       9.09 |    93.48 |
| Client 2 |    66.88 |      33.12 |    69.95 |
| Client 3 |    63.58 |      36.42 |    66.84 |
| Client 4 |    91.86 |       8.14 |    94.20 |
| Client 5 |    89.81 |      10.19 |    91.86 |
| Client 6 |    70.18 |      29.82 |    77.73 |
| Client 7 |    92.33 |       7.67 |    82.16 |
| Client 8 |    94.46 |       5.54 |    91.71 |
| Client 9 |    82.52 |      17.48 |    84.43 |
| Average  |    78.59 |      21.41 |    81.51 |
+----------+----------+------------+----------+

2025-11-21 00:34:00 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    86.54 |      13.46 |    80.78 |
| Client 1 |    77.98 |      22.02 |    74.39 |
| Client 2 |    79.45 |      20.55 |    77.23 |
| Client 3 |    79.42 |      20.58 |    77.01 |
| Client 4 |    76.96 |      23.04 |    73.91 |
| Client 5 |    77.08 |      22.92 |    73.28 |
| Client 6 |    78.25 |      21.75 |    74.59 |
| Client 7 |    74.33 |      25.67 |    73.41 |
| Client 8 |    73.56 |      26.44 |    71.29 |
| Client 9 |    76.27 |      23.73 |    72.93 |
| Average  |    77.98 |      22.02 |    74.88 |
+----------+----------+------------+----------+

2025-11-21 00:34:00 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | 
2025-11-21 00:34:00 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | ================================================================================
2025-11-21 00:34:00 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 00:34:00 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] |                     测试耗时: 143.16s
2025-11-21 00:34:00 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | ================================================================================
2025-11-21 00:34:00 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | 
2025-11-21 00:34:18 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | [Epoch 30/30] 训练耗时: 17.95s | 平均训练准确率: 68.97
2025-11-21 00:34:18 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | 
2025-11-21 00:34:18 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | ================================================================================
2025-11-21 00:34:18 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] |                     TEST START - Epoch 30/30
2025-11-21 00:34:18 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | ================================================================================
2025-11-21 00:34:18 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | 
2025-11-21 00:36:40 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    62.16 |      37.84 |    77.13 |
| Client 1 |    94.32 |       5.68 |    94.79 |
| Client 2 |    72.08 |      27.92 |    76.49 |
| Client 3 |    83.95 |      16.05 |    86.98 |
| Client 4 |    85.52 |      14.48 |    85.43 |
| Client 5 |    94.90 |       5.10 |    96.93 |
| Client 6 |    83.63 |      16.37 |    87.85 |
| Client 7 |    97.28 |       2.72 |    95.67 |
| Client 8 |    90.60 |       9.40 |    84.37 |
| Client 9 |    94.66 |       5.34 |    95.55 |
| Average  |    85.91 |      14.09 |    88.12 |
+----------+----------+------------+----------+

2025-11-21 00:36:40 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    90.80 |       9.20 |    86.10 |
| Client 1 |    85.32 |      14.68 |    82.38 |
| Client 2 |    86.28 |      13.72 |    84.18 |
| Client 3 |    85.11 |      14.89 |    82.11 |
| Client 4 |    84.67 |      15.33 |    81.76 |
| Client 5 |    83.67 |      16.33 |    80.52 |
| Client 6 |    83.91 |      16.09 |    80.67 |
| Client 7 |    80.93 |      19.07 |    80.05 |
| Client 8 |    81.85 |      18.15 |    80.05 |
| Client 9 |    82.25 |      17.75 |    79.88 |
| Average  |    84.48 |      15.52 |    81.77 |
+----------+----------+------------+----------+

2025-11-21 00:36:40 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | 
2025-11-21 00:36:40 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | ================================================================================
2025-11-21 00:36:40 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 00:36:40 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] |                     测试耗时: 142.44s
2025-11-21 00:36:40 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | ================================================================================
2025-11-21 00:36:40 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | 
2025-11-21 00:36:40 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | maximum test local acc: 85.909
2025-11-21 00:36:40 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | mean of local acc: 77.830
2025-11-21 00:36:40 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | maximum test neighbor acc: 84.480
2025-11-21 00:36:40 | INFO | caltech-101_dpfpl_4_0.4_10_[3/120] | mean of neighbor acc: 76.866
