2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | Loading trainer: DP_FPL
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | Loading dataset: Caltech101
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | Reading split from %s
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | Creating a baseline federated dataset
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | class_num %d
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | user class dict total %s
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | idx: %s, output_dict_len: %d
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | user class dict total %s
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | idx: %s, output_dict_len: %d
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | user class dict total %s
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | idx: %s, output_dict_len: %d
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | user class dict total %s
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | idx: %s, output_dict_len: %d
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | user class dict total %s
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | idx: %s, output_dict_len: %d
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | user class dict total %s
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | idx: %s, output_dict_len: %d
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | user class dict total %s
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | idx: %s, output_dict_len: %d
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | user class dict total %s
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | idx: %s, output_dict_len: %d
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | user class dict total %s
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | idx: %s, output_dict_len: %d
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | user class dict total %s
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | idx: %s, output_dict_len: %d
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | Creating a baseline federated dataset
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | class_num %d
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | user class dict total %s
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | idx: %s, output_dict_len: %d
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | user class dict total %s
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | idx: %s, output_dict_len: %d
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | user class dict total %s
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | idx: %s, output_dict_len: %d
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | user class dict total %s
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | idx: %s, output_dict_len: %d
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | user class dict total %s
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | idx: %s, output_dict_len: %d
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | user class dict total %s
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | idx: %s, output_dict_len: %d
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | user class dict total %s
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | idx: %s, output_dict_len: %d
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | user class dict total %s
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | idx: %s, output_dict_len: %d
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | user class dict total %s
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | idx: %s, output_dict_len: %d
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | user class dict total %s
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | idx: %s, output_dict_len: %d
2025-11-20 23:58:48 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-20 23:58:51 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | Building custom CLIP
2025-11-20 23:58:51 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | Turning off gradients in both the image and the text encoder
2025-11-20 23:58:51 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [wandb] 正在初始化实验：project=SepFPL, name=caltech-101-dpfpl-rank1-noise0.4-seed1-users10-1/120, mode=online
2025-11-20 23:59:26 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 1/30] 训练耗时: 23.64s | 平均训练准确率: 53.21
2025-11-20 23:59:45 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 2/30] 训练耗时: 18.45s | 平均训练准确率: 54.29
2025-11-21 00:00:04 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 3/30] 训练耗时: 18.85s | 平均训练准确率: 53.17
2025-11-21 00:00:22 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 4/30] 训练耗时: 18.61s | 平均训练准确率: 52.14
2025-11-21 00:00:40 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 5/30] 训练耗时: 17.75s | 平均训练准确率: 53.26
2025-11-21 00:00:57 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 6/30] 训练耗时: 17.44s | 平均训练准确率: 53.44
2025-11-21 00:01:16 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 7/30] 训练耗时: 18.50s | 平均训练准确率: 52.99
2025-11-21 00:01:34 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 8/30] 训练耗时: 18.01s | 平均训练准确率: 53.21
2025-11-21 00:01:53 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 9/30] 训练耗时: 18.63s | 平均训练准确率: 53.93
2025-11-21 00:02:11 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 10/30] 训练耗时: 18.05s | 平均训练准确率: 53.57
2025-11-21 00:02:28 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 11/30] 训练耗时: 17.88s | 平均训练准确率: 53.17
2025-11-21 00:02:46 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 12/30] 训练耗时: 17.57s | 平均训练准确率: 51.83
2025-11-21 00:03:04 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 13/30] 训练耗时: 17.62s | 平均训练准确率: 54.20
2025-11-21 00:03:22 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 14/30] 训练耗时: 18.02s | 平均训练准确率: 54.42
2025-11-21 00:03:40 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 15/30] 训练耗时: 18.13s | 平均训练准确率: 53.93
2025-11-21 00:03:58 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 16/30] 训练耗时: 18.64s | 平均训练准确率: 53.84
2025-11-21 00:04:16 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 17/30] 训练耗时: 17.40s | 平均训练准确率: 52.50
2025-11-21 00:04:34 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 18/30] 训练耗时: 17.71s | 平均训练准确率: 53.17
2025-11-21 00:04:51 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 19/30] 训练耗时: 17.67s | 平均训练准确率: 54.69
2025-11-21 00:05:09 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 20/30] 训练耗时: 18.02s | 平均训练准确率: 53.08
2025-11-21 00:05:27 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 21/30] 训练耗时: 17.78s | 平均训练准确率: 52.81
2025-11-21 00:05:45 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 22/30] 训练耗时: 17.99s | 平均训练准确率: 53.84
2025-11-21 00:06:02 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 23/30] 训练耗时: 17.48s | 平均训练准确率: 53.08
2025-11-21 00:06:20 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 24/30] 训练耗时: 17.64s | 平均训练准确率: 54.11
2025-11-21 00:06:38 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 25/30] 训练耗时: 17.79s | 平均训练准确率: 54.06
2025-11-21 00:06:56 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 26/30] 训练耗时: 18.12s | 平均训练准确率: 53.75
2025-11-21 00:07:14 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 27/30] 训练耗时: 18.14s | 平均训练准确率: 54.24
2025-11-21 00:07:32 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 28/30] 训练耗时: 17.82s | 平均训练准确率: 53.39
2025-11-21 00:07:32 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | 
2025-11-21 00:07:32 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | ================================================================================
2025-11-21 00:07:32 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] |                     TEST START - Epoch 28/30
2025-11-21 00:07:32 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | ================================================================================
2025-11-21 00:07:32 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | 
2025-11-21 00:09:56 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    21.80 |      78.20 |    44.64 |
| Client 1 |    77.27 |      22.73 |    82.66 |
| Client 2 |    63.64 |      36.36 |    63.87 |
| Client 3 |    59.88 |      40.12 |    63.65 |
| Client 4 |    78.73 |      21.27 |    72.84 |
| Client 5 |    86.62 |      13.38 |    90.25 |
| Client 6 |    47.37 |      52.63 |    53.54 |
| Client 7 |    89.11 |      10.89 |    75.44 |
| Client 8 |    83.86 |      16.14 |    64.23 |
| Client 9 |    83.01 |      16.99 |    79.48 |
| Average  |    69.13 |      30.87 |    69.06 |
+----------+----------+------------+----------+

2025-11-21 00:09:56 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    77.35 |      22.65 |    64.73 |
| Client 1 |    67.72 |      32.28 |    58.24 |
| Client 2 |    68.71 |      31.29 |    61.31 |
| Client 3 |    68.87 |      31.13 |    59.60 |
| Client 4 |    67.42 |      32.58 |    58.37 |
| Client 5 |    67.20 |      32.80 |    58.06 |
| Client 6 |    69.92 |      30.08 |    61.13 |
| Client 7 |    64.14 |      35.86 |    59.15 |
| Client 8 |    65.07 |      34.93 |    59.73 |
| Client 9 |    66.76 |      33.24 |    58.08 |
| Average  |    68.32 |      31.68 |    59.84 |
+----------+----------+------------+----------+

2025-11-21 00:09:56 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | 
2025-11-21 00:09:56 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | ================================================================================
2025-11-21 00:09:56 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 00:09:56 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] |                     测试耗时: 143.82s
2025-11-21 00:09:56 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | ================================================================================
2025-11-21 00:09:56 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | 
2025-11-21 00:10:14 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 29/30] 训练耗时: 17.86s | 平均训练准确率: 59.38
2025-11-21 00:10:14 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | 
2025-11-21 00:10:14 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | ================================================================================
2025-11-21 00:10:14 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] |                     TEST START - Epoch 29/30
2025-11-21 00:10:14 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | ================================================================================
2025-11-21 00:10:14 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | 
2025-11-21 00:12:34 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    38.35 |      61.65 |    60.34 |
| Client 1 |    92.05 |       7.95 |    93.98 |
| Client 2 |    68.18 |      31.82 |    71.24 |
| Client 3 |    62.96 |      37.04 |    66.34 |
| Client 4 |    87.33 |      12.67 |    89.77 |
| Client 5 |    91.08 |       8.92 |    93.47 |
| Client 6 |    70.18 |      29.82 |    77.04 |
| Client 7 |    92.82 |       7.18 |    83.37 |
| Client 8 |    93.73 |       6.27 |    91.13 |
| Client 9 |    85.92 |      14.08 |    86.39 |
| Average  |    78.26 |      21.74 |    81.31 |
+----------+----------+------------+----------+

2025-11-21 00:12:34 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    86.11 |      13.89 |    79.94 |
| Client 1 |    77.15 |      22.85 |    73.78 |
| Client 2 |    78.97 |      21.03 |    77.00 |
| Client 3 |    79.33 |      20.67 |    77.17 |
| Client 4 |    77.05 |      22.95 |    74.39 |
| Client 5 |    76.78 |      23.22 |    73.27 |
| Client 6 |    78.07 |      21.93 |    74.82 |
| Client 7 |    74.53 |      25.47 |    74.17 |
| Client 8 |    74.20 |      25.80 |    72.72 |
| Client 9 |    76.67 |      23.33 |    74.30 |
| Average  |    77.89 |      22.11 |    75.16 |
+----------+----------+------------+----------+

2025-11-21 00:12:34 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | 
2025-11-21 00:12:34 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | ================================================================================
2025-11-21 00:12:34 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 00:12:34 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] |                     测试耗时: 140.39s
2025-11-21 00:12:34 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | ================================================================================
2025-11-21 00:12:34 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | 
2025-11-21 00:12:52 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | [Epoch 30/30] 训练耗时: 17.85s | 平均训练准确率: 67.59
2025-11-21 00:12:52 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | 
2025-11-21 00:12:52 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | ================================================================================
2025-11-21 00:12:52 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] |                     TEST START - Epoch 30/30
2025-11-21 00:12:52 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | ================================================================================
2025-11-21 00:12:52 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | 
2025-11-21 00:15:11 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    51.38 |      48.62 |    72.94 |
| Client 1 |    94.89 |       5.11 |    95.55 |
| Client 2 |    72.73 |      27.27 |    77.16 |
| Client 3 |    83.33 |      16.67 |    86.79 |
| Client 4 |    86.43 |      13.57 |    86.20 |
| Client 5 |    94.27 |       5.73 |    96.46 |
| Client 6 |    80.70 |      19.30 |    86.03 |
| Client 7 |    97.77 |       2.23 |    96.52 |
| Client 8 |    95.42 |       4.58 |    94.02 |
| Client 9 |    94.17 |       5.83 |    94.05 |
| Average  |    85.11 |      14.89 |    88.57 |
+----------+----------+------------+----------+

2025-11-21 00:15:11 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    91.19 |       8.81 |    86.61 |
| Client 1 |    84.40 |      15.60 |    82.53 |
| Client 2 |    85.76 |      14.24 |    85.09 |
| Client 3 |    84.98 |      15.02 |    83.21 |
| Client 4 |    84.36 |      15.64 |    82.64 |
| Client 5 |    83.54 |      16.46 |    81.35 |
| Client 6 |    84.09 |      15.91 |    81.61 |
| Client 7 |    80.69 |      19.31 |    80.54 |
| Client 8 |    80.83 |      19.17 |    79.40 |
| Client 9 |    82.03 |      17.97 |    80.48 |
| Average  |    84.19 |      15.81 |    82.34 |
+----------+----------+------------+----------+

2025-11-21 00:15:11 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | 
2025-11-21 00:15:11 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | ================================================================================
2025-11-21 00:15:11 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 00:15:11 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] |                     测试耗时: 138.85s
2025-11-21 00:15:11 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | ================================================================================
2025-11-21 00:15:11 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | 
2025-11-21 00:15:11 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | maximum test local acc: 85.109
2025-11-21 00:15:11 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | mean of local acc: 77.499
2025-11-21 00:15:11 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | maximum test neighbor acc: 84.186
2025-11-21 00:15:11 | INFO | caltech-101_dpfpl_1_0.4_10_[1/120] | mean of neighbor acc: 76.796
