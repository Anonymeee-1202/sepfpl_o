2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | Loading trainer: DP_FPL
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | Loading dataset: Caltech101
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | Reading split from %s
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | Creating a baseline federated dataset
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | class_num %d
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | user class dict total %s
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | idx: %s, output_dict_len: %d
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | user class dict total %s
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | idx: %s, output_dict_len: %d
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | user class dict total %s
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | idx: %s, output_dict_len: %d
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | user class dict total %s
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | idx: %s, output_dict_len: %d
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | user class dict total %s
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | idx: %s, output_dict_len: %d
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | user class dict total %s
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | idx: %s, output_dict_len: %d
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | user class dict total %s
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | idx: %s, output_dict_len: %d
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | user class dict total %s
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | idx: %s, output_dict_len: %d
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | user class dict total %s
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | idx: %s, output_dict_len: %d
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | user class dict total %s
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | idx: %s, output_dict_len: %d
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | Creating a baseline federated dataset
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | class_num %d
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | user class dict total %s
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | idx: %s, output_dict_len: %d
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | user class dict total %s
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | idx: %s, output_dict_len: %d
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | user class dict total %s
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | idx: %s, output_dict_len: %d
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | user class dict total %s
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | idx: %s, output_dict_len: %d
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | user class dict total %s
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | idx: %s, output_dict_len: %d
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | user class dict total %s
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | idx: %s, output_dict_len: %d
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | user class dict total %s
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | idx: %s, output_dict_len: %d
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | user class dict total %s
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | idx: %s, output_dict_len: %d
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | user class dict total %s
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | idx: %s, output_dict_len: %d
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | user class dict total %s
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | idx: %s, output_dict_len: %d
2025-11-21 02:54:34 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 02:54:36 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | Building custom CLIP
2025-11-21 02:54:36 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | Turning off gradients in both the image and the text encoder
2025-11-21 02:54:37 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [wandb] 正在初始化实验：project=SepFPL, name=caltech-101-dpfpl-rank1-noise0.01-seed1-users10-41/120, mode=online
2025-11-21 02:55:01 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 1/30] 训练耗时: 19.14s | 平均训练准确率: 53.21
2025-11-21 02:55:19 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 2/30] 训练耗时: 18.08s | 平均训练准确率: 54.29
2025-11-21 02:55:38 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 3/30] 训练耗时: 18.60s | 平均训练准确率: 53.17
2025-11-21 02:55:56 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 4/30] 训练耗时: 17.86s | 平均训练准确率: 52.14
2025-11-21 02:56:14 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 5/30] 训练耗时: 18.53s | 平均训练准确率: 53.26
2025-11-21 02:56:33 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 6/30] 训练耗时: 18.33s | 平均训练准确率: 53.44
2025-11-21 02:56:50 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 7/30] 训练耗时: 17.62s | 平均训练准确率: 52.99
2025-11-21 02:57:08 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 8/30] 训练耗时: 17.93s | 平均训练准确率: 53.21
2025-11-21 02:57:26 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 9/30] 训练耗时: 18.11s | 平均训练准确率: 53.93
2025-11-21 02:57:44 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 10/30] 训练耗时: 17.43s | 平均训练准确率: 53.57
2025-11-21 02:58:02 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 11/30] 训练耗时: 17.87s | 平均训练准确率: 53.17
2025-11-21 02:58:19 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 12/30] 训练耗时: 17.74s | 平均训练准确率: 51.83
2025-11-21 02:58:37 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 13/30] 训练耗时: 17.65s | 平均训练准确率: 54.20
2025-11-21 02:58:54 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 14/30] 训练耗时: 17.46s | 平均训练准确率: 54.42
2025-11-21 02:59:12 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 15/30] 训练耗时: 17.54s | 平均训练准确率: 53.93
2025-11-21 02:59:30 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 16/30] 训练耗时: 17.80s | 平均训练准确率: 53.84
2025-11-21 02:59:47 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 17/30] 训练耗时: 17.62s | 平均训练准确率: 52.50
2025-11-21 03:00:05 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 18/30] 训练耗时: 17.96s | 平均训练准确率: 53.17
2025-11-21 03:00:24 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 19/30] 训练耗时: 18.73s | 平均训练准确率: 54.69
2025-11-21 03:00:43 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 20/30] 训练耗时: 18.52s | 平均训练准确率: 53.08
2025-11-21 03:01:00 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 21/30] 训练耗时: 17.78s | 平均训练准确率: 52.81
2025-11-21 03:01:18 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 22/30] 训练耗时: 17.60s | 平均训练准确率: 53.84
2025-11-21 03:01:36 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 23/30] 训练耗时: 17.61s | 平均训练准确率: 53.08
2025-11-21 03:01:54 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 24/30] 训练耗时: 18.52s | 平均训练准确率: 54.11
2025-11-21 03:02:12 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 25/30] 训练耗时: 18.38s | 平均训练准确率: 54.06
2025-11-21 03:02:31 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 26/30] 训练耗时: 18.24s | 平均训练准确率: 53.75
2025-11-21 03:02:49 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 27/30] 训练耗时: 18.27s | 平均训练准确率: 54.24
2025-11-21 03:03:07 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 28/30] 训练耗时: 17.75s | 平均训练准确率: 53.39
2025-11-21 03:03:07 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | 
2025-11-21 03:03:07 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | ================================================================================
2025-11-21 03:03:07 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] |                     TEST START - Epoch 28/30
2025-11-21 03:03:07 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | ================================================================================
2025-11-21 03:03:07 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | 
2025-11-21 03:05:29 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    27.07 |      72.93 |    53.50 |
| Client 1 |    84.66 |      15.34 |    88.58 |
| Client 2 |    63.64 |      36.36 |    64.04 |
| Client 3 |    51.85 |      48.15 |    55.77 |
| Client 4 |    89.59 |      10.41 |    86.54 |
| Client 5 |    74.52 |      25.48 |    81.13 |
| Client 6 |    42.11 |      57.89 |    49.51 |
| Client 7 |    87.13 |      12.87 |    69.88 |
| Client 8 |    80.00 |      20.00 |    65.39 |
| Client 9 |    80.58 |      19.42 |    77.32 |
| Average  |    68.11 |      31.89 |    69.17 |
+----------+----------+------------+----------+

2025-11-21 03:05:29 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    82.04 |      17.96 |    72.61 |
| Client 1 |    70.03 |      29.97 |    62.28 |
| Client 2 |    68.24 |      31.76 |    61.37 |
| Client 3 |    67.09 |      32.91 |    57.36 |
| Client 4 |    61.99 |      38.01 |    51.97 |
| Client 5 |    62.74 |      37.26 |    51.89 |
| Client 6 |    64.91 |      35.09 |    53.72 |
| Client 7 |    59.73 |      40.27 |    52.80 |
| Client 8 |    62.15 |      37.85 |    54.20 |
| Client 9 |    65.47 |      34.53 |    54.93 |
| Average  |    66.44 |      33.56 |    57.31 |
+----------+----------+------------+----------+

2025-11-21 03:05:29 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | 
2025-11-21 03:05:29 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | ================================================================================
2025-11-21 03:05:29 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 03:05:29 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] |                     测试耗时: 142.25s
2025-11-21 03:05:29 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | ================================================================================
2025-11-21 03:05:29 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | 
2025-11-21 03:05:47 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 29/30] 训练耗时: 18.50s | 平均训练准确率: 57.90
2025-11-21 03:05:47 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | 
2025-11-21 03:05:47 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | ================================================================================
2025-11-21 03:05:47 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] |                     TEST START - Epoch 29/30
2025-11-21 03:05:47 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | ================================================================================
2025-11-21 03:05:47 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | 
2025-11-21 03:08:08 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    35.09 |      64.91 |    61.85 |
| Client 1 |    83.52 |      16.48 |    90.37 |
| Client 2 |    67.53 |      32.47 |    69.64 |
| Client 3 |    41.98 |      58.02 |    52.47 |
| Client 4 |    81.00 |      19.00 |    79.02 |
| Client 5 |    84.08 |      15.92 |    85.05 |
| Client 6 |    52.63 |      47.37 |    58.02 |
| Client 7 |    92.82 |       7.18 |    84.22 |
| Client 8 |    87.71 |      12.29 |    76.92 |
| Client 9 |    89.81 |      10.19 |    87.12 |
| Average  |    71.62 |      28.38 |    74.47 |
+----------+----------+------------+----------+

2025-11-21 03:08:08 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    71.49 |      28.51 |    68.18 |
| Client 1 |    62.91 |      37.09 |    61.64 |
| Client 2 |    61.14 |      38.86 |    59.86 |
| Client 3 |    63.87 |      36.13 |    62.09 |
| Client 4 |    69.16 |      30.84 |    65.20 |
| Client 5 |    74.61 |      25.39 |    66.17 |
| Client 6 |    76.68 |      23.32 |    68.50 |
| Client 7 |    70.98 |      29.02 |    64.76 |
| Client 8 |    71.76 |      28.24 |    64.50 |
| Client 9 |    73.93 |      26.07 |    65.98 |
| Average  |    69.65 |      30.35 |    64.69 |
+----------+----------+------------+----------+

2025-11-21 03:08:08 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | 
2025-11-21 03:08:08 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | ================================================================================
2025-11-21 03:08:08 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 03:08:08 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] |                     测试耗时: 140.83s
2025-11-21 03:08:08 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | ================================================================================
2025-11-21 03:08:08 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | 
2025-11-21 03:08:27 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | [Epoch 30/30] 训练耗时: 18.46s | 平均训练准确率: 61.21
2025-11-21 03:08:27 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | 
2025-11-21 03:08:27 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | ================================================================================
2025-11-21 03:08:27 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] |                     TEST START - Epoch 30/30
2025-11-21 03:08:27 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | ================================================================================
2025-11-21 03:08:27 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | 
2025-11-21 03:10:47 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    57.89 |      42.11 |    73.11 |
| Client 1 |    90.34 |       9.66 |    92.69 |
| Client 2 |    67.53 |      32.47 |    70.87 |
| Client 3 |    69.14 |      30.86 |    72.93 |
| Client 4 |    82.35 |      17.65 |    81.21 |
| Client 5 |    92.99 |       7.01 |    95.72 |
| Client 6 |    67.25 |      32.75 |    73.68 |
| Client 7 |    93.07 |       6.93 |    92.87 |
| Client 8 |    90.84 |       9.16 |    82.46 |
| Client 9 |    90.78 |       9.22 |    87.00 |
| Average  |    80.22 |      19.78 |    82.25 |
+----------+----------+------------+----------+

2025-11-21 03:10:47 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    84.08 |      15.92 |    76.50 |
| Client 1 |    79.25 |      20.75 |    73.34 |
| Client 2 |    81.52 |      18.48 |    76.88 |
| Client 3 |    82.02 |      17.98 |    77.54 |
| Client 4 |    81.51 |      18.49 |    76.35 |
| Client 5 |    80.50 |      19.50 |    73.84 |
| Client 6 |    81.26 |      18.74 |    74.33 |
| Client 7 |    76.95 |      23.05 |    72.11 |
| Client 8 |    77.32 |      22.68 |    70.79 |
| Client 9 |    78.31 |      21.69 |    71.21 |
| Average  |    80.27 |      19.73 |    74.29 |
+----------+----------+------------+----------+

2025-11-21 03:10:47 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | 
2025-11-21 03:10:47 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | ================================================================================
2025-11-21 03:10:47 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 03:10:47 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] |                     测试耗时: 139.88s
2025-11-21 03:10:47 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | ================================================================================
2025-11-21 03:10:47 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | 
2025-11-21 03:10:47 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | maximum test local acc: 80.219
2025-11-21 03:10:47 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | mean of local acc: 73.317
2025-11-21 03:10:47 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | maximum test neighbor acc: 80.271
2025-11-21 03:10:47 | INFO | caltech-101_dpfpl_1_0.01_10_[41/120] | mean of neighbor acc: 72.121
