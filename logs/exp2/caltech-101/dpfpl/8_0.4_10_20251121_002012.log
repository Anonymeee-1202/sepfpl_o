2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | Loading trainer: DP_FPL
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | Loading dataset: Caltech101
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | Reading split from %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | Creating a baseline federated dataset
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | class_num %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | Creating a baseline federated dataset
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | class_num %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | user class dict total %s
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | idx: %s, output_dict_len: %d
2025-11-21 00:20:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 00:20:14 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | Building custom CLIP
2025-11-21 00:20:14 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | Turning off gradients in both the image and the text encoder
2025-11-21 00:20:14 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [wandb] 正在初始化实验：project=SepFPL, name=caltech-101-dpfpl-rank8-noise0.4-seed1-users10-4/120, mode=online
2025-11-21 00:20:45 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 1/30] 训练耗时: 19.16s | 平均训练准确率: 52.95
2025-11-21 00:21:04 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 2/30] 训练耗时: 18.64s | 平均训练准确率: 53.53
2025-11-21 00:21:22 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 3/30] 训练耗时: 18.53s | 平均训练准确率: 53.88
2025-11-21 00:21:41 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 4/30] 训练耗时: 18.39s | 平均训练准确率: 53.44
2025-11-21 00:21:58 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 5/30] 训练耗时: 17.71s | 平均训练准确率: 53.93
2025-11-21 00:22:16 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 6/30] 训练耗时: 17.79s | 平均训练准确率: 53.04
2025-11-21 00:22:35 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 7/30] 训练耗时: 18.42s | 平均训练准确率: 54.29
2025-11-21 00:22:52 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 8/30] 训练耗时: 17.57s | 平均训练准确率: 54.42
2025-11-21 00:23:10 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 9/30] 训练耗时: 18.12s | 平均训练准确率: 54.11
2025-11-21 00:23:28 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 10/30] 训练耗时: 17.52s | 平均训练准确率: 53.62
2025-11-21 00:23:46 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 11/30] 训练耗时: 18.54s | 平均训练准确率: 54.38
2025-11-21 00:24:05 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 12/30] 训练耗时: 18.58s | 平均训练准确率: 53.97
2025-11-21 00:24:22 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 13/30] 训练耗时: 17.65s | 平均训练准确率: 52.54
2025-11-21 00:24:41 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 14/30] 训练耗时: 18.15s | 平均训练准确率: 52.72
2025-11-21 00:24:59 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 15/30] 训练耗时: 18.53s | 平均训练准确率: 53.79
2025-11-21 00:25:17 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 16/30] 训练耗时: 17.50s | 平均训练准确率: 54.15
2025-11-21 00:25:34 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 17/30] 训练耗时: 17.57s | 平均训练准确率: 52.99
2025-11-21 00:25:52 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 18/30] 训练耗时: 18.19s | 平均训练准确率: 54.29
2025-11-21 00:26:10 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 19/30] 训练耗时: 17.62s | 平均训练准确率: 53.84
2025-11-21 00:26:28 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 20/30] 训练耗时: 18.22s | 平均训练准确率: 53.30
2025-11-21 00:26:46 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 21/30] 训练耗时: 17.45s | 平均训练准确率: 54.24
2025-11-21 00:27:03 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 22/30] 训练耗时: 17.76s | 平均训练准确率: 53.44
2025-11-21 00:27:21 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 23/30] 训练耗时: 17.97s | 平均训练准确率: 52.46
2025-11-21 00:27:39 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 24/30] 训练耗时: 17.82s | 平均训练准确率: 53.57
2025-11-21 00:27:57 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 25/30] 训练耗时: 17.72s | 平均训练准确率: 53.79
2025-11-21 00:28:15 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 26/30] 训练耗时: 17.74s | 平均训练准确率: 54.20
2025-11-21 00:28:32 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 27/30] 训练耗时: 17.75s | 平均训练准确率: 54.06
2025-11-21 00:28:51 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 28/30] 训练耗时: 18.16s | 平均训练准确率: 53.66
2025-11-21 00:28:51 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | 
2025-11-21 00:28:51 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | ================================================================================
2025-11-21 00:28:51 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] |                     TEST START - Epoch 28/30
2025-11-21 00:28:51 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | ================================================================================
2025-11-21 00:28:51 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | 
2025-11-21 00:31:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    21.30 |      78.70 |    45.58 |
| Client 1 |    71.59 |      28.41 |    78.32 |
| Client 2 |    63.64 |      36.36 |    64.16 |
| Client 3 |    56.17 |      43.83 |    58.47 |
| Client 4 |    79.19 |      20.81 |    73.62 |
| Client 5 |    85.99 |      14.01 |    90.06 |
| Client 6 |    45.61 |      54.39 |    52.90 |
| Client 7 |    87.62 |      12.38 |    73.85 |
| Client 8 |    82.65 |      17.35 |    63.28 |
| Client 9 |    83.01 |      16.99 |    79.50 |
| Average  |    67.68 |      32.32 |    67.97 |
+----------+----------+------------+----------+

2025-11-21 00:31:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    76.77 |      23.23 |    63.75 |
| Client 1 |    67.37 |      32.63 |    57.21 |
| Client 2 |    67.94 |      32.06 |    59.89 |
| Client 3 |    68.22 |      31.78 |    58.71 |
| Client 4 |    66.13 |      33.87 |    56.42 |
| Client 5 |    65.81 |      34.19 |    56.25 |
| Client 6 |    68.57 |      31.43 |    58.88 |
| Client 7 |    62.88 |      37.12 |    57.51 |
| Client 8 |    63.66 |      36.34 |    57.80 |
| Client 9 |    65.21 |      34.79 |    55.92 |
| Average  |    67.25 |      32.75 |    58.24 |
+----------+----------+------------+----------+

2025-11-21 00:31:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | 
2025-11-21 00:31:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | ================================================================================
2025-11-21 00:31:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 00:31:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] |                     测试耗时: 141.51s
2025-11-21 00:31:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | ================================================================================
2025-11-21 00:31:12 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | 
2025-11-21 00:31:30 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 29/30] 训练耗时: 17.98s | 平均训练准确率: 59.15
2025-11-21 00:31:30 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | 
2025-11-21 00:31:30 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | ================================================================================
2025-11-21 00:31:30 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] |                     TEST START - Epoch 29/30
2025-11-21 00:31:30 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | ================================================================================
2025-11-21 00:31:30 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | 
2025-11-21 00:33:52 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    46.87 |      53.13 |    64.03 |
| Client 1 |    92.61 |       7.39 |    94.58 |
| Client 2 |    68.18 |      31.82 |    72.03 |
| Client 3 |    66.05 |      33.95 |    68.42 |
| Client 4 |    83.71 |      16.29 |    84.56 |
| Client 5 |    92.36 |       7.64 |    94.17 |
| Client 6 |    66.67 |      33.33 |    75.09 |
| Client 7 |    92.33 |       7.67 |    83.55 |
| Client 8 |    93.25 |       6.75 |    89.99 |
| Client 9 |    87.86 |      12.14 |    89.70 |
| Average  |    78.99 |      21.01 |    81.61 |
+----------+----------+------------+----------+

2025-11-21 00:33:52 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    85.33 |      14.67 |    78.83 |
| Client 1 |    77.98 |      22.02 |    73.65 |
| Client 2 |    79.58 |      20.42 |    76.81 |
| Client 3 |    79.46 |      20.54 |    76.62 |
| Client 4 |    77.90 |      22.10 |    74.46 |
| Client 5 |    77.34 |      22.66 |    73.32 |
| Client 6 |    78.86 |      21.14 |    75.44 |
| Client 7 |    75.01 |      24.99 |    74.51 |
| Client 8 |    74.59 |      25.41 |    72.79 |
| Client 9 |    76.54 |      23.46 |    73.81 |
| Average  |    78.26 |      21.74 |    75.02 |
+----------+----------+------------+----------+

2025-11-21 00:33:52 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | 
2025-11-21 00:33:52 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | ================================================================================
2025-11-21 00:33:52 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 00:33:52 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] |                     测试耗时: 141.61s
2025-11-21 00:33:52 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | ================================================================================
2025-11-21 00:33:52 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | 
2025-11-21 00:34:10 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | [Epoch 30/30] 训练耗时: 17.74s | 平均训练准确率: 68.97
2025-11-21 00:34:10 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | 
2025-11-21 00:34:10 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | ================================================================================
2025-11-21 00:34:10 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] |                     TEST START - Epoch 30/30
2025-11-21 00:34:10 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | ================================================================================
2025-11-21 00:34:10 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | 
2025-11-21 00:36:32 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    38.85 |      61.15 |    63.66 |
| Client 1 |    93.75 |       6.25 |    94.24 |
| Client 2 |    70.78 |      29.22 |    74.09 |
| Client 3 |    69.75 |      30.25 |    76.42 |
| Client 4 |    92.31 |       7.69 |    92.44 |
| Client 5 |    94.90 |       5.10 |    96.75 |
| Client 6 |    81.87 |      18.13 |    86.53 |
| Client 7 |    97.03 |       2.97 |    93.85 |
| Client 8 |    96.14 |       3.86 |    95.00 |
| Client 9 |    92.23 |       7.77 |    93.62 |
| Average  |    82.76 |      17.24 |    86.66 |
+----------+----------+------------+----------+

2025-11-21 00:36:32 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    89.84 |      10.16 |    84.79 |
| Client 1 |    80.56 |      19.44 |    78.38 |
| Client 2 |    82.04 |      17.96 |    81.77 |
| Client 3 |    82.24 |      17.76 |    80.58 |
| Client 4 |    80.04 |      19.96 |    78.79 |
| Client 5 |    80.11 |      19.89 |    78.64 |
| Client 6 |    80.86 |      19.14 |    79.13 |
| Client 7 |    77.58 |      22.42 |    78.08 |
| Client 8 |    77.46 |      22.54 |    77.08 |
| Client 9 |    79.42 |      20.58 |    78.27 |
| Average  |    81.02 |      18.98 |    79.55 |
+----------+----------+------------+----------+

2025-11-21 00:36:32 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | 
2025-11-21 00:36:32 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | ================================================================================
2025-11-21 00:36:32 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 00:36:32 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] |                     测试耗时: 142.99s
2025-11-21 00:36:32 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | ================================================================================
2025-11-21 00:36:32 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | 
2025-11-21 00:36:32 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | maximum test local acc: 82.762
2025-11-21 00:36:32 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | mean of local acc: 76.476
2025-11-21 00:36:32 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | maximum test neighbor acc: 81.015
2025-11-21 00:36:32 | INFO | caltech-101_dpfpl_8_0.4_10_[4/120] | mean of neighbor acc: 75.509
