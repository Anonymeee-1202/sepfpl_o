2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | Loading trainer: DP_FPL
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | Loading dataset: OxfordPets
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | Reading split from %s
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | Creating a baseline federated dataset
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | class_num %d
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | user class dict total %s
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | idx: %s, output_dict_len: %d
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | user class dict total %s
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | idx: %s, output_dict_len: %d
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | user class dict total %s
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | idx: %s, output_dict_len: %d
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | user class dict total %s
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | idx: %s, output_dict_len: %d
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | user class dict total %s
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | idx: %s, output_dict_len: %d
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | user class dict total %s
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | idx: %s, output_dict_len: %d
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | user class dict total %s
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | idx: %s, output_dict_len: %d
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | user class dict total %s
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | idx: %s, output_dict_len: %d
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | user class dict total %s
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | idx: %s, output_dict_len: %d
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | user class dict total %s
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | idx: %s, output_dict_len: %d
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | Creating a baseline federated dataset
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | class_num %d
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | user class dict total %s
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | idx: %s, output_dict_len: %d
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | user class dict total %s
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | idx: %s, output_dict_len: %d
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | user class dict total %s
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | idx: %s, output_dict_len: %d
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | user class dict total %s
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | idx: %s, output_dict_len: %d
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | user class dict total %s
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | idx: %s, output_dict_len: %d
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | user class dict total %s
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | idx: %s, output_dict_len: %d
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | user class dict total %s
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | idx: %s, output_dict_len: %d
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | user class dict total %s
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | idx: %s, output_dict_len: %d
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | user class dict total %s
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | idx: %s, output_dict_len: %d
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | user class dict total %s
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | idx: %s, output_dict_len: %d
2025-11-21 04:19:00 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 04:19:02 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | Building custom CLIP
2025-11-21 04:19:02 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | Turning off gradients in both the image and the text encoder
2025-11-21 04:19:03 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [wandb] 正在初始化实验：project=SepFPL, name=oxford_pets-dpfpl-rank1-noise0.4-seed1-users10-61/120, mode=online
2025-11-21 04:19:18 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 1/30] 训练耗时: 10.79s | 平均训练准确率: 50.47
2025-11-21 04:19:24 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 2/30] 训练耗时: 6.32s | 平均训练准确率: 49.53
2025-11-21 04:19:30 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 3/30] 训练耗时: 5.62s | 平均训练准确率: 49.84
2025-11-21 04:19:36 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 4/30] 训练耗时: 5.52s | 平均训练准确率: 52.81
2025-11-21 04:19:41 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 5/30] 训练耗时: 5.34s | 平均训练准确率: 50.16
2025-11-21 04:19:46 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 6/30] 训练耗时: 5.38s | 平均训练准确率: 51.25
2025-11-21 04:19:51 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 7/30] 训练耗时: 5.25s | 平均训练准确率: 52.97
2025-11-21 04:19:56 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 8/30] 训练耗时: 4.78s | 平均训练准确率: 51.25
2025-11-21 04:20:01 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 9/30] 训练耗时: 5.04s | 平均训练准确率: 50.94
2025-11-21 04:20:06 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 10/30] 训练耗时: 5.08s | 平均训练准确率: 52.81
2025-11-21 04:20:11 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 11/30] 训练耗时: 5.00s | 平均训练准确率: 50.00
2025-11-21 04:20:16 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 12/30] 训练耗时: 5.06s | 平均训练准确率: 52.34
2025-11-21 04:20:22 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 13/30] 训练耗时: 5.30s | 平均训练准确率: 53.12
2025-11-21 04:20:27 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 14/30] 训练耗时: 5.47s | 平均训练准确率: 52.66
2025-11-21 04:20:32 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 15/30] 训练耗时: 5.20s | 平均训练准确率: 50.62
2025-11-21 04:20:38 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 16/30] 训练耗时: 5.33s | 平均训练准确率: 51.09
2025-11-21 04:20:43 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 17/30] 训练耗时: 5.35s | 平均训练准确率: 54.06
2025-11-21 04:20:48 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 18/30] 训练耗时: 5.10s | 平均训练准确率: 52.97
2025-11-21 04:20:53 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 19/30] 训练耗时: 5.17s | 平均训练准确率: 52.03
2025-11-21 04:20:59 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 20/30] 训练耗时: 5.33s | 平均训练准确率: 51.72
2025-11-21 04:21:04 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 21/30] 训练耗时: 5.36s | 平均训练准确率: 51.56
2025-11-21 04:21:09 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 22/30] 训练耗时: 5.06s | 平均训练准确率: 51.72
2025-11-21 04:21:14 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 23/30] 训练耗时: 5.26s | 平均训练准确率: 52.03
2025-11-21 04:21:20 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 24/30] 训练耗时: 5.22s | 平均训练准确率: 52.50
2025-11-21 04:21:25 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 25/30] 训练耗时: 5.68s | 平均训练准确率: 52.34
2025-11-21 04:21:31 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 26/30] 训练耗时: 5.37s | 平均训练准确率: 51.72
2025-11-21 04:21:36 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 27/30] 训练耗时: 5.07s | 平均训练准确率: 51.72
2025-11-21 04:21:41 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 28/30] 训练耗时: 5.29s | 平均训练准确率: 51.56
2025-11-21 04:21:41 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | 
2025-11-21 04:21:41 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | ================================================================================
2025-11-21 04:21:41 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] |                     TEST START - Epoch 28/30
2025-11-21 04:21:41 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | ================================================================================
2025-11-21 04:21:41 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | 
2025-11-21 04:27:38 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    69.92 |      30.08 |    72.62 |
| Client 1 |    71.18 |      28.82 |    72.92 |
| Client 2 |    80.72 |      19.28 |    87.19 |
| Client 3 |    87.15 |      12.85 |    91.84 |
| Client 4 |    72.02 |      27.98 |    71.56 |
| Client 5 |    74.44 |      25.56 |    76.48 |
| Client 6 |    69.25 |      30.75 |    78.63 |
| Client 7 |    90.75 |       9.25 |    94.50 |
| Client 8 |    94.00 |       6.00 |    96.89 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    80.94 |      19.06 |    84.26 |
+----------+----------+------------+----------+

2025-11-21 04:27:38 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    80.31 |      19.69 |    77.21 |
| Client 1 |    80.31 |      19.69 |    78.22 |
| Client 2 |    79.45 |      20.55 |    75.86 |
| Client 3 |    78.79 |      21.21 |    77.09 |
| Client 4 |    80.48 |      19.52 |    77.19 |
| Client 5 |    80.24 |      19.76 |    77.24 |
| Client 6 |    80.97 |      19.03 |    78.48 |
| Client 7 |    78.25 |      21.75 |    74.83 |
| Client 8 |    77.94 |      22.06 |    74.31 |
| Client 9 |    79.21 |      20.79 |    75.62 |
| Average  |    79.59 |      20.41 |    76.61 |
+----------+----------+------------+----------+

2025-11-21 04:27:38 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | 
2025-11-21 04:27:38 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | ================================================================================
2025-11-21 04:27:38 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 04:27:38 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] |                     测试耗时: 357.01s
2025-11-21 04:27:38 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | ================================================================================
2025-11-21 04:27:38 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | 
2025-11-21 04:27:43 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 29/30] 训练耗时: 5.20s | 平均训练准确率: 75.47
2025-11-21 04:27:43 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | 
2025-11-21 04:27:43 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | ================================================================================
2025-11-21 04:27:43 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] |                     TEST START - Epoch 29/30
2025-11-21 04:27:43 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | ================================================================================
2025-11-21 04:27:43 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | 
2025-11-21 04:33:10 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    70.68 |      29.32 |    73.71 |
| Client 1 |    71.18 |      28.82 |    74.94 |
| Client 2 |    91.77 |       8.23 |    95.39 |
| Client 3 |    86.65 |      13.35 |    91.45 |
| Client 4 |    72.54 |      27.46 |    71.71 |
| Client 5 |    69.92 |      30.08 |    72.27 |
| Client 6 |    67.00 |      33.00 |    70.89 |
| Client 7 |    78.75 |      21.25 |    83.33 |
| Client 8 |    94.75 |       5.25 |    97.29 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    80.32 |      19.68 |    83.10 |
+----------+----------+------------+----------+

2025-11-21 04:33:10 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    80.43 |      19.57 |    76.98 |
| Client 1 |    80.00 |      20.00 |    77.16 |
| Client 2 |    77.56 |      22.44 |    73.92 |
| Client 3 |    78.03 |      21.97 |    75.58 |
| Client 4 |    79.65 |      20.35 |    75.94 |
| Client 5 |    79.85 |      20.15 |    76.25 |
| Client 6 |    80.02 |      19.98 |    78.54 |
| Client 7 |    78.53 |      21.47 |    74.51 |
| Client 8 |    76.41 |      23.59 |    72.26 |
| Client 9 |    77.70 |      22.30 |    73.66 |
| Average  |    78.82 |      21.18 |    75.48 |
+----------+----------+------------+----------+

2025-11-21 04:33:10 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | 
2025-11-21 04:33:10 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | ================================================================================
2025-11-21 04:33:10 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 04:33:10 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] |                     测试耗时: 326.72s
2025-11-21 04:33:10 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | ================================================================================
2025-11-21 04:33:10 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | 
2025-11-21 04:33:15 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | [Epoch 30/30] 训练耗时: 5.45s | 平均训练准确率: 75.47
2025-11-21 04:33:15 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | 
2025-11-21 04:33:15 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | ================================================================================
2025-11-21 04:33:15 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] |                     TEST START - Epoch 30/30
2025-11-21 04:33:15 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | ================================================================================
2025-11-21 04:33:15 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | 
2025-11-21 04:38:39 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    71.43 |      28.57 |    73.07 |
| Client 1 |    70.93 |      29.07 |    72.67 |
| Client 2 |    91.26 |       8.74 |    95.11 |
| Client 3 |    84.63 |      15.37 |    89.74 |
| Client 4 |    73.32 |      26.68 |    71.91 |
| Client 5 |    86.47 |      13.53 |    91.34 |
| Client 6 |    68.00 |      32.00 |    77.29 |
| Client 7 |    90.75 |       9.25 |    94.50 |
| Client 8 |    94.25 |       5.75 |    96.99 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    83.10 |      16.90 |    86.26 |
+----------+----------+------------+----------+

2025-11-21 04:38:39 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    81.68 |      18.32 |    78.72 |
| Client 1 |    82.05 |      17.95 |    80.14 |
| Client 2 |    79.79 |      20.21 |    76.67 |
| Client 3 |    80.81 |      19.19 |    79.24 |
| Client 4 |    82.42 |      17.58 |    80.40 |
| Client 5 |    81.13 |      18.87 |    78.67 |
| Client 6 |    83.76 |      16.24 |    82.25 |
| Client 7 |    81.13 |      18.87 |    78.99 |
| Client 8 |    80.64 |      19.36 |    78.07 |
| Client 9 |    81.73 |      18.27 |    79.03 |
| Average  |    81.51 |      18.49 |    79.22 |
+----------+----------+------------+----------+

2025-11-21 04:38:39 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | 
2025-11-21 04:38:39 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | ================================================================================
2025-11-21 04:38:39 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 04:38:39 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] |                     测试耗时: 324.02s
2025-11-21 04:38:39 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | ================================================================================
2025-11-21 04:38:39 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | 
2025-11-21 04:38:39 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | maximum test local acc: 83.103
2025-11-21 04:38:39 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | mean of local acc: 81.457
2025-11-21 04:38:39 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | maximum test neighbor acc: 81.513
2025-11-21 04:38:39 | INFO | oxford_pets_dpfpl_1_0.4_10_[61/120] | mean of neighbor acc: 79.975
