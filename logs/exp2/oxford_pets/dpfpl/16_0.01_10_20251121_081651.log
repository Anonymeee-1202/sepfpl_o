2025-11-21 08:16:51 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | Loading trainer: DP_FPL
2025-11-21 08:16:51 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | Loading dataset: OxfordPets
2025-11-21 08:16:51 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | Reading split from %s
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | Creating a baseline federated dataset
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | class_num %d
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | user class dict total %s
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | idx: %s, output_dict_len: %d
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | user class dict total %s
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | idx: %s, output_dict_len: %d
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | user class dict total %s
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | idx: %s, output_dict_len: %d
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | user class dict total %s
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | idx: %s, output_dict_len: %d
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | user class dict total %s
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | idx: %s, output_dict_len: %d
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | user class dict total %s
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | idx: %s, output_dict_len: %d
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | user class dict total %s
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | idx: %s, output_dict_len: %d
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | user class dict total %s
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | idx: %s, output_dict_len: %d
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | user class dict total %s
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | idx: %s, output_dict_len: %d
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | user class dict total %s
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | idx: %s, output_dict_len: %d
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | Creating a baseline federated dataset
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | class_num %d
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | user class dict total %s
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | idx: %s, output_dict_len: %d
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | user class dict total %s
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | idx: %s, output_dict_len: %d
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | user class dict total %s
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | idx: %s, output_dict_len: %d
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | user class dict total %s
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | idx: %s, output_dict_len: %d
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | user class dict total %s
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | idx: %s, output_dict_len: %d
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | user class dict total %s
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | idx: %s, output_dict_len: %d
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | user class dict total %s
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | idx: %s, output_dict_len: %d
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | user class dict total %s
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | idx: %s, output_dict_len: %d
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | user class dict total %s
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | idx: %s, output_dict_len: %d
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | user class dict total %s
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | idx: %s, output_dict_len: %d
2025-11-21 08:16:52 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 08:16:53 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | Building custom CLIP
2025-11-21 08:16:53 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | Turning off gradients in both the image and the text encoder
2025-11-21 08:16:54 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [wandb] 正在初始化实验：project=SepFPL, name=oxford_pets-dpfpl-rank16-noise0.01-seed1-users10-105/120, mode=online
2025-11-21 08:17:04 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 1/30] 训练耗时: 5.77s | 平均训练准确率: 50.62
2025-11-21 08:17:09 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 2/30] 训练耗时: 5.05s | 平均训练准确率: 50.47
2025-11-21 08:17:15 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 3/30] 训练耗时: 5.11s | 平均训练准确率: 52.97
2025-11-21 08:17:20 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 4/30] 训练耗时: 5.31s | 平均训练准确率: 52.19
2025-11-21 08:17:26 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 5/30] 训练耗时: 5.89s | 平均训练准确率: 51.72
2025-11-21 08:17:31 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 6/30] 训练耗时: 5.26s | 平均训练准确率: 50.94
2025-11-21 08:17:36 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 7/30] 训练耗时: 5.14s | 平均训练准确率: 51.09
2025-11-21 08:17:42 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 8/30] 训练耗时: 5.44s | 平均训练准确率: 52.81
2025-11-21 08:17:47 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 9/30] 训练耗时: 5.23s | 平均训练准确率: 52.19
2025-11-21 08:17:53 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 10/30] 训练耗时: 5.81s | 平均训练准确率: 53.44
2025-11-21 08:17:58 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 11/30] 训练耗时: 5.28s | 平均训练准确率: 52.34
2025-11-21 08:18:03 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 12/30] 训练耗时: 5.31s | 平均训练准确率: 54.06
2025-11-21 08:18:08 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 13/30] 训练耗时: 5.18s | 平均训练准确率: 50.47
2025-11-21 08:18:14 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 14/30] 训练耗时: 5.37s | 平均训练准确率: 52.97
2025-11-21 08:18:19 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 15/30] 训练耗时: 5.08s | 平均训练准确率: 50.94
2025-11-21 08:18:24 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 16/30] 训练耗时: 5.19s | 平均训练准确率: 52.34
2025-11-21 08:18:29 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 17/30] 训练耗时: 5.25s | 平均训练准确率: 51.72
2025-11-21 08:18:34 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 18/30] 训练耗时: 5.18s | 平均训练准确率: 52.19
2025-11-21 08:18:40 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 19/30] 训练耗时: 5.35s | 平均训练准确率: 52.50
2025-11-21 08:18:45 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 20/30] 训练耗时: 5.39s | 平均训练准确率: 52.97
2025-11-21 08:18:51 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 21/30] 训练耗时: 5.39s | 平均训练准确率: 50.47
2025-11-21 08:18:56 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 22/30] 训练耗时: 5.12s | 平均训练准确率: 49.53
2025-11-21 08:19:01 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 23/30] 训练耗时: 5.09s | 平均训练准确率: 51.25
2025-11-21 08:19:06 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 24/30] 训练耗时: 5.23s | 平均训练准确率: 50.00
2025-11-21 08:19:11 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 25/30] 训练耗时: 5.44s | 平均训练准确率: 51.56
2025-11-21 08:19:17 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 26/30] 训练耗时: 5.40s | 平均训练准确率: 52.66
2025-11-21 08:19:22 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 27/30] 训练耗时: 5.30s | 平均训练准确率: 52.34
2025-11-21 08:19:28 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 28/30] 训练耗时: 5.35s | 平均训练准确率: 52.66
2025-11-21 08:19:28 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | 
2025-11-21 08:19:28 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | ================================================================================
2025-11-21 08:19:28 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] |                     TEST START - Epoch 28/30
2025-11-21 08:19:28 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | ================================================================================
2025-11-21 08:19:28 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | 
2025-11-21 08:24:59 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    60.40 |      39.60 |    66.34 |
| Client 1 |    49.12 |      50.88 |    49.72 |
| Client 2 |    77.89 |      22.11 |    82.93 |
| Client 3 |    78.84 |      21.16 |    86.34 |
| Client 4 |    72.80 |      27.20 |    71.77 |
| Client 5 |    57.39 |      42.61 |    62.05 |
| Client 6 |    48.75 |      51.25 |    48.64 |
| Client 7 |    98.75 |       1.25 |    99.37 |
| Client 8 |    93.75 |       6.25 |    96.59 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    73.77 |      26.23 |    76.38 |
+----------+----------+------------+----------+

2025-11-21 08:24:59 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    68.17 |      31.83 |    60.55 |
| Client 1 |    69.36 |      30.64 |    64.62 |
| Client 2 |    67.35 |      32.65 |    60.59 |
| Client 3 |    70.26 |      29.74 |    64.67 |
| Client 4 |    71.37 |      28.63 |    65.32 |
| Client 5 |    73.64 |      26.36 |    67.70 |
| Client 6 |    74.82 |      25.18 |    71.25 |
| Client 7 |    68.37 |      31.63 |    63.75 |
| Client 8 |    68.28 |      31.72 |    61.40 |
| Client 9 |    69.80 |      30.20 |    62.84 |
| Average  |    70.14 |      29.86 |    64.27 |
+----------+----------+------------+----------+

2025-11-21 08:24:59 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | 
2025-11-21 08:24:59 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | ================================================================================
2025-11-21 08:24:59 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 08:24:59 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] |                     测试耗时: 331.34s
2025-11-21 08:24:59 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | ================================================================================
2025-11-21 08:24:59 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | 
2025-11-21 08:25:04 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 29/30] 训练耗时: 5.21s | 平均训练准确率: 57.19
2025-11-21 08:25:04 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | 
2025-11-21 08:25:04 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | ================================================================================
2025-11-21 08:25:04 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] |                     TEST START - Epoch 29/30
2025-11-21 08:25:04 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | ================================================================================
2025-11-21 08:25:04 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | 
2025-11-21 08:30:35 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    70.43 |      29.57 |    72.51 |
| Client 1 |    54.89 |      45.11 |    59.54 |
| Client 2 |    88.43 |      11.57 |    92.85 |
| Client 3 |    51.39 |      48.61 |    62.53 |
| Client 4 |    73.83 |      26.17 |    70.80 |
| Client 5 |    48.62 |      51.38 |    49.24 |
| Client 6 |    49.00 |      51.00 |    43.82 |
| Client 7 |    76.50 |      23.50 |    80.12 |
| Client 8 |    96.75 |       3.25 |    98.22 |
| Client 9 |    99.00 |       1.00 |    99.50 |
| Average  |    70.88 |      29.12 |    72.91 |
+----------+----------+------------+----------+

2025-11-21 08:30:35 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    78.20 |      21.80 |    73.58 |
| Client 1 |    77.49 |      22.51 |    72.58 |
| Client 2 |    70.00 |      30.00 |    63.61 |
| Client 3 |    71.91 |      28.09 |    65.18 |
| Client 4 |    66.62 |      33.38 |    60.41 |
| Client 5 |    66.45 |      33.55 |    59.74 |
| Client 6 |    67.21 |      32.79 |    62.10 |
| Client 7 |    65.62 |      34.38 |    58.24 |
| Client 8 |    65.92 |      34.08 |    58.59 |
| Client 9 |    70.52 |      29.48 |    63.17 |
| Average  |    69.99 |      30.01 |    63.72 |
+----------+----------+------------+----------+

2025-11-21 08:30:35 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | 
2025-11-21 08:30:35 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | ================================================================================
2025-11-21 08:30:35 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 08:30:35 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] |                     测试耗时: 330.85s
2025-11-21 08:30:35 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | ================================================================================
2025-11-21 08:30:35 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | 
2025-11-21 08:30:40 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | [Epoch 30/30] 训练耗时: 5.36s | 平均训练准确率: 60.31
2025-11-21 08:30:40 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | 
2025-11-21 08:30:40 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | ================================================================================
2025-11-21 08:30:40 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] |                     TEST START - Epoch 30/30
2025-11-21 08:30:40 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | ================================================================================
2025-11-21 08:30:40 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | 
2025-11-21 08:36:03 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    71.43 |      28.57 |    73.07 |
| Client 1 |    93.48 |       6.52 |    96.59 |
| Client 2 |    87.40 |      12.60 |    92.03 |
| Client 3 |    75.57 |      24.43 |    84.78 |
| Client 4 |    68.91 |      31.09 |    69.53 |
| Client 5 |    70.43 |      29.57 |    72.52 |
| Client 6 |    51.25 |      48.75 |    52.23 |
| Client 7 |    98.75 |       1.25 |    99.37 |
| Client 8 |    94.50 |       5.50 |    96.98 |
| Client 9 |    99.00 |       1.00 |    99.50 |
| Average  |    81.07 |      18.93 |    83.66 |
+----------+----------+------------+----------+

2025-11-21 08:36:03 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    87.03 |      12.97 |    86.11 |
| Client 1 |    83.82 |      16.18 |    82.11 |
| Client 2 |    82.32 |      17.68 |    80.66 |
| Client 3 |    80.17 |      19.83 |    77.32 |
| Client 4 |    80.20 |      19.80 |    77.66 |
| Client 5 |    79.24 |      20.76 |    76.57 |
| Client 6 |    78.37 |      21.63 |    77.03 |
| Client 7 |    68.95 |      31.05 |    64.43 |
| Client 8 |    67.57 |      32.43 |    61.66 |
| Client 9 |    68.81 |      31.19 |    62.53 |
| Average  |    77.65 |      22.35 |    74.61 |
+----------+----------+------------+----------+

2025-11-21 08:36:03 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | 
2025-11-21 08:36:03 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | ================================================================================
2025-11-21 08:36:03 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 08:36:03 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] |                     测试耗时: 322.77s
2025-11-21 08:36:03 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | ================================================================================
2025-11-21 08:36:03 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | 
2025-11-21 08:36:03 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | maximum test local acc: 81.072
2025-11-21 08:36:03 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | mean of local acc: 75.242
2025-11-21 08:36:03 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | maximum test neighbor acc: 77.649
2025-11-21 08:36:03 | INFO | oxford_pets_dpfpl_16_0.01_10_[105/120] | mean of neighbor acc: 72.594
