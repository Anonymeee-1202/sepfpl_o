2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | Loading trainer: DP_FPL
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | Loading dataset: OxfordPets
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | Reading split from %s
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | Creating a baseline federated dataset
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | class_num %d
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | user class dict total %s
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | idx: %s, output_dict_len: %d
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | user class dict total %s
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | idx: %s, output_dict_len: %d
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | user class dict total %s
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | idx: %s, output_dict_len: %d
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | user class dict total %s
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | idx: %s, output_dict_len: %d
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | user class dict total %s
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | idx: %s, output_dict_len: %d
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | user class dict total %s
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | idx: %s, output_dict_len: %d
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | user class dict total %s
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | idx: %s, output_dict_len: %d
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | user class dict total %s
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | idx: %s, output_dict_len: %d
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | user class dict total %s
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | idx: %s, output_dict_len: %d
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | user class dict total %s
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | idx: %s, output_dict_len: %d
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | Creating a baseline federated dataset
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | class_num %d
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | user class dict total %s
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | idx: %s, output_dict_len: %d
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | user class dict total %s
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | idx: %s, output_dict_len: %d
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | user class dict total %s
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | idx: %s, output_dict_len: %d
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | user class dict total %s
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | idx: %s, output_dict_len: %d
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | user class dict total %s
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | idx: %s, output_dict_len: %d
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | user class dict total %s
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | idx: %s, output_dict_len: %d
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | user class dict total %s
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | idx: %s, output_dict_len: %d
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | user class dict total %s
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | idx: %s, output_dict_len: %d
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | user class dict total %s
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | idx: %s, output_dict_len: %d
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | user class dict total %s
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | idx: %s, output_dict_len: %d
2025-11-21 04:39:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 04:39:28 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | Building custom CLIP
2025-11-21 04:39:28 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | Turning off gradients in both the image and the text encoder
2025-11-21 04:39:28 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [wandb] 正在初始化实验：project=SepFPL, name=oxford_pets-dpfpl-rank8-noise0.4-seed1-users10-64/120, mode=online
2025-11-21 04:39:40 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 1/30] 训练耗时: 5.82s | 平均训练准确率: 51.41
2025-11-21 04:39:45 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 2/30] 训练耗时: 5.22s | 平均训练准确率: 53.12
2025-11-21 04:39:50 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 3/30] 训练耗时: 5.46s | 平均训练准确率: 50.94
2025-11-21 04:39:56 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 4/30] 训练耗时: 5.29s | 平均训练准确率: 50.31
2025-11-21 04:40:01 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 5/30] 训练耗时: 5.21s | 平均训练准确率: 52.50
2025-11-21 04:40:06 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 6/30] 训练耗时: 5.03s | 平均训练准确率: 52.03
2025-11-21 04:40:11 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 7/30] 训练耗时: 5.14s | 平均训练准确率: 52.50
2025-11-21 04:40:16 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 8/30] 训练耗时: 4.99s | 平均训练准确率: 51.88
2025-11-21 04:40:21 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 9/30] 训练耗时: 5.26s | 平均训练准确率: 51.41
2025-11-21 04:40:27 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 10/30] 训练耗时: 5.17s | 平均训练准确率: 50.47
2025-11-21 04:40:31 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 11/30] 训练耗时: 4.93s | 平均训练准确率: 50.94
2025-11-21 04:40:37 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 12/30] 训练耗时: 5.27s | 平均训练准确率: 51.25
2025-11-21 04:40:42 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 13/30] 训练耗时: 5.17s | 平均训练准确率: 52.81
2025-11-21 04:40:47 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 14/30] 训练耗时: 5.04s | 平均训练准确率: 53.44
2025-11-21 04:40:52 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 15/30] 训练耗时: 5.15s | 平均训练准确率: 52.50
2025-11-21 04:40:57 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 16/30] 训练耗时: 5.15s | 平均训练准确率: 52.34
2025-11-21 04:41:02 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 17/30] 训练耗时: 5.06s | 平均训练准确率: 52.66
2025-11-21 04:41:07 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 18/30] 训练耗时: 5.07s | 平均训练准确率: 53.44
2025-11-21 04:41:12 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 19/30] 训练耗时: 4.96s | 平均训练准确率: 50.31
2025-11-21 04:41:17 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 20/30] 训练耗时: 5.10s | 平均训练准确率: 50.47
2025-11-21 04:41:23 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 21/30] 训练耗时: 5.08s | 平均训练准确率: 54.22
2025-11-21 04:41:28 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 22/30] 训练耗时: 5.17s | 平均训练准确率: 51.09
2025-11-21 04:41:33 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 23/30] 训练耗时: 5.79s | 平均训练准确率: 51.72
2025-11-21 04:41:39 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 24/30] 训练耗时: 5.21s | 平均训练准确率: 50.78
2025-11-21 04:41:44 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 25/30] 训练耗时: 5.22s | 平均训练准确率: 51.56
2025-11-21 04:41:49 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 26/30] 训练耗时: 5.44s | 平均训练准确率: 52.34
2025-11-21 04:41:55 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 27/30] 训练耗时: 5.26s | 平均训练准确率: 53.12
2025-11-21 04:42:00 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 28/30] 训练耗时: 5.20s | 平均训练准确率: 51.56
2025-11-21 04:42:00 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | 
2025-11-21 04:42:00 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | ================================================================================
2025-11-21 04:42:00 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] |                     TEST START - Epoch 28/30
2025-11-21 04:42:00 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | ================================================================================
2025-11-21 04:42:00 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | 
2025-11-21 04:47:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    69.67 |      30.33 |    72.01 |
| Client 1 |    69.17 |      30.83 |    71.76 |
| Client 2 |    82.01 |      17.99 |    88.42 |
| Client 3 |    88.16 |      11.84 |    92.41 |
| Client 4 |    72.02 |      27.98 |    71.09 |
| Client 5 |    75.44 |      24.56 |    78.79 |
| Client 6 |    58.50 |      41.50 |    65.98 |
| Client 7 |    85.00 |      15.00 |    89.54 |
| Client 8 |    95.00 |       5.00 |    97.43 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    79.50 |      20.50 |    82.74 |
+----------+----------+------------+----------+

2025-11-21 04:47:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    78.72 |      21.28 |    74.98 |
| Client 1 |    78.90 |      21.10 |    76.36 |
| Client 2 |    77.23 |      22.77 |    73.01 |
| Client 3 |    76.68 |      23.32 |    74.75 |
| Client 4 |    78.77 |      21.23 |    75.10 |
| Client 5 |    78.23 |      21.77 |    74.48 |
| Client 6 |    80.15 |      19.85 |    77.20 |
| Client 7 |    76.81 |      23.19 |    72.75 |
| Client 8 |    75.53 |      24.47 |    71.12 |
| Client 9 |    77.08 |      22.92 |    72.66 |
| Average  |    77.81 |      22.19 |    74.24 |
+----------+----------+------------+----------+

2025-11-21 04:47:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | 
2025-11-21 04:47:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | ================================================================================
2025-11-21 04:47:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 04:47:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] |                     测试耗时: 326.06s
2025-11-21 04:47:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | ================================================================================
2025-11-21 04:47:26 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | 
2025-11-21 04:47:31 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 29/30] 训练耗时: 5.36s | 平均训练准确率: 75.94
2025-11-21 04:47:31 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | 
2025-11-21 04:47:31 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | ================================================================================
2025-11-21 04:47:31 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] |                     TEST START - Epoch 29/30
2025-11-21 04:47:31 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | ================================================================================
2025-11-21 04:47:31 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | 
2025-11-21 04:52:57 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    70.43 |      29.57 |    73.00 |
| Client 1 |    68.92 |      31.08 |    71.63 |
| Client 2 |    92.03 |       7.97 |    95.53 |
| Client 3 |    87.15 |      12.85 |    91.62 |
| Client 4 |    72.28 |      27.72 |    71.68 |
| Client 5 |    70.68 |      29.32 |    72.70 |
| Client 6 |    60.25 |      39.75 |    63.38 |
| Client 7 |    79.00 |      21.00 |    82.61 |
| Client 8 |    95.00 |       5.00 |    97.43 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    79.57 |      20.43 |    81.96 |
+----------+----------+------------+----------+

2025-11-21 04:52:57 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    79.94 |      20.06 |    76.05 |
| Client 1 |    79.63 |      20.37 |    76.51 |
| Client 2 |    76.80 |      23.20 |    72.73 |
| Client 3 |    77.14 |      22.86 |    74.47 |
| Client 4 |    78.77 |      21.23 |    74.59 |
| Client 5 |    78.87 |      21.13 |    74.90 |
| Client 6 |    80.12 |      19.88 |    78.14 |
| Client 7 |    77.64 |      22.36 |    73.16 |
| Client 8 |    75.59 |      24.41 |    70.92 |
| Client 9 |    77.00 |      23.00 |    72.45 |
| Average  |    78.15 |      21.85 |    74.39 |
+----------+----------+------------+----------+

2025-11-21 04:52:57 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | 
2025-11-21 04:52:57 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | ================================================================================
2025-11-21 04:52:57 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 04:52:57 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] |                     测试耗时: 325.94s
2025-11-21 04:52:57 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | ================================================================================
2025-11-21 04:52:57 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | 
2025-11-21 04:53:02 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | [Epoch 30/30] 训练耗时: 5.24s | 平均训练准确率: 75.78
2025-11-21 04:53:02 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | 
2025-11-21 04:53:02 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | ================================================================================
2025-11-21 04:53:02 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] |                     TEST START - Epoch 30/30
2025-11-21 04:53:02 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | ================================================================================
2025-11-21 04:53:02 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | 
2025-11-21 04:58:29 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    78.70 |      21.30 |    85.34 |
| Client 1 |    77.19 |      22.81 |    82.29 |
| Client 2 |    92.54 |       7.46 |    95.93 |
| Client 3 |    85.89 |      14.11 |    90.95 |
| Client 4 |    72.54 |      27.46 |    72.32 |
| Client 5 |    79.20 |      20.80 |    83.78 |
| Client 6 |    75.50 |      24.50 |    82.12 |
| Client 7 |    78.50 |      21.50 |    81.65 |
| Client 8 |    94.50 |       5.50 |    97.15 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    83.46 |      16.54 |    87.15 |
+----------+----------+------------+----------+

2025-11-21 04:58:29 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    83.79 |      16.21 |    82.25 |
| Client 1 |    83.36 |      16.64 |    81.97 |
| Client 2 |    81.07 |      18.93 |    79.06 |
| Client 3 |    81.33 |      18.67 |    80.21 |
| Client 4 |    82.52 |      17.48 |    80.32 |
| Client 5 |    81.38 |      18.62 |    78.79 |
| Client 6 |    81.65 |      18.35 |    80.95 |
| Client 7 |    81.13 |      18.87 |    78.36 |
| Client 8 |    79.01 |      20.99 |    75.94 |
| Client 9 |    80.08 |      19.92 |    77.06 |
| Average  |    81.53 |      18.47 |    79.49 |
+----------+----------+------------+----------+

2025-11-21 04:58:29 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | 
2025-11-21 04:58:29 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | ================================================================================
2025-11-21 04:58:29 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 04:58:29 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] |                     测试耗时: 326.36s
2025-11-21 04:58:29 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | ================================================================================
2025-11-21 04:58:29 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | 
2025-11-21 04:58:29 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | maximum test local acc: 83.457
2025-11-21 04:58:29 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | mean of local acc: 80.843
2025-11-21 04:58:29 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | maximum test neighbor acc: 81.531
2025-11-21 04:58:29 | INFO | oxford_pets_dpfpl_8_0.4_10_[64/120] | mean of neighbor acc: 79.163
