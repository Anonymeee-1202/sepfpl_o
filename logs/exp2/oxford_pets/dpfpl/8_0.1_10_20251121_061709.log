2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | Loading trainer: DP_FPL
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | Loading dataset: OxfordPets
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | Reading split from %s
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | Creating a baseline federated dataset
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | class_num %d
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | user class dict total %s
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | idx: %s, output_dict_len: %d
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | user class dict total %s
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | idx: %s, output_dict_len: %d
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | user class dict total %s
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | idx: %s, output_dict_len: %d
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | user class dict total %s
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | idx: %s, output_dict_len: %d
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | user class dict total %s
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | idx: %s, output_dict_len: %d
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | user class dict total %s
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | idx: %s, output_dict_len: %d
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | user class dict total %s
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | idx: %s, output_dict_len: %d
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | user class dict total %s
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | idx: %s, output_dict_len: %d
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | user class dict total %s
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | idx: %s, output_dict_len: %d
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | user class dict total %s
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | idx: %s, output_dict_len: %d
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | Creating a baseline federated dataset
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | class_num %d
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | user class dict total %s
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | idx: %s, output_dict_len: %d
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | user class dict total %s
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | idx: %s, output_dict_len: %d
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | user class dict total %s
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | idx: %s, output_dict_len: %d
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | user class dict total %s
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | idx: %s, output_dict_len: %d
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | user class dict total %s
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | idx: %s, output_dict_len: %d
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | user class dict total %s
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | idx: %s, output_dict_len: %d
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | user class dict total %s
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | idx: %s, output_dict_len: %d
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | user class dict total %s
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | idx: %s, output_dict_len: %d
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | user class dict total %s
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | idx: %s, output_dict_len: %d
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | user class dict total %s
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | idx: %s, output_dict_len: %d
2025-11-21 06:17:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 06:17:11 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | Building custom CLIP
2025-11-21 06:17:11 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | Turning off gradients in both the image and the text encoder
2025-11-21 06:17:12 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [wandb] 正在初始化实验：project=SepFPL, name=oxford_pets-dpfpl-rank8-noise0.1-seed1-users10-84/120, mode=online
2025-11-21 06:17:22 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 1/30] 训练耗时: 5.73s | 平均训练准确率: 51.41
2025-11-21 06:17:27 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 2/30] 训练耗时: 5.30s | 平均训练准确率: 53.12
2025-11-21 06:17:33 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 3/30] 训练耗时: 5.18s | 平均训练准确率: 50.94
2025-11-21 06:17:38 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 4/30] 训练耗时: 5.20s | 平均训练准确率: 50.31
2025-11-21 06:17:43 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 5/30] 训练耗时: 5.22s | 平均训练准确率: 52.50
2025-11-21 06:17:48 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 6/30] 训练耗时: 5.20s | 平均训练准确率: 52.03
2025-11-21 06:17:54 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 7/30] 训练耗时: 5.25s | 平均训练准确率: 52.50
2025-11-21 06:17:59 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 8/30] 训练耗时: 5.33s | 平均训练准确率: 51.88
2025-11-21 06:18:04 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 9/30] 训练耗时: 5.14s | 平均训练准确率: 51.41
2025-11-21 06:18:09 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 10/30] 训练耗时: 5.32s | 平均训练准确率: 50.47
2025-11-21 06:18:15 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 11/30] 训练耗时: 5.41s | 平均训练准确率: 50.94
2025-11-21 06:18:20 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 12/30] 训练耗时: 5.24s | 平均训练准确率: 51.25
2025-11-21 06:18:25 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 13/30] 训练耗时: 5.23s | 平均训练准确率: 52.81
2025-11-21 06:18:30 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 14/30] 训练耗时: 5.17s | 平均训练准确率: 53.44
2025-11-21 06:18:35 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 15/30] 训练耗时: 4.68s | 平均训练准确率: 52.50
2025-11-21 06:18:40 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 16/30] 训练耗时: 4.76s | 平均训练准确率: 52.34
2025-11-21 06:18:45 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 17/30] 训练耗时: 5.23s | 平均训练准确率: 52.66
2025-11-21 06:18:50 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 18/30] 训练耗时: 4.92s | 平均训练准确率: 53.44
2025-11-21 06:18:55 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 19/30] 训练耗时: 4.99s | 平均训练准确率: 50.31
2025-11-21 06:19:00 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 20/30] 训练耗时: 5.18s | 平均训练准确率: 50.47
2025-11-21 06:19:06 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 21/30] 训练耗时: 5.44s | 平均训练准确率: 54.22
2025-11-21 06:19:11 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 22/30] 训练耗时: 5.26s | 平均训练准确率: 51.09
2025-11-21 06:19:16 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 23/30] 训练耗时: 5.13s | 平均训练准确率: 51.72
2025-11-21 06:19:21 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 24/30] 训练耗时: 5.18s | 平均训练准确率: 50.78
2025-11-21 06:19:26 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 25/30] 训练耗时: 5.06s | 平均训练准确率: 51.56
2025-11-21 06:19:32 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 26/30] 训练耗时: 5.38s | 平均训练准确率: 52.34
2025-11-21 06:19:37 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 27/30] 训练耗时: 5.11s | 平均训练准确率: 53.12
2025-11-21 06:19:42 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 28/30] 训练耗时: 5.18s | 平均训练准确率: 51.56
2025-11-21 06:19:42 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | 
2025-11-21 06:19:42 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | ================================================================================
2025-11-21 06:19:42 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] |                     TEST START - Epoch 28/30
2025-11-21 06:19:42 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | ================================================================================
2025-11-21 06:19:42 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | 
2025-11-21 06:25:08 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    70.68 |      29.32 |    72.68 |
| Client 1 |    65.66 |      34.34 |    69.47 |
| Client 2 |    83.80 |      16.20 |    89.92 |
| Client 3 |    89.17 |      10.83 |    92.87 |
| Client 4 |    72.28 |      27.72 |    71.13 |
| Client 5 |    72.68 |      27.32 |    74.88 |
| Client 6 |    54.25 |      45.75 |    59.38 |
| Client 7 |    86.00 |      14.00 |    90.39 |
| Client 8 |    95.25 |       4.75 |    97.56 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    78.98 |      21.02 |    81.83 |
+----------+----------+------------+----------+

2025-11-21 06:25:08 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    77.65 |      22.35 |    73.19 |
| Client 1 |    78.13 |      21.87 |    74.74 |
| Client 2 |    76.34 |      23.66 |    71.47 |
| Client 3 |    75.92 |      24.08 |    73.32 |
| Client 4 |    78.22 |      21.78 |    73.89 |
| Client 5 |    78.13 |      21.87 |    73.94 |
| Client 6 |    80.18 |      19.82 |    76.96 |
| Client 7 |    76.17 |      23.83 |    71.44 |
| Client 8 |    74.92 |      25.08 |    69.89 |
| Client 9 |    76.27 |      23.73 |    71.09 |
| Average  |    77.19 |      22.81 |    73.00 |
+----------+----------+------------+----------+

2025-11-21 06:25:08 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | 
2025-11-21 06:25:08 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | ================================================================================
2025-11-21 06:25:08 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 06:25:08 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] |                     测试耗时: 326.30s
2025-11-21 06:25:08 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | ================================================================================
2025-11-21 06:25:08 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | 
2025-11-21 06:25:13 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 29/30] 训练耗时: 5.26s | 平均训练准确率: 72.97
2025-11-21 06:25:13 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | 
2025-11-21 06:25:13 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | ================================================================================
2025-11-21 06:25:13 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] |                     TEST START - Epoch 29/30
2025-11-21 06:25:13 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | ================================================================================
2025-11-21 06:25:13 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | 
2025-11-21 06:30:41 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    70.93 |      29.07 |    73.15 |
| Client 1 |    70.43 |      29.57 |    72.39 |
| Client 2 |    89.97 |      10.03 |    94.46 |
| Client 3 |    88.41 |      11.59 |    92.40 |
| Client 4 |    72.28 |      27.72 |    71.56 |
| Client 5 |    72.43 |      27.57 |    74.05 |
| Client 6 |    60.50 |      39.50 |    64.70 |
| Client 7 |    79.00 |      21.00 |    83.05 |
| Client 8 |    95.00 |       5.00 |    97.43 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    79.90 |      20.10 |    82.32 |
+----------+----------+------------+----------+

2025-11-21 06:30:41 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    81.71 |      18.29 |    78.72 |
| Client 1 |    80.98 |      19.02 |    78.48 |
| Client 2 |    77.90 |      22.10 |    74.10 |
| Client 3 |    77.69 |      22.31 |    75.49 |
| Client 4 |    79.10 |      20.90 |    75.00 |
| Client 5 |    78.72 |      21.28 |    74.92 |
| Client 6 |    79.87 |      20.13 |    77.61 |
| Client 7 |    77.30 |      22.70 |    72.76 |
| Client 8 |    75.25 |      24.75 |    70.59 |
| Client 9 |    76.55 |      23.45 |    72.02 |
| Average  |    78.51 |      21.49 |    74.97 |
+----------+----------+------------+----------+

2025-11-21 06:30:41 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | 
2025-11-21 06:30:41 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | ================================================================================
2025-11-21 06:30:41 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 06:30:41 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] |                     测试耗时: 327.16s
2025-11-21 06:30:41 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | ================================================================================
2025-11-21 06:30:41 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | 
2025-11-21 06:30:46 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | [Epoch 30/30] 训练耗时: 5.28s | 平均训练准确率: 76.88
2025-11-21 06:30:46 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | 
2025-11-21 06:30:46 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | ================================================================================
2025-11-21 06:30:46 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] |                     TEST START - Epoch 30/30
2025-11-21 06:30:46 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | ================================================================================
2025-11-21 06:30:46 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | 
2025-11-21 06:36:16 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    75.19 |      24.81 |    81.06 |
| Client 1 |    77.19 |      22.81 |    82.29 |
| Client 2 |    90.49 |       9.51 |    94.75 |
| Client 3 |    86.90 |      13.10 |    91.40 |
| Client 4 |    72.54 |      27.46 |    71.83 |
| Client 5 |    82.46 |      17.54 |    87.87 |
| Client 6 |    72.00 |      28.00 |    79.02 |
| Client 7 |    81.75 |      18.25 |    86.16 |
| Client 8 |    94.25 |       5.75 |    97.03 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    83.28 |      16.72 |    87.14 |
+----------+----------+------------+----------+

2025-11-21 06:36:16 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    85.20 |      14.80 |    84.07 |
| Client 1 |    83.43 |      16.57 |    82.01 |
| Client 2 |    80.95 |      19.05 |    78.57 |
| Client 3 |    80.90 |      19.10 |    79.52 |
| Client 4 |    82.36 |      17.64 |    79.96 |
| Client 5 |    80.80 |      19.20 |    78.07 |
| Client 6 |    81.98 |      18.02 |    81.10 |
| Client 7 |    80.73 |      19.27 |    78.09 |
| Client 8 |    79.11 |      20.89 |    76.26 |
| Client 9 |    80.22 |      19.78 |    77.46 |
| Average  |    81.57 |      18.43 |    79.51 |
+----------+----------+------------+----------+

2025-11-21 06:36:16 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | 
2025-11-21 06:36:16 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | ================================================================================
2025-11-21 06:36:16 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 06:36:16 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] |                     测试耗时: 329.94s
2025-11-21 06:36:16 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | ================================================================================
2025-11-21 06:36:16 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | 
2025-11-21 06:36:16 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | maximum test local acc: 83.277
2025-11-21 06:36:16 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | mean of local acc: 80.716
2025-11-21 06:36:16 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | maximum test neighbor acc: 81.566
2025-11-21 06:36:16 | INFO | oxford_pets_dpfpl_8_0.1_10_[84/120] | mean of neighbor acc: 79.089
