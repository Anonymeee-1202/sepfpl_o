2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | Loading trainer: DP_FPL
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | Loading dataset: OxfordPets
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | Reading split from %s
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | Creating a baseline federated dataset
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | class_num %d
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | user class dict total %s
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | idx: %s, output_dict_len: %d
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | user class dict total %s
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | idx: %s, output_dict_len: %d
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | user class dict total %s
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | idx: %s, output_dict_len: %d
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | user class dict total %s
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | idx: %s, output_dict_len: %d
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | user class dict total %s
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | idx: %s, output_dict_len: %d
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | user class dict total %s
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | idx: %s, output_dict_len: %d
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | user class dict total %s
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | idx: %s, output_dict_len: %d
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | user class dict total %s
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | idx: %s, output_dict_len: %d
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | user class dict total %s
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | idx: %s, output_dict_len: %d
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | user class dict total %s
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | idx: %s, output_dict_len: %d
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | Creating a baseline federated dataset
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | class_num %d
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | user class dict total %s
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | idx: %s, output_dict_len: %d
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | user class dict total %s
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | idx: %s, output_dict_len: %d
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | user class dict total %s
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | idx: %s, output_dict_len: %d
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | user class dict total %s
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | idx: %s, output_dict_len: %d
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | user class dict total %s
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | idx: %s, output_dict_len: %d
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | user class dict total %s
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | idx: %s, output_dict_len: %d
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | user class dict total %s
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | idx: %s, output_dict_len: %d
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | user class dict total %s
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | idx: %s, output_dict_len: %d
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | user class dict total %s
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | idx: %s, output_dict_len: %d
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | user class dict total %s
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | idx: %s, output_dict_len: %d
2025-11-21 06:38:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 06:38:11 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | Building custom CLIP
2025-11-21 06:38:11 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | Turning off gradients in both the image and the text encoder
2025-11-21 06:38:11 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [wandb] 正在初始化实验：project=SepFPL, name=oxford_pets-dpfpl-rank16-noise0.1-seed1-users10-85/120, mode=online
2025-11-21 06:38:23 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 1/30] 训练耗时: 6.26s | 平均训练准确率: 50.62
2025-11-21 06:38:29 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 2/30] 训练耗时: 5.66s | 平均训练准确率: 50.47
2025-11-21 06:38:34 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 3/30] 训练耗时: 5.16s | 平均训练准确率: 52.97
2025-11-21 06:38:40 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 4/30] 训练耗时: 5.83s | 平均训练准确率: 52.19
2025-11-21 06:38:45 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 5/30] 训练耗时: 5.55s | 平均训练准确率: 51.72
2025-11-21 06:38:51 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 6/30] 训练耗时: 5.36s | 平均训练准确率: 50.94
2025-11-21 06:38:56 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 7/30] 训练耗时: 5.24s | 平均训练准确率: 51.09
2025-11-21 06:39:01 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 8/30] 训练耗时: 5.00s | 平均训练准确率: 52.81
2025-11-21 06:39:06 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 9/30] 训练耗时: 5.11s | 平均训练准确率: 52.19
2025-11-21 06:39:11 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 10/30] 训练耗时: 5.16s | 平均训练准确率: 53.44
2025-11-21 06:39:16 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 11/30] 训练耗时: 5.33s | 平均训练准确率: 52.34
2025-11-21 06:39:22 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 12/30] 训练耗时: 5.15s | 平均训练准确率: 54.06
2025-11-21 06:39:27 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 13/30] 训练耗时: 5.28s | 平均训练准确率: 50.47
2025-11-21 06:39:32 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 14/30] 训练耗时: 5.16s | 平均训练准确率: 52.97
2025-11-21 06:39:37 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 15/30] 训练耗时: 5.09s | 平均训练准确率: 50.94
2025-11-21 06:39:42 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 16/30] 训练耗时: 5.31s | 平均训练准确率: 52.34
2025-11-21 06:39:48 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 17/30] 训练耗时: 5.16s | 平均训练准确率: 51.72
2025-11-21 06:39:53 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 18/30] 训练耗时: 5.48s | 平均训练准确率: 52.19
2025-11-21 06:39:58 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 19/30] 训练耗时: 5.13s | 平均训练准确率: 52.50
2025-11-21 06:40:04 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 20/30] 训练耗时: 5.41s | 平均训练准确率: 52.97
2025-11-21 06:40:09 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 21/30] 训练耗时: 5.09s | 平均训练准确率: 50.47
2025-11-21 06:40:14 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 22/30] 训练耗时: 5.36s | 平均训练准确率: 49.53
2025-11-21 06:40:19 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 23/30] 训练耗时: 5.22s | 平均训练准确率: 51.25
2025-11-21 06:40:24 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 24/30] 训练耗时: 5.00s | 平均训练准确率: 50.00
2025-11-21 06:40:29 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 25/30] 训练耗时: 5.11s | 平均训练准确率: 51.56
2025-11-21 06:40:34 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 26/30] 训练耗时: 5.03s | 平均训练准确率: 52.66
2025-11-21 06:40:40 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 27/30] 训练耗时: 5.25s | 平均训练准确率: 52.34
2025-11-21 06:40:45 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 28/30] 训练耗时: 5.04s | 平均训练准确率: 52.66
2025-11-21 06:40:45 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | 
2025-11-21 06:40:45 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | ================================================================================
2025-11-21 06:40:45 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] |                     TEST START - Epoch 28/30
2025-11-21 06:40:45 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | ================================================================================
2025-11-21 06:40:45 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | 
2025-11-21 06:46:21 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    69.92 |      30.08 |    72.27 |
| Client 1 |    70.68 |      29.32 |    72.64 |
| Client 2 |    83.03 |      16.97 |    89.17 |
| Client 3 |    86.65 |      13.35 |    91.36 |
| Client 4 |    71.76 |      28.24 |    71.87 |
| Client 5 |    72.93 |      27.07 |    74.33 |
| Client 6 |    72.25 |      27.75 |    81.36 |
| Client 7 |    87.75 |      12.25 |    92.15 |
| Client 8 |    94.75 |       5.25 |    97.29 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    80.97 |      19.03 |    84.25 |
+----------+----------+------------+----------+

2025-11-21 06:46:21 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    78.96 |      21.04 |    75.00 |
| Client 1 |    79.72 |      20.28 |    77.00 |
| Client 2 |    78.78 |      21.22 |    75.09 |
| Client 3 |    78.48 |      21.52 |    76.80 |
| Client 4 |    80.29 |      19.71 |    76.87 |
| Client 5 |    80.43 |      19.57 |    77.74 |
| Client 6 |    80.73 |      19.27 |    78.62 |
| Client 7 |    79.01 |      20.99 |    75.87 |
| Client 8 |    78.22 |      21.78 |    75.16 |
| Client 9 |    79.55 |      20.45 |    76.46 |
| Average  |    79.42 |      20.58 |    76.46 |
+----------+----------+------------+----------+

2025-11-21 06:46:21 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | 
2025-11-21 06:46:21 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | ================================================================================
2025-11-21 06:46:21 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 06:46:21 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] |                     测试耗时: 335.86s
2025-11-21 06:46:21 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | ================================================================================
2025-11-21 06:46:21 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | 
2025-11-21 06:46:26 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 29/30] 训练耗时: 5.36s | 平均训练准确率: 73.12
2025-11-21 06:46:26 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | 
2025-11-21 06:46:26 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | ================================================================================
2025-11-21 06:46:26 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] |                     TEST START - Epoch 29/30
2025-11-21 06:46:26 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | ================================================================================
2025-11-21 06:46:26 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | 
2025-11-21 06:51:58 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    69.92 |      30.08 |    72.26 |
| Client 1 |    76.44 |      23.56 |    81.46 |
| Client 2 |    92.03 |       7.97 |    95.67 |
| Client 3 |    84.89 |      15.11 |    90.46 |
| Client 4 |    71.50 |      28.50 |    71.47 |
| Client 5 |    69.92 |      30.08 |    72.25 |
| Client 6 |    58.50 |      41.50 |    60.08 |
| Client 7 |    86.25 |      13.75 |    91.60 |
| Client 8 |    95.00 |       5.00 |    97.43 |
| Client 9 |    99.00 |       1.00 |    99.50 |
| Average  |    80.35 |      19.65 |    83.22 |
+----------+----------+------------+----------+

2025-11-21 06:51:58 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    80.15 |      19.85 |    76.43 |
| Client 1 |    79.45 |      20.55 |    76.06 |
| Client 2 |    77.50 |      22.50 |    74.24 |
| Client 3 |    77.81 |      22.19 |    75.11 |
| Client 4 |    79.29 |      20.71 |    75.77 |
| Client 5 |    79.57 |      20.43 |    76.34 |
| Client 6 |    80.73 |      19.27 |    80.05 |
| Client 7 |    76.97 |      23.03 |    73.16 |
| Client 8 |    75.99 |      24.01 |    72.34 |
| Client 9 |    77.30 |      22.70 |    73.66 |
| Average  |    78.48 |      21.52 |    75.32 |
+----------+----------+------------+----------+

2025-11-21 06:51:58 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | 
2025-11-21 06:51:58 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | ================================================================================
2025-11-21 06:51:58 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 06:51:58 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] |                     测试耗时: 331.69s
2025-11-21 06:51:58 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | ================================================================================
2025-11-21 06:51:58 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | 
2025-11-21 06:52:03 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | [Epoch 30/30] 训练耗时: 5.27s | 平均训练准确率: 75.78
2025-11-21 06:52:03 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | 
2025-11-21 06:52:03 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | ================================================================================
2025-11-21 06:52:03 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] |                     TEST START - Epoch 30/30
2025-11-21 06:52:03 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | ================================================================================
2025-11-21 06:52:03 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | 
2025-11-21 06:57:37 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    72.43 |      27.57 |    73.72 |
| Client 1 |    70.68 |      29.32 |    72.51 |
| Client 2 |    85.35 |      14.65 |    91.11 |
| Client 3 |    86.90 |      13.10 |    91.09 |
| Client 4 |    73.06 |      26.94 |    70.39 |
| Client 5 |    90.48 |       9.52 |    94.52 |
| Client 6 |    48.00 |      52.00 |    50.25 |
| Client 7 |    95.25 |       4.75 |    97.43 |
| Client 8 |    95.25 |       4.75 |    97.56 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    81.74 |      18.26 |    83.86 |
+----------+----------+------------+----------+

2025-11-21 06:57:37 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    78.84 |      21.16 |    74.51 |
| Client 1 |    80.21 |      19.79 |    76.90 |
| Client 2 |    78.81 |      21.19 |    74.17 |
| Client 3 |    78.94 |      21.06 |    75.99 |
| Client 4 |    80.69 |      19.31 |    76.96 |
| Client 5 |    78.53 |      21.47 |    74.11 |
| Client 6 |    83.45 |      16.55 |    81.03 |
| Client 7 |    77.21 |      22.79 |    73.33 |
| Client 8 |    76.84 |      23.16 |    71.77 |
| Client 9 |    78.17 |      21.83 |    73.28 |
| Average  |    79.17 |      20.83 |    75.21 |
+----------+----------+------------+----------+

2025-11-21 06:57:37 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | 
2025-11-21 06:57:37 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | ================================================================================
2025-11-21 06:57:37 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 06:57:37 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] |                     测试耗时: 333.87s
2025-11-21 06:57:37 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | ================================================================================
2025-11-21 06:57:37 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | 
2025-11-21 06:57:37 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | maximum test local acc: 81.739
2025-11-21 06:57:37 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | mean of local acc: 81.019
2025-11-21 06:57:37 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | maximum test neighbor acc: 79.418
2025-11-21 06:57:37 | INFO | oxford_pets_dpfpl_16_0.1_10_[85/120] | mean of neighbor acc: 79.021
