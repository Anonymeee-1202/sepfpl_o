2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | Loading trainer: DP_FPL
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | Loading dataset: OxfordPets
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | Reading split from %s
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | Creating a baseline federated dataset
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | class_num %d
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | user class dict total %s
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | idx: %s, output_dict_len: %d
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | user class dict total %s
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | idx: %s, output_dict_len: %d
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | user class dict total %s
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | idx: %s, output_dict_len: %d
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | user class dict total %s
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | idx: %s, output_dict_len: %d
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | user class dict total %s
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | idx: %s, output_dict_len: %d
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | user class dict total %s
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | idx: %s, output_dict_len: %d
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | user class dict total %s
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | idx: %s, output_dict_len: %d
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | user class dict total %s
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | idx: %s, output_dict_len: %d
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | user class dict total %s
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | idx: %s, output_dict_len: %d
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | user class dict total %s
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | idx: %s, output_dict_len: %d
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | Creating a baseline federated dataset
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | class_num %d
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | user class dict total %s
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | idx: %s, output_dict_len: %d
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | user class dict total %s
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | idx: %s, output_dict_len: %d
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | user class dict total %s
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | idx: %s, output_dict_len: %d
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | user class dict total %s
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | idx: %s, output_dict_len: %d
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | user class dict total %s
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | idx: %s, output_dict_len: %d
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | user class dict total %s
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | idx: %s, output_dict_len: %d
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | user class dict total %s
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | idx: %s, output_dict_len: %d
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | user class dict total %s
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | idx: %s, output_dict_len: %d
2025-11-21 05:59:23 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | user class dict total %s
2025-11-21 05:59:24 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | idx: %s, output_dict_len: %d
2025-11-21 05:59:24 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | user class dict total %s
2025-11-21 05:59:24 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | idx: %s, output_dict_len: %d
2025-11-21 05:59:24 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 05:59:26 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | Building custom CLIP
2025-11-21 05:59:26 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | Turning off gradients in both the image and the text encoder
2025-11-21 05:59:26 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [wandb] 正在初始化实验：project=SepFPL, name=oxford_pets-dpfpl-rank1-noise0.1-seed1-users10-81/120, mode=online
2025-11-21 05:59:36 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 1/30] 训练耗时: 5.83s | 平均训练准确率: 50.47
2025-11-21 05:59:42 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 2/30] 训练耗时: 5.49s | 平均训练准确率: 49.53
2025-11-21 05:59:47 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 3/30] 训练耗时: 5.32s | 平均训练准确率: 49.84
2025-11-21 05:59:53 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 4/30] 训练耗时: 5.44s | 平均训练准确率: 52.81
2025-11-21 05:59:58 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 5/30] 训练耗时: 4.99s | 平均训练准确率: 50.16
2025-11-21 06:00:03 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 6/30] 训练耗时: 5.22s | 平均训练准确率: 51.25
2025-11-21 06:00:08 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 7/30] 训练耗时: 5.24s | 平均训练准确率: 52.97
2025-11-21 06:00:13 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 8/30] 训练耗时: 5.18s | 平均训练准确率: 51.25
2025-11-21 06:00:19 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 9/30] 训练耗时: 5.26s | 平均训练准确率: 50.94
2025-11-21 06:00:24 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 10/30] 训练耗时: 5.27s | 平均训练准确率: 52.81
2025-11-21 06:00:29 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 11/30] 训练耗时: 5.22s | 平均训练准确率: 50.00
2025-11-21 06:00:34 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 12/30] 训练耗时: 5.26s | 平均训练准确率: 52.34
2025-11-21 06:00:40 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 13/30] 训练耗时: 5.31s | 平均训练准确率: 53.12
2025-11-21 06:00:45 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 14/30] 训练耗时: 5.33s | 平均训练准确率: 52.66
2025-11-21 06:00:50 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 15/30] 训练耗时: 5.33s | 平均训练准确率: 50.62
2025-11-21 06:00:56 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 16/30] 训练耗时: 5.31s | 平均训练准确率: 51.09
2025-11-21 06:01:01 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 17/30] 训练耗时: 5.25s | 平均训练准确率: 54.06
2025-11-21 06:01:06 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 18/30] 训练耗时: 5.25s | 平均训练准确率: 52.97
2025-11-21 06:01:11 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 19/30] 训练耗时: 5.19s | 平均训练准确率: 52.03
2025-11-21 06:01:17 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 20/30] 训练耗时: 5.43s | 平均训练准确率: 51.72
2025-11-21 06:01:22 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 21/30] 训练耗时: 5.21s | 平均训练准确率: 51.56
2025-11-21 06:01:27 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 22/30] 训练耗时: 5.27s | 平均训练准确率: 51.72
2025-11-21 06:01:32 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 23/30] 训练耗时: 5.29s | 平均训练准确率: 52.03
2025-11-21 06:01:38 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 24/30] 训练耗时: 5.31s | 平均训练准确率: 52.50
2025-11-21 06:01:43 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 25/30] 训练耗时: 5.35s | 平均训练准确率: 52.34
2025-11-21 06:01:48 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 26/30] 训练耗时: 5.25s | 平均训练准确率: 51.72
2025-11-21 06:01:54 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 27/30] 训练耗时: 5.20s | 平均训练准确率: 51.72
2025-11-21 06:01:59 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 28/30] 训练耗时: 5.25s | 平均训练准确率: 51.56
2025-11-21 06:01:59 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | 
2025-11-21 06:01:59 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | ================================================================================
2025-11-21 06:01:59 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] |                     TEST START - Epoch 28/30
2025-11-21 06:01:59 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | ================================================================================
2025-11-21 06:01:59 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | 
2025-11-21 06:07:26 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    69.17 |      30.83 |    72.22 |
| Client 1 |    70.93 |      29.07 |    72.78 |
| Client 2 |    80.46 |      19.54 |    86.97 |
| Client 3 |    88.66 |      11.34 |    92.74 |
| Client 4 |    72.02 |      27.98 |    71.90 |
| Client 5 |    72.43 |      27.57 |    73.70 |
| Client 6 |    69.75 |      30.25 |    78.99 |
| Client 7 |    91.00 |       9.00 |    94.68 |
| Client 8 |    93.75 |       6.25 |    96.76 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    80.82 |      19.18 |    84.07 |
+----------+----------+------------+----------+

2025-11-21 06:07:26 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    80.46 |      19.54 |    77.24 |
| Client 1 |    80.18 |      19.82 |    77.87 |
| Client 2 |    79.18 |      20.82 |    75.51 |
| Client 3 |    78.21 |      21.79 |    76.64 |
| Client 4 |    80.35 |      19.65 |    76.95 |
| Client 5 |    80.49 |      19.51 |    77.59 |
| Client 6 |    80.79 |      19.21 |    78.34 |
| Client 7 |    78.37 |      21.63 |    75.06 |
| Client 8 |    77.97 |      22.03 |    74.43 |
| Client 9 |    79.07 |      20.93 |    75.54 |
| Average  |    79.51 |      20.49 |    76.52 |
+----------+----------+------------+----------+

2025-11-21 06:07:26 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | 
2025-11-21 06:07:26 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | ================================================================================
2025-11-21 06:07:26 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 06:07:26 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] |                     测试耗时: 326.77s
2025-11-21 06:07:26 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | ================================================================================
2025-11-21 06:07:26 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | 
2025-11-21 06:07:31 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 29/30] 训练耗时: 5.16s | 平均训练准确率: 74.84
2025-11-21 06:07:31 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | 
2025-11-21 06:07:31 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | ================================================================================
2025-11-21 06:07:31 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] |                     TEST START - Epoch 29/30
2025-11-21 06:07:31 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | ================================================================================
2025-11-21 06:07:31 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | 
2025-11-21 06:12:57 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    70.93 |      29.07 |    73.85 |
| Client 1 |    74.19 |      25.81 |    78.85 |
| Client 2 |    91.52 |       8.48 |    95.25 |
| Client 3 |    86.15 |      13.85 |    90.94 |
| Client 4 |    72.54 |      27.46 |    71.83 |
| Client 5 |    70.93 |      29.07 |    72.85 |
| Client 6 |    67.00 |      33.00 |    73.54 |
| Client 7 |    81.00 |      19.00 |    86.25 |
| Client 8 |    95.25 |       4.75 |    97.55 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    80.95 |      19.05 |    84.09 |
+----------+----------+------------+----------+

2025-11-21 06:12:57 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    81.19 |      18.81 |    78.29 |
| Client 1 |    80.58 |      19.42 |    77.95 |
| Client 2 |    78.23 |      21.77 |    74.99 |
| Client 3 |    78.42 |      21.58 |    76.48 |
| Client 4 |    79.81 |      20.19 |    76.48 |
| Client 5 |    79.91 |      20.09 |    76.79 |
| Client 6 |    80.39 |      19.61 |    78.76 |
| Client 7 |    78.65 |      21.35 |    74.92 |
| Client 8 |    76.97 |      23.03 |    73.22 |
| Client 9 |    78.34 |      21.66 |    74.77 |
| Average  |    79.25 |      20.75 |    76.26 |
+----------+----------+------------+----------+

2025-11-21 06:12:57 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | 
2025-11-21 06:12:57 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | ================================================================================
2025-11-21 06:12:57 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 06:12:57 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] |                     测试耗时: 326.54s
2025-11-21 06:12:57 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | ================================================================================
2025-11-21 06:12:57 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | 
2025-11-21 06:13:03 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | [Epoch 30/30] 训练耗时: 5.26s | 平均训练准确率: 75.78
2025-11-21 06:13:03 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | 
2025-11-21 06:13:03 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | ================================================================================
2025-11-21 06:13:03 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] |                     TEST START - Epoch 30/30
2025-11-21 06:13:03 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | ================================================================================
2025-11-21 06:13:03 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | 
2025-11-21 06:18:29 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    71.93 |      28.07 |    73.34 |
| Client 1 |    69.42 |      30.58 |    71.81 |
| Client 2 |    87.92 |      12.08 |    93.06 |
| Client 3 |    86.90 |      13.10 |    91.34 |
| Client 4 |    72.80 |      27.20 |    71.40 |
| Client 5 |    87.72 |      12.28 |    92.41 |
| Client 6 |    57.50 |      42.50 |    64.50 |
| Client 7 |    87.25 |      12.75 |    91.73 |
| Client 8 |    95.00 |       5.00 |    97.42 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    81.64 |      18.36 |    84.70 |
+----------+----------+------------+----------+

2025-11-21 06:18:29 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    80.80 |      19.20 |    77.11 |
| Client 1 |    81.22 |      18.78 |    78.77 |
| Client 2 |    79.24 |      20.76 |    75.44 |
| Client 3 |    79.40 |      20.60 |    77.65 |
| Client 4 |    81.02 |      18.98 |    78.15 |
| Client 5 |    79.24 |      20.76 |    75.87 |
| Client 6 |    82.81 |      17.19 |    80.26 |
| Client 7 |    78.83 |      21.17 |    75.44 |
| Client 8 |    77.73 |      22.27 |    73.75 |
| Client 9 |    78.87 |      21.13 |    74.66 |
| Average  |    79.92 |      20.08 |    76.71 |
+----------+----------+------------+----------+

2025-11-21 06:18:29 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | 
2025-11-21 06:18:29 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | ================================================================================
2025-11-21 06:18:29 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 06:18:29 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] |                     测试耗时: 326.78s
2025-11-21 06:18:29 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | ================================================================================
2025-11-21 06:18:29 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | 
2025-11-21 06:18:29 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | maximum test local acc: 81.644
2025-11-21 06:18:29 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | mean of local acc: 81.137
2025-11-21 06:18:29 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | maximum test neighbor acc: 79.916
2025-11-21 06:18:29 | INFO | oxford_pets_dpfpl_1_0.1_10_[81/120] | mean of neighbor acc: 79.557
