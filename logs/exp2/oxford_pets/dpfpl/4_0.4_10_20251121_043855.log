2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | Loading trainer: DP_FPL
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | Loading dataset: OxfordPets
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | Reading split from %s
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | Creating a baseline federated dataset
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | class_num %d
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | user class dict total %s
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | idx: %s, output_dict_len: %d
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | user class dict total %s
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | idx: %s, output_dict_len: %d
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | user class dict total %s
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | idx: %s, output_dict_len: %d
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | user class dict total %s
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | idx: %s, output_dict_len: %d
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | user class dict total %s
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | idx: %s, output_dict_len: %d
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | user class dict total %s
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | idx: %s, output_dict_len: %d
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | user class dict total %s
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | idx: %s, output_dict_len: %d
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | user class dict total %s
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | idx: %s, output_dict_len: %d
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | user class dict total %s
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | idx: %s, output_dict_len: %d
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | user class dict total %s
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | idx: %s, output_dict_len: %d
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | Creating a baseline federated dataset
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | class_num %d
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | user class dict total %s
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | idx: %s, output_dict_len: %d
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | user class dict total %s
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | idx: %s, output_dict_len: %d
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | user class dict total %s
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | idx: %s, output_dict_len: %d
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | user class dict total %s
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | idx: %s, output_dict_len: %d
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | user class dict total %s
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | idx: %s, output_dict_len: %d
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | user class dict total %s
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | idx: %s, output_dict_len: %d
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | user class dict total %s
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | idx: %s, output_dict_len: %d
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | user class dict total %s
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | idx: %s, output_dict_len: %d
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | user class dict total %s
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | idx: %s, output_dict_len: %d
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | user class dict total %s
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | idx: %s, output_dict_len: %d
2025-11-21 04:38:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 04:38:57 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | Building custom CLIP
2025-11-21 04:38:57 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | Turning off gradients in both the image and the text encoder
2025-11-21 04:38:58 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [wandb] 正在初始化实验：project=SepFPL, name=oxford_pets-dpfpl-rank4-noise0.4-seed1-users10-63/120, mode=online
2025-11-21 04:39:08 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 1/30] 训练耗时: 5.43s | 平均训练准确率: 52.34
2025-11-21 04:39:13 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 2/30] 训练耗时: 4.78s | 平均训练准确率: 52.34
2025-11-21 04:39:18 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 3/30] 训练耗时: 4.79s | 平均训练准确率: 53.28
2025-11-21 04:39:23 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 4/30] 训练耗时: 4.76s | 平均训练准确率: 52.19
2025-11-21 04:39:28 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 5/30] 训练耗时: 5.01s | 平均训练准确率: 53.12
2025-11-21 04:39:32 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 6/30] 训练耗时: 4.85s | 平均训练准确率: 50.16
2025-11-21 04:39:37 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 7/30] 训练耗时: 5.09s | 平均训练准确率: 50.47
2025-11-21 04:39:43 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 8/30] 训练耗时: 5.20s | 平均训练准确率: 53.75
2025-11-21 04:39:48 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 9/30] 训练耗时: 5.38s | 平均训练准确率: 51.25
2025-11-21 04:39:53 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 10/30] 训练耗时: 5.31s | 平均训练准确率: 51.41
2025-11-21 04:39:58 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 11/30] 训练耗时: 5.11s | 平均训练准确率: 50.78
2025-11-21 04:40:04 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 12/30] 训练耗时: 5.09s | 平均训练准确率: 52.34
2025-11-21 04:40:09 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 13/30] 训练耗时: 5.04s | 平均训练准确率: 53.12
2025-11-21 04:40:14 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 14/30] 训练耗时: 5.14s | 平均训练准确率: 52.03
2025-11-21 04:40:19 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 15/30] 训练耗时: 4.93s | 平均训练准确率: 49.06
2025-11-21 04:40:24 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 16/30] 训练耗时: 5.10s | 平均训练准确率: 52.66
2025-11-21 04:40:29 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 17/30] 训练耗时: 5.37s | 平均训练准确率: 54.22
2025-11-21 04:40:34 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 18/30] 训练耗时: 5.10s | 平均训练准确率: 49.53
2025-11-21 04:40:40 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 19/30] 训练耗时: 5.29s | 平均训练准确率: 51.72
2025-11-21 04:40:45 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 20/30] 训练耗时: 5.02s | 平均训练准确率: 53.12
2025-11-21 04:40:50 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 21/30] 训练耗时: 5.11s | 平均训练准确率: 51.41
2025-11-21 04:40:55 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 22/30] 训练耗时: 5.10s | 平均训练准确率: 50.31
2025-11-21 04:41:00 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 23/30] 训练耗时: 5.32s | 平均训练准确率: 51.56
2025-11-21 04:41:05 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 24/30] 训练耗时: 5.35s | 平均训练准确率: 50.78
2025-11-21 04:41:10 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 25/30] 训练耗时: 5.02s | 平均训练准确率: 51.25
2025-11-21 04:41:16 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 26/30] 训练耗时: 5.12s | 平均训练准确率: 52.50
2025-11-21 04:41:21 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 27/30] 训练耗时: 5.26s | 平均训练准确率: 54.22
2025-11-21 04:41:26 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 28/30] 训练耗时: 5.11s | 平均训练准确率: 52.19
2025-11-21 04:41:26 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | 
2025-11-21 04:41:26 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | ================================================================================
2025-11-21 04:41:26 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] |                     TEST START - Epoch 28/30
2025-11-21 04:41:26 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | ================================================================================
2025-11-21 04:41:26 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | 
2025-11-21 04:46:57 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    69.17 |      30.83 |    71.73 |
| Client 1 |    70.43 |      29.57 |    72.50 |
| Client 2 |    81.23 |      18.77 |    87.67 |
| Client 3 |    86.65 |      13.35 |    91.38 |
| Client 4 |    72.28 |      27.72 |    71.57 |
| Client 5 |    75.94 |      24.06 |    78.78 |
| Client 6 |    58.75 |      41.25 |    66.25 |
| Client 7 |    90.50 |       9.50 |    94.26 |
| Client 8 |    95.00 |       5.00 |    97.43 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    80.00 |      20.00 |    83.16 |
+----------+----------+------------+----------+

2025-11-21 04:46:57 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    79.72 |      20.28 |    76.24 |
| Client 1 |    79.57 |      20.43 |    77.25 |
| Client 2 |    78.29 |      21.71 |    74.18 |
| Client 3 |    77.48 |      22.52 |    75.38 |
| Client 4 |    79.20 |      20.80 |    75.47 |
| Client 5 |    78.75 |      21.25 |    75.05 |
| Client 6 |    80.76 |      19.24 |    77.76 |
| Client 7 |    76.97 |      23.03 |    73.14 |
| Client 8 |    76.51 |      23.49 |    72.09 |
| Client 9 |    77.84 |      22.16 |    73.34 |
| Average  |    78.51 |      21.49 |    74.99 |
+----------+----------+------------+----------+

2025-11-21 04:46:57 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | 
2025-11-21 04:46:57 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | ================================================================================
2025-11-21 04:46:57 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 04:46:57 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] |                     测试耗时: 330.78s
2025-11-21 04:46:57 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | ================================================================================
2025-11-21 04:46:57 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | 
2025-11-21 04:47:02 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 29/30] 训练耗时: 5.29s | 平均训练准确率: 75.47
2025-11-21 04:47:02 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | 
2025-11-21 04:47:02 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | ================================================================================
2025-11-21 04:47:02 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] |                     TEST START - Epoch 29/30
2025-11-21 04:47:02 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | ================================================================================
2025-11-21 04:47:02 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | 
2025-11-21 04:52:29 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    72.68 |      27.32 |    76.94 |
| Client 1 |    74.44 |      25.56 |    78.97 |
| Client 2 |    91.00 |       9.00 |    95.03 |
| Client 3 |    86.90 |      13.10 |    91.53 |
| Client 4 |    72.54 |      27.46 |    71.95 |
| Client 5 |    71.68 |      28.32 |    73.99 |
| Client 6 |    71.00 |      29.00 |    75.64 |
| Client 7 |    79.50 |      20.50 |    83.08 |
| Client 8 |    95.25 |       4.75 |    97.55 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    81.50 |      18.50 |    84.47 |
+----------+----------+------------+----------+

2025-11-21 04:52:29 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    81.13 |      18.87 |    77.84 |
| Client 1 |    80.76 |      19.24 |    78.04 |
| Client 2 |    78.57 |      21.43 |    74.90 |
| Client 3 |    78.88 |      21.12 |    76.53 |
| Client 4 |    80.69 |      19.31 |    77.22 |
| Client 5 |    80.80 |      19.20 |    77.49 |
| Client 6 |    80.82 |      19.18 |    79.37 |
| Client 7 |    79.75 |      20.25 |    75.84 |
| Client 8 |    77.82 |      22.18 |    73.84 |
| Client 9 |    79.07 |      20.93 |    75.17 |
| Average  |    79.83 |      20.17 |    76.62 |
+----------+----------+------------+----------+

2025-11-21 04:52:29 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | 
2025-11-21 04:52:29 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | ================================================================================
2025-11-21 04:52:29 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 04:52:29 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] |                     测试耗时: 327.05s
2025-11-21 04:52:29 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | ================================================================================
2025-11-21 04:52:29 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | 
2025-11-21 04:52:34 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | [Epoch 30/30] 训练耗时: 5.31s | 平均训练准确率: 77.03
2025-11-21 04:52:34 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | 
2025-11-21 04:52:34 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | ================================================================================
2025-11-21 04:52:34 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] |                     TEST START - Epoch 30/30
2025-11-21 04:52:34 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | ================================================================================
2025-11-21 04:52:34 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | 
2025-11-21 04:58:03 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    69.92 |      30.08 |    73.42 |
| Client 1 |    74.44 |      25.56 |    77.80 |
| Client 2 |    92.03 |       7.97 |    95.61 |
| Client 3 |    86.90 |      13.10 |    91.63 |
| Client 4 |    72.28 |      27.72 |    72.04 |
| Client 5 |    71.68 |      28.32 |    73.29 |
| Client 6 |    71.25 |      28.75 |    74.99 |
| Client 7 |    76.50 |      23.50 |    79.32 |
| Client 8 |    94.75 |       5.25 |    97.28 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    80.98 |      19.02 |    83.54 |
+----------+----------+------------+----------+

2025-11-21 04:58:03 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    80.18 |      19.82 |    75.84 |
| Client 1 |    79.69 |      20.31 |    76.09 |
| Client 2 |    77.65 |      22.35 |    73.30 |
| Client 3 |    78.36 |      21.64 |    75.35 |
| Client 4 |    80.20 |      19.80 |    75.99 |
| Client 5 |    80.31 |      19.69 |    76.51 |
| Client 6 |    80.48 |      19.52 |    78.81 |
| Client 7 |    79.99 |      20.01 |    75.81 |
| Client 8 |    77.76 |      22.24 |    73.44 |
| Client 9 |    79.07 |      20.93 |    74.91 |
| Average  |    79.37 |      20.63 |    75.60 |
+----------+----------+------------+----------+

2025-11-21 04:58:03 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | 
2025-11-21 04:58:03 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | ================================================================================
2025-11-21 04:58:03 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 04:58:03 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] |                     测试耗时: 328.91s
2025-11-21 04:58:03 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | ================================================================================
2025-11-21 04:58:03 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | 
2025-11-21 04:58:03 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | maximum test local acc: 81.499
2025-11-21 04:58:03 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | mean of local acc: 80.823
2025-11-21 04:58:03 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | maximum test neighbor acc: 79.829
2025-11-21 04:58:03 | INFO | oxford_pets_dpfpl_4_0.4_10_[63/120] | mean of neighbor acc: 79.236
