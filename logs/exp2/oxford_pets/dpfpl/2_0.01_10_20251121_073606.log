2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | Loading trainer: DP_FPL
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | Loading dataset: OxfordPets
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | Reading split from %s
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | Creating a baseline federated dataset
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | class_num %d
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | user class dict total %s
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | idx: %s, output_dict_len: %d
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | user class dict total %s
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | idx: %s, output_dict_len: %d
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | user class dict total %s
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | idx: %s, output_dict_len: %d
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | user class dict total %s
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | idx: %s, output_dict_len: %d
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | user class dict total %s
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | idx: %s, output_dict_len: %d
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | user class dict total %s
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | idx: %s, output_dict_len: %d
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | user class dict total %s
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | idx: %s, output_dict_len: %d
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | user class dict total %s
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | idx: %s, output_dict_len: %d
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | user class dict total %s
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | idx: %s, output_dict_len: %d
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | user class dict total %s
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | idx: %s, output_dict_len: %d
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | Creating a baseline federated dataset
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | class_num %d
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | user class dict total %s
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | idx: %s, output_dict_len: %d
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | user class dict total %s
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | idx: %s, output_dict_len: %d
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | user class dict total %s
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | idx: %s, output_dict_len: %d
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | user class dict total %s
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | idx: %s, output_dict_len: %d
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | user class dict total %s
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | idx: %s, output_dict_len: %d
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | user class dict total %s
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | idx: %s, output_dict_len: %d
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | user class dict total %s
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | idx: %s, output_dict_len: %d
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | user class dict total %s
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | idx: %s, output_dict_len: %d
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | user class dict total %s
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | idx: %s, output_dict_len: %d
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | user class dict total %s
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | idx: %s, output_dict_len: %d
2025-11-21 07:36:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 07:36:08 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | Building custom CLIP
2025-11-21 07:36:08 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | Turning off gradients in both the image and the text encoder
2025-11-21 07:36:08 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [wandb] 正在初始化实验：project=SepFPL, name=oxford_pets-dpfpl-rank2-noise0.01-seed1-users10-102/120, mode=online
2025-11-21 07:36:19 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 1/30] 训练耗时: 5.78s | 平均训练准确率: 52.81
2025-11-21 07:36:24 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 2/30] 训练耗时: 5.19s | 平均训练准确率: 50.31
2025-11-21 07:36:29 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 3/30] 训练耗时: 5.19s | 平均训练准确率: 52.19
2025-11-21 07:36:35 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 4/30] 训练耗时: 5.37s | 平均训练准确率: 52.81
2025-11-21 07:36:40 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 5/30] 训练耗时: 5.22s | 平均训练准确率: 53.12
2025-11-21 07:36:45 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 6/30] 训练耗时: 5.26s | 平均训练准确率: 51.88
2025-11-21 07:36:50 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 7/30] 训练耗时: 5.27s | 平均训练准确率: 53.12
2025-11-21 07:36:56 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 8/30] 训练耗时: 5.26s | 平均训练准确率: 51.88
2025-11-21 07:37:01 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 9/30] 训练耗时: 5.26s | 平均训练准确率: 52.03
2025-11-21 07:37:06 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 10/30] 训练耗时: 5.21s | 平均训练准确率: 51.41
2025-11-21 07:37:11 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 11/30] 训练耗时: 5.29s | 平均训练准确率: 53.44
2025-11-21 07:37:17 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 12/30] 训练耗时: 5.23s | 平均训练准确率: 53.12
2025-11-21 07:37:22 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 13/30] 训练耗时: 5.09s | 平均训练准确率: 48.59
2025-11-21 07:37:27 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 14/30] 训练耗时: 5.30s | 平均训练准确率: 51.56
2025-11-21 07:37:32 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 15/30] 训练耗时: 5.27s | 平均训练准确率: 52.81
2025-11-21 07:37:38 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 16/30] 训练耗时: 5.28s | 平均训练准确率: 51.72
2025-11-21 07:37:43 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 17/30] 训练耗时: 5.18s | 平均训练准确率: 52.81
2025-11-21 07:37:48 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 18/30] 训练耗时: 5.28s | 平均训练准确率: 51.25
2025-11-21 07:37:53 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 19/30] 训练耗时: 5.24s | 平均训练准确率: 50.00
2025-11-21 07:37:59 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 20/30] 训练耗时: 5.35s | 平均训练准确率: 52.19
2025-11-21 07:38:04 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 21/30] 训练耗时: 5.33s | 平均训练准确率: 52.19
2025-11-21 07:38:09 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 22/30] 训练耗时: 5.05s | 平均训练准确率: 52.97
2025-11-21 07:38:14 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 23/30] 训练耗时: 4.88s | 平均训练准确率: 53.28
2025-11-21 07:38:19 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 24/30] 训练耗时: 5.26s | 平均训练准确率: 51.88
2025-11-21 07:38:24 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 25/30] 训练耗时: 5.21s | 平均训练准确率: 52.19
2025-11-21 07:38:30 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 26/30] 训练耗时: 5.39s | 平均训练准确率: 51.88
2025-11-21 07:38:35 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 27/30] 训练耗时: 5.21s | 平均训练准确率: 52.34
2025-11-21 07:38:41 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 28/30] 训练耗时: 5.64s | 平均训练准确率: 50.31
2025-11-21 07:38:41 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | 
2025-11-21 07:38:41 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | ================================================================================
2025-11-21 07:38:41 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] |                     TEST START - Epoch 28/30
2025-11-21 07:38:41 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | ================================================================================
2025-11-21 07:38:41 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | 
2025-11-21 07:44:12 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    64.66 |      35.34 |    68.55 |
| Client 1 |    57.39 |      42.61 |    62.07 |
| Client 2 |    84.06 |      15.94 |    90.25 |
| Client 3 |    89.67 |      10.33 |    92.70 |
| Client 4 |    71.76 |      28.24 |    71.67 |
| Client 5 |    63.16 |      36.84 |    67.41 |
| Client 6 |    46.75 |      53.25 |    48.07 |
| Client 7 |    88.00 |      12.00 |    92.65 |
| Client 8 |    96.50 |       3.50 |    98.09 |
| Client 9 |    98.00 |       2.00 |    98.99 |
| Average  |    76.00 |      24.00 |    79.05 |
+----------+----------+------------+----------+

2025-11-21 07:44:12 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    76.24 |      23.76 |    71.94 |
| Client 1 |    76.02 |      23.98 |    72.76 |
| Client 2 |    72.74 |      27.26 |    67.06 |
| Client 3 |    72.31 |      27.69 |    69.45 |
| Client 4 |    74.51 |      25.49 |    69.30 |
| Client 5 |    75.32 |      24.68 |    70.10 |
| Client 6 |    77.00 |      23.00 |    73.36 |
| Client 7 |    71.64 |      28.36 |    66.78 |
| Client 8 |    70.33 |      29.67 |    64.95 |
| Client 9 |    72.40 |      27.60 |    66.71 |
| Average  |    73.85 |      26.15 |    69.24 |
+----------+----------+------------+----------+

2025-11-21 07:44:12 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | 
2025-11-21 07:44:12 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | ================================================================================
2025-11-21 07:44:12 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 07:44:12 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] |                     测试耗时: 331.11s
2025-11-21 07:44:12 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | ================================================================================
2025-11-21 07:44:12 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | 
2025-11-21 07:44:17 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 29/30] 训练耗时: 5.25s | 平均训练准确率: 64.69
2025-11-21 07:44:17 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | 
2025-11-21 07:44:17 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | ================================================================================
2025-11-21 07:44:17 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] |                     TEST START - Epoch 29/30
2025-11-21 07:44:17 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | ================================================================================
2025-11-21 07:44:17 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | 
2025-11-21 07:49:45 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    70.68 |      29.32 |    72.78 |
| Client 1 |    51.38 |      48.62 |    54.86 |
| Client 2 |    90.49 |       9.51 |    94.72 |
| Client 3 |    79.09 |      20.91 |    85.81 |
| Client 4 |    72.28 |      27.72 |    71.66 |
| Client 5 |    48.62 |      51.38 |    49.36 |
| Client 6 |    49.75 |      50.25 |    43.49 |
| Client 7 |    55.75 |      44.25 |    60.48 |
| Client 8 |    92.25 |       7.75 |    95.78 |
| Client 9 |    99.00 |       1.00 |    99.50 |
| Average  |    70.93 |      29.07 |    72.84 |
+----------+----------+------------+----------+

2025-11-21 07:49:45 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    73.70 |      26.30 |    67.75 |
| Client 1 |    76.64 |      23.36 |    72.20 |
| Client 2 |    70.82 |      29.18 |    64.58 |
| Client 3 |    70.84 |      29.16 |    66.75 |
| Client 4 |    68.38 |      31.62 |    61.74 |
| Client 5 |    68.81 |      31.19 |    62.21 |
| Client 6 |    65.80 |      34.20 |    61.53 |
| Client 7 |    63.32 |      36.68 |    55.98 |
| Client 8 |    57.14 |      42.86 |    49.51 |
| Client 9 |    59.20 |      40.80 |    50.84 |
| Average  |    67.47 |      32.53 |    61.31 |
+----------+----------+------------+----------+

2025-11-21 07:49:45 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | 
2025-11-21 07:49:45 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | ================================================================================
2025-11-21 07:49:45 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 07:49:45 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] |                     测试耗时: 327.90s
2025-11-21 07:49:45 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | ================================================================================
2025-11-21 07:49:45 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | 
2025-11-21 07:49:50 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | [Epoch 30/30] 训练耗时: 5.24s | 平均训练准确率: 59.06
2025-11-21 07:49:50 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | 
2025-11-21 07:49:50 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | ================================================================================
2025-11-21 07:49:50 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] |                     TEST START - Epoch 30/30
2025-11-21 07:49:50 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | ================================================================================
2025-11-21 07:49:50 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | 
2025-11-21 07:55:21 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    76.44 |      23.56 |    82.56 |
| Client 1 |    84.71 |      15.29 |    90.39 |
| Client 2 |    89.97 |      10.03 |    94.27 |
| Client 3 |    85.64 |      14.36 |    90.75 |
| Client 4 |    70.21 |      29.79 |    71.13 |
| Client 5 |    83.71 |      16.29 |    89.49 |
| Client 6 |    70.75 |      29.25 |    80.24 |
| Client 7 |    95.75 |       4.25 |    97.79 |
| Client 8 |    95.25 |       4.75 |    97.55 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    85.24 |      14.76 |    89.42 |
+----------+----------+------------+----------+

2025-11-21 07:55:21 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    81.25 |      18.75 |    78.92 |
| Client 1 |    81.50 |      18.50 |    80.20 |
| Client 2 |    82.53 |      17.47 |    81.36 |
| Client 3 |    83.04 |      16.96 |    83.14 |
| Client 4 |    84.16 |      15.84 |    82.89 |
| Client 5 |    82.48 |      17.52 |    80.24 |
| Client 6 |    84.70 |      15.30 |    83.69 |
| Client 7 |    81.89 |      18.11 |    80.83 |
| Client 8 |    82.10 |      17.90 |    80.06 |
| Client 9 |    82.40 |      17.60 |    80.05 |
| Average  |    82.61 |      17.39 |    81.14 |
+----------+----------+------------+----------+

2025-11-21 07:55:21 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | 
2025-11-21 07:55:21 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | ================================================================================
2025-11-21 07:55:21 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 07:55:21 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] |                     测试耗时: 330.41s
2025-11-21 07:55:21 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | ================================================================================
2025-11-21 07:55:21 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | 
2025-11-21 07:55:21 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | maximum test local acc: 85.244
2025-11-21 07:55:21 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | mean of local acc: 77.389
2025-11-21 07:55:21 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | maximum test neighbor acc: 82.606
2025-11-21 07:55:21 | INFO | oxford_pets_dpfpl_2_0.01_10_[102/120] | mean of neighbor acc: 74.641
