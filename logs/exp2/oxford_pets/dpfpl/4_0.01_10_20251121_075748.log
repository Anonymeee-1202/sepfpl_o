2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | Loading trainer: DP_FPL
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | Loading dataset: OxfordPets
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | Reading split from %s
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | Creating a baseline federated dataset
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | class_num %d
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | user class dict total %s
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | idx: %s, output_dict_len: %d
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | user class dict total %s
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | idx: %s, output_dict_len: %d
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | user class dict total %s
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | idx: %s, output_dict_len: %d
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | user class dict total %s
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | idx: %s, output_dict_len: %d
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | user class dict total %s
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | idx: %s, output_dict_len: %d
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | user class dict total %s
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | idx: %s, output_dict_len: %d
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | user class dict total %s
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | idx: %s, output_dict_len: %d
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | user class dict total %s
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | idx: %s, output_dict_len: %d
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | user class dict total %s
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | idx: %s, output_dict_len: %d
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | user class dict total %s
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | idx: %s, output_dict_len: %d
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | Creating a baseline federated dataset
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | class_num %d
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | user class dict total %s
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | idx: %s, output_dict_len: %d
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | user class dict total %s
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | idx: %s, output_dict_len: %d
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | user class dict total %s
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | idx: %s, output_dict_len: %d
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | user class dict total %s
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | idx: %s, output_dict_len: %d
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | user class dict total %s
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | idx: %s, output_dict_len: %d
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | user class dict total %s
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | idx: %s, output_dict_len: %d
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | user class dict total %s
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | idx: %s, output_dict_len: %d
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | user class dict total %s
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | idx: %s, output_dict_len: %d
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | user class dict total %s
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | idx: %s, output_dict_len: %d
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | user class dict total %s
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | idx: %s, output_dict_len: %d
2025-11-21 07:57:48 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 07:57:50 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | Building custom CLIP
2025-11-21 07:57:50 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | Turning off gradients in both the image and the text encoder
2025-11-21 07:57:50 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [wandb] 正在初始化实验：project=SepFPL, name=oxford_pets-dpfpl-rank4-noise0.01-seed1-users10-103/120, mode=online
2025-11-21 07:58:01 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 1/30] 训练耗时: 6.10s | 平均训练准确率: 52.34
2025-11-21 07:58:07 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 2/30] 训练耗时: 5.24s | 平均训练准确率: 52.34
2025-11-21 07:58:12 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 3/30] 训练耗时: 5.27s | 平均训练准确率: 53.28
2025-11-21 07:58:17 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 4/30] 训练耗时: 5.26s | 平均训练准确率: 52.19
2025-11-21 07:58:22 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 5/30] 训练耗时: 5.30s | 平均训练准确率: 53.12
2025-11-21 07:58:28 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 6/30] 训练耗时: 5.24s | 平均训练准确率: 50.16
2025-11-21 07:58:33 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 7/30] 训练耗时: 5.20s | 平均训练准确率: 50.47
2025-11-21 07:58:38 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 8/30] 训练耗时: 5.31s | 平均训练准确率: 53.75
2025-11-21 07:58:43 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 9/30] 训练耗时: 5.32s | 平均训练准确率: 51.25
2025-11-21 07:58:49 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 10/30] 训练耗时: 5.25s | 平均训练准确率: 51.41
2025-11-21 07:58:54 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 11/30] 训练耗时: 5.24s | 平均训练准确率: 50.78
2025-11-21 07:58:59 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 12/30] 训练耗时: 5.26s | 平均训练准确率: 52.34
2025-11-21 07:59:04 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 13/30] 训练耗时: 5.35s | 平均训练准确率: 53.12
2025-11-21 07:59:10 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 14/30] 训练耗时: 5.34s | 平均训练准确率: 52.03
2025-11-21 07:59:15 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 15/30] 训练耗时: 5.26s | 平均训练准确率: 49.06
2025-11-21 07:59:20 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 16/30] 训练耗时: 5.24s | 平均训练准确率: 52.66
2025-11-21 07:59:26 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 17/30] 训练耗时: 5.34s | 平均训练准确率: 54.22
2025-11-21 07:59:31 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 18/30] 训练耗时: 5.20s | 平均训练准确率: 49.53
2025-11-21 07:59:36 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 19/30] 训练耗时: 5.28s | 平均训练准确率: 51.72
2025-11-21 07:59:41 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 20/30] 训练耗时: 5.31s | 平均训练准确率: 53.12
2025-11-21 07:59:47 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 21/30] 训练耗时: 5.31s | 平均训练准确率: 51.41
2025-11-21 07:59:52 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 22/30] 训练耗时: 5.31s | 平均训练准确率: 50.31
2025-11-21 07:59:57 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 23/30] 训练耗时: 5.22s | 平均训练准确率: 51.56
2025-11-21 08:00:03 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 24/30] 训练耗时: 5.22s | 平均训练准确率: 50.78
2025-11-21 08:00:08 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 25/30] 训练耗时: 5.27s | 平均训练准确率: 51.25
2025-11-21 08:00:13 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 26/30] 训练耗时: 5.29s | 平均训练准确率: 52.50
2025-11-21 08:00:18 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 27/30] 训练耗时: 5.16s | 平均训练准确率: 54.22
2025-11-21 08:00:23 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 28/30] 训练耗时: 5.25s | 平均训练准确率: 52.19
2025-11-21 08:00:23 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | 
2025-11-21 08:00:23 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | ================================================================================
2025-11-21 08:00:23 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] |                     TEST START - Epoch 28/30
2025-11-21 08:00:23 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | ================================================================================
2025-11-21 08:00:23 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | 
2025-11-21 08:05:51 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    62.66 |      37.34 |    67.15 |
| Client 1 |    64.16 |      35.84 |    68.31 |
| Client 2 |    84.58 |      15.42 |    90.26 |
| Client 3 |    85.39 |      14.61 |    90.64 |
| Client 4 |    73.32 |      26.68 |    70.83 |
| Client 5 |    63.66 |      36.34 |    67.74 |
| Client 6 |    48.00 |      52.00 |    45.36 |
| Client 7 |    73.00 |      27.00 |    73.97 |
| Client 8 |    95.50 |       4.50 |    97.43 |
| Client 9 |    97.00 |       3.00 |    98.48 |
| Average  |    74.73 |      25.27 |    77.02 |
+----------+----------+------------+----------+

2025-11-21 08:05:51 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    77.09 |      22.91 |    72.07 |
| Client 1 |    76.24 |      23.76 |    72.96 |
| Client 2 |    72.71 |      27.29 |    67.16 |
| Client 3 |    70.54 |      29.46 |    66.88 |
| Client 4 |    71.76 |      28.24 |    66.39 |
| Client 5 |    73.00 |      27.00 |    67.04 |
| Client 6 |    74.85 |      25.15 |    70.83 |
| Client 7 |    71.67 |      28.33 |    66.27 |
| Client 8 |    68.80 |      31.20 |    62.86 |
| Client 9 |    70.66 |      29.34 |    64.26 |
| Average  |    72.73 |      27.27 |    67.67 |
+----------+----------+------------+----------+

2025-11-21 08:05:51 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | 
2025-11-21 08:05:51 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | ================================================================================
2025-11-21 08:05:51 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 08:05:51 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] |                     测试耗时: 327.94s
2025-11-21 08:05:51 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | ================================================================================
2025-11-21 08:05:51 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | 
2025-11-21 08:05:57 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 29/30] 训练耗时: 5.20s | 平均训练准确率: 67.34
2025-11-21 08:05:57 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | 
2025-11-21 08:05:57 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | ================================================================================
2025-11-21 08:05:57 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] |                     TEST START - Epoch 29/30
2025-11-21 08:05:57 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | ================================================================================
2025-11-21 08:05:57 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | 
2025-11-21 08:11:23 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    65.16 |      34.84 |    69.39 |
| Client 1 |    48.62 |      51.38 |    48.99 |
| Client 2 |    84.83 |      15.17 |    89.98 |
| Client 3 |    67.00 |      33.00 |    77.54 |
| Client 4 |    72.02 |      27.98 |    70.34 |
| Client 5 |    51.13 |      48.87 |    53.32 |
| Client 6 |    49.50 |      50.50 |    44.47 |
| Client 7 |    63.75 |      36.25 |    67.98 |
| Client 8 |    95.00 |       5.00 |    97.29 |
| Client 9 |    98.00 |       2.00 |    98.99 |
| Average  |    69.50 |      30.50 |    71.83 |
+----------+----------+------------+----------+

2025-11-21 08:11:23 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    70.61 |      29.39 |    63.95 |
| Client 1 |    71.44 |      28.56 |    66.86 |
| Client 2 |    67.59 |      32.41 |    61.21 |
| Client 3 |    69.77 |      30.23 |    64.71 |
| Client 4 |    67.90 |      32.10 |    62.11 |
| Client 5 |    69.39 |      30.61 |    63.16 |
| Client 6 |    69.81 |      30.19 |    65.74 |
| Client 7 |    68.58 |      31.42 |    62.52 |
| Client 8 |    64.73 |      35.27 |    58.09 |
| Client 9 |    67.25 |      32.75 |    60.22 |
| Average  |    68.71 |      31.29 |    62.86 |
+----------+----------+------------+----------+

2025-11-21 08:11:23 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | 
2025-11-21 08:11:23 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | ================================================================================
2025-11-21 08:11:23 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 08:11:23 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] |                     测试耗时: 326.85s
2025-11-21 08:11:23 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | ================================================================================
2025-11-21 08:11:23 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | 
2025-11-21 08:11:29 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | [Epoch 30/30] 训练耗时: 5.26s | 平均训练准确率: 53.44
2025-11-21 08:11:29 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | 
2025-11-21 08:11:29 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | ================================================================================
2025-11-21 08:11:29 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] |                     TEST START - Epoch 30/30
2025-11-21 08:11:29 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | ================================================================================
2025-11-21 08:11:29 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | 
2025-11-21 08:16:37 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    72.43 |      27.57 |    75.62 |
| Client 1 |    77.44 |      22.56 |    81.88 |
| Client 2 |    86.38 |      13.62 |    91.64 |
| Client 3 |    83.88 |      16.12 |    89.71 |
| Client 4 |    68.39 |      31.61 |    69.92 |
| Client 5 |    75.19 |      24.81 |    77.20 |
| Client 6 |    48.00 |      52.00 |    49.21 |
| Client 7 |    83.25 |      16.75 |    89.23 |
| Client 8 |    94.00 |       6.00 |    96.88 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    78.90 |      21.10 |    82.13 |
+----------+----------+------------+----------+

2025-11-21 08:16:37 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    84.68 |      15.32 |    83.13 |
| Client 1 |    81.56 |      18.44 |    79.94 |
| Client 2 |    79.45 |      20.55 |    76.48 |
| Client 3 |    78.39 |      21.61 |    76.80 |
| Client 4 |    78.34 |      21.66 |    74.51 |
| Client 5 |    75.90 |      24.10 |    71.39 |
| Client 6 |    77.97 |      22.03 |    74.17 |
| Client 7 |    71.98 |      28.02 |    66.26 |
| Client 8 |    68.83 |      31.17 |    62.47 |
| Client 9 |    71.67 |      28.33 |    65.41 |
| Average  |    76.88 |      23.12 |    73.06 |
+----------+----------+------------+----------+

2025-11-21 08:16:37 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | 
2025-11-21 08:16:37 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | ================================================================================
2025-11-21 08:16:37 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 08:16:37 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] |                     测试耗时: 307.89s
2025-11-21 08:16:37 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | ================================================================================
2025-11-21 08:16:37 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | 
2025-11-21 08:16:37 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | maximum test local acc: 78.896
2025-11-21 08:16:37 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | mean of local acc: 74.375
2025-11-21 08:16:37 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | maximum test neighbor acc: 76.878
2025-11-21 08:16:37 | INFO | oxford_pets_dpfpl_4_0.01_10_[103/120] | mean of neighbor acc: 72.773
