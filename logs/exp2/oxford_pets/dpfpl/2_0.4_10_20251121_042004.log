2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | Loading trainer: DP_FPL
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | Loading dataset: OxfordPets
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | Reading split from %s
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | Creating a baseline federated dataset
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | class_num %d
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | user class dict total %s
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | idx: %s, output_dict_len: %d
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | user class dict total %s
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | idx: %s, output_dict_len: %d
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | user class dict total %s
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | idx: %s, output_dict_len: %d
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | user class dict total %s
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | idx: %s, output_dict_len: %d
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | user class dict total %s
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | idx: %s, output_dict_len: %d
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | user class dict total %s
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | idx: %s, output_dict_len: %d
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | user class dict total %s
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | idx: %s, output_dict_len: %d
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | user class dict total %s
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | idx: %s, output_dict_len: %d
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | user class dict total %s
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | idx: %s, output_dict_len: %d
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | user class dict total %s
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | idx: %s, output_dict_len: %d
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | Creating a baseline federated dataset
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | class_num %d
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | user class dict total %s
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | idx: %s, output_dict_len: %d
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | user class dict total %s
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | idx: %s, output_dict_len: %d
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | user class dict total %s
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | idx: %s, output_dict_len: %d
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | user class dict total %s
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | idx: %s, output_dict_len: %d
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | user class dict total %s
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | idx: %s, output_dict_len: %d
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | user class dict total %s
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | idx: %s, output_dict_len: %d
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | user class dict total %s
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | idx: %s, output_dict_len: %d
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | user class dict total %s
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | idx: %s, output_dict_len: %d
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | user class dict total %s
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | idx: %s, output_dict_len: %d
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | user class dict total %s
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | idx: %s, output_dict_len: %d
2025-11-21 04:20:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 04:20:06 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | Building custom CLIP
2025-11-21 04:20:06 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | Turning off gradients in both the image and the text encoder
2025-11-21 04:20:07 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [wandb] 正在初始化实验：project=SepFPL, name=oxford_pets-dpfpl-rank2-noise0.4-seed1-users10-62/120, mode=online
2025-11-21 04:20:18 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 1/30] 训练耗时: 5.92s | 平均训练准确率: 52.81
2025-11-21 04:20:23 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 2/30] 训练耗时: 5.25s | 平均训练准确率: 50.31
2025-11-21 04:20:29 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 3/30] 训练耗时: 5.51s | 平均训练准确率: 52.19
2025-11-21 04:20:34 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 4/30] 训练耗时: 5.17s | 平均训练准确率: 52.81
2025-11-21 04:20:39 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 5/30] 训练耗时: 5.19s | 平均训练准确率: 53.12
2025-11-21 04:20:44 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 6/30] 训练耗时: 5.41s | 平均训练准确率: 51.88
2025-11-21 04:20:50 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 7/30] 训练耗时: 5.39s | 平均训练准确率: 53.12
2025-11-21 04:20:55 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 8/30] 训练耗时: 5.28s | 平均训练准确率: 51.88
2025-11-21 04:21:00 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 9/30] 训练耗时: 5.48s | 平均训练准确率: 52.03
2025-11-21 04:21:06 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 10/30] 训练耗时: 5.26s | 平均训练准确率: 51.41
2025-11-21 04:21:11 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 11/30] 训练耗时: 5.18s | 平均训练准确率: 53.44
2025-11-21 04:21:16 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 12/30] 训练耗时: 5.16s | 平均训练准确率: 53.12
2025-11-21 04:21:21 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 13/30] 训练耗时: 5.35s | 平均训练准确率: 48.59
2025-11-21 04:21:27 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 14/30] 训练耗时: 5.18s | 平均训练准确率: 51.56
2025-11-21 04:21:32 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 15/30] 训练耗时: 5.28s | 平均训练准确率: 52.81
2025-11-21 04:21:37 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 16/30] 训练耗时: 5.08s | 平均训练准确率: 51.72
2025-11-21 04:21:42 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 17/30] 训练耗时: 5.12s | 平均训练准确率: 52.81
2025-11-21 04:21:47 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 18/30] 训练耗时: 4.91s | 平均训练准确率: 51.25
2025-11-21 04:21:52 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 19/30] 训练耗时: 5.20s | 平均训练准确率: 50.00
2025-11-21 04:21:58 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 20/30] 训练耗时: 5.71s | 平均训练准确率: 52.19
2025-11-21 04:22:04 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 21/30] 训练耗时: 5.73s | 平均训练准确率: 52.19
2025-11-21 04:22:09 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 22/30] 训练耗时: 5.39s | 平均训练准确率: 52.97
2025-11-21 04:22:15 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 23/30] 训练耗时: 5.75s | 平均训练准确率: 53.28
2025-11-21 04:22:21 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 24/30] 训练耗时: 5.77s | 平均训练准确率: 51.88
2025-11-21 04:22:26 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 25/30] 训练耗时: 5.59s | 平均训练准确率: 52.19
2025-11-21 04:22:32 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 26/30] 训练耗时: 5.52s | 平均训练准确率: 51.88
2025-11-21 04:22:37 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 27/30] 训练耗时: 5.06s | 平均训练准确率: 52.34
2025-11-21 04:22:42 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 28/30] 训练耗时: 5.57s | 平均训练准确率: 50.31
2025-11-21 04:22:42 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | 
2025-11-21 04:22:42 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | ================================================================================
2025-11-21 04:22:42 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] |                     TEST START - Epoch 28/30
2025-11-21 04:22:42 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | ================================================================================
2025-11-21 04:22:42 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | 
2025-11-21 04:28:07 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    69.67 |      30.33 |    72.48 |
| Client 1 |    70.93 |      29.07 |    72.78 |
| Client 2 |    81.23 |      18.77 |    87.67 |
| Client 3 |    86.90 |      13.10 |    91.68 |
| Client 4 |    72.02 |      27.98 |    71.68 |
| Client 5 |    76.19 |      23.81 |    79.19 |
| Client 6 |    65.25 |      34.75 |    74.46 |
| Client 7 |    91.50 |       8.50 |    95.04 |
| Client 8 |    94.50 |       5.50 |    97.16 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    80.82 |      19.18 |    84.21 |
+----------+----------+------------+----------+

2025-11-21 04:28:07 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    80.40 |      19.60 |    77.24 |
| Client 1 |    80.31 |      19.69 |    78.23 |
| Client 2 |    78.99 |      21.01 |    75.23 |
| Client 3 |    78.27 |      21.73 |    76.41 |
| Client 4 |    80.14 |      19.86 |    76.78 |
| Client 5 |    79.72 |      20.28 |    76.47 |
| Client 6 |    80.97 |      19.03 |    78.31 |
| Client 7 |    77.70 |      22.30 |    74.12 |
| Client 8 |    77.33 |      22.67 |    73.27 |
| Client 9 |    78.54 |      21.46 |    74.47 |
| Average  |    79.24 |      20.76 |    76.05 |
+----------+----------+------------+----------+

2025-11-21 04:28:07 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | 
2025-11-21 04:28:07 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | ================================================================================
2025-11-21 04:28:07 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 04:28:07 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] |                     测试耗时: 324.80s
2025-11-21 04:28:07 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | ================================================================================
2025-11-21 04:28:07 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | 
2025-11-21 04:28:12 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 29/30] 训练耗时: 5.23s | 平均训练准确率: 76.09
2025-11-21 04:28:12 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | 
2025-11-21 04:28:12 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | ================================================================================
2025-11-21 04:28:12 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] |                     TEST START - Epoch 29/30
2025-11-21 04:28:12 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | ================================================================================
2025-11-21 04:28:12 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | 
2025-11-21 04:33:40 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    70.43 |      29.57 |    73.24 |
| Client 1 |    69.92 |      30.08 |    72.22 |
| Client 2 |    91.26 |       8.74 |    95.17 |
| Client 3 |    86.90 |      13.10 |    91.52 |
| Client 4 |    72.80 |      27.20 |    71.84 |
| Client 5 |    69.42 |      30.58 |    71.97 |
| Client 6 |    66.50 |      33.50 |    70.25 |
| Client 7 |    80.25 |      19.75 |    85.05 |
| Client 8 |    94.75 |       5.25 |    97.29 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    80.22 |      19.78 |    82.86 |
+----------+----------+------------+----------+

2025-11-21 04:33:40 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    80.37 |      19.63 |    76.77 |
| Client 1 |    79.97 |      20.03 |    77.05 |
| Client 2 |    77.32 |      22.68 |    73.18 |
| Client 3 |    77.81 |      22.19 |    75.32 |
| Client 4 |    79.59 |      20.41 |    75.81 |
| Client 5 |    79.91 |      20.09 |    76.16 |
| Client 6 |    80.21 |      19.79 |    78.68 |
| Client 7 |    78.40 |      21.60 |    74.27 |
| Client 8 |    76.63 |      23.37 |    72.39 |
| Client 9 |    77.84 |      22.16 |    73.77 |
| Average  |    78.80 |      21.20 |    75.34 |
+----------+----------+------------+----------+

2025-11-21 04:33:40 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | 
2025-11-21 04:33:40 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | ================================================================================
2025-11-21 04:33:40 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 04:33:40 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] |                     测试耗时: 327.82s
2025-11-21 04:33:40 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | ================================================================================
2025-11-21 04:33:40 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | 
2025-11-21 04:33:45 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | [Epoch 30/30] 训练耗时: 5.35s | 平均训练准确率: 75.94
2025-11-21 04:33:45 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | 
2025-11-21 04:33:45 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | ================================================================================
2025-11-21 04:33:45 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] |                     TEST START - Epoch 30/30
2025-11-21 04:33:45 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | ================================================================================
2025-11-21 04:33:45 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | 
2025-11-21 04:39:06 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    72.68 |      27.32 |    76.94 |
| Client 1 |    72.68 |      27.32 |    74.68 |
| Client 2 |    91.77 |       8.23 |    95.38 |
| Client 3 |    86.15 |      13.85 |    90.84 |
| Client 4 |    73.06 |      26.94 |    72.21 |
| Client 5 |    81.95 |      18.05 |    86.92 |
| Client 6 |    73.25 |      26.75 |    80.45 |
| Client 7 |    84.50 |      15.50 |    89.03 |
| Client 8 |    94.50 |       5.50 |    97.13 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    83.05 |      16.95 |    86.36 |
+----------+----------+------------+----------+

2025-11-21 04:39:06 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    82.60 |      17.40 |    80.28 |
| Client 1 |    82.72 |      17.28 |    81.25 |
| Client 2 |    80.40 |      19.60 |    77.74 |
| Client 3 |    81.08 |      18.92 |    79.83 |
| Client 4 |    82.55 |      17.45 |    80.39 |
| Client 5 |    81.56 |      18.44 |    78.96 |
| Client 6 |    82.66 |      17.34 |    81.76 |
| Client 7 |    81.13 |      18.87 |    78.26 |
| Client 8 |    79.87 |      20.13 |    77.06 |
| Client 9 |    80.83 |      19.17 |    77.97 |
| Average  |    81.54 |      18.46 |    79.35 |
+----------+----------+------------+----------+

2025-11-21 04:39:06 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | 
2025-11-21 04:39:06 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | ================================================================================
2025-11-21 04:39:06 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 04:39:06 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] |                     测试耗时: 320.44s
2025-11-21 04:39:06 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | ================================================================================
2025-11-21 04:39:06 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | 
2025-11-21 04:39:06 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | maximum test local acc: 83.055
2025-11-21 04:39:06 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | mean of local acc: 81.366
2025-11-21 04:39:06 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | maximum test neighbor acc: 81.539
2025-11-21 04:39:06 | INFO | oxford_pets_dpfpl_2_0.4_10_[62/120] | mean of neighbor acc: 79.860
