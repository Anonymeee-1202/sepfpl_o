2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | Loading trainer: DP_FPL
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | Loading dataset: OxfordPets
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | Reading split from %s
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | Creating a baseline federated dataset
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | class_num %d
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | user class dict total %s
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | idx: %s, output_dict_len: %d
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | user class dict total %s
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | idx: %s, output_dict_len: %d
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | user class dict total %s
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | idx: %s, output_dict_len: %d
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | user class dict total %s
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | idx: %s, output_dict_len: %d
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | user class dict total %s
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | idx: %s, output_dict_len: %d
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | user class dict total %s
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | idx: %s, output_dict_len: %d
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | user class dict total %s
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | idx: %s, output_dict_len: %d
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | user class dict total %s
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | idx: %s, output_dict_len: %d
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | user class dict total %s
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | idx: %s, output_dict_len: %d
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | user class dict total %s
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | idx: %s, output_dict_len: %d
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | Creating a baseline federated dataset
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | class_num %d
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | user class dict total %s
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | idx: %s, output_dict_len: %d
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | user class dict total %s
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | idx: %s, output_dict_len: %d
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | user class dict total %s
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | idx: %s, output_dict_len: %d
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | user class dict total %s
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | idx: %s, output_dict_len: %d
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | user class dict total %s
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | idx: %s, output_dict_len: %d
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | user class dict total %s
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | idx: %s, output_dict_len: %d
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | user class dict total %s
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | idx: %s, output_dict_len: %d
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | user class dict total %s
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | idx: %s, output_dict_len: %d
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | user class dict total %s
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | idx: %s, output_dict_len: %d
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | user class dict total %s
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | idx: %s, output_dict_len: %d
2025-11-21 07:55:36 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 07:55:38 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | Building custom CLIP
2025-11-21 07:55:38 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | Turning off gradients in both the image and the text encoder
2025-11-21 07:55:39 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [wandb] 正在初始化实验：project=SepFPL, name=oxford_pets-dpfpl-rank8-noise0.01-seed1-users10-104/120, mode=online
2025-11-21 07:55:49 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 1/30] 训练耗时: 6.01s | 平均训练准确率: 51.41
2025-11-21 07:55:55 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 2/30] 训练耗时: 5.30s | 平均训练准确率: 53.12
2025-11-21 07:56:00 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 3/30] 训练耗时: 5.26s | 平均训练准确率: 50.94
2025-11-21 07:56:05 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 4/30] 训练耗时: 5.32s | 平均训练准确率: 50.31
2025-11-21 07:56:10 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 5/30] 训练耗时: 5.18s | 平均训练准确率: 52.50
2025-11-21 07:56:16 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 6/30] 训练耗时: 5.22s | 平均训练准确率: 52.03
2025-11-21 07:56:21 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 7/30] 训练耗时: 5.25s | 平均训练准确率: 52.50
2025-11-21 07:56:26 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 8/30] 训练耗时: 5.15s | 平均训练准确率: 51.88
2025-11-21 07:56:31 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 9/30] 训练耗时: 5.35s | 平均训练准确率: 51.41
2025-11-21 07:56:37 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 10/30] 训练耗时: 5.25s | 平均训练准确率: 50.47
2025-11-21 07:56:42 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 11/30] 训练耗时: 5.34s | 平均训练准确率: 50.94
2025-11-21 07:56:47 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 12/30] 训练耗时: 5.35s | 平均训练准确率: 51.25
2025-11-21 07:56:53 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 13/30] 训练耗时: 5.26s | 平均训练准确率: 52.81
2025-11-21 07:56:58 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 14/30] 训练耗时: 5.38s | 平均训练准确率: 53.44
2025-11-21 07:57:03 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 15/30] 训练耗时: 5.28s | 平均训练准确率: 52.50
2025-11-21 07:57:08 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 16/30] 训练耗时: 5.27s | 平均训练准确率: 52.34
2025-11-21 07:57:14 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 17/30] 训练耗时: 5.28s | 平均训练准确率: 52.66
2025-11-21 07:57:19 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 18/30] 训练耗时: 5.22s | 平均训练准确率: 53.44
2025-11-21 07:57:24 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 19/30] 训练耗时: 5.24s | 平均训练准确率: 50.31
2025-11-21 07:57:30 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 20/30] 训练耗时: 5.34s | 平均训练准确率: 50.47
2025-11-21 07:57:35 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 21/30] 训练耗时: 4.99s | 平均训练准确率: 54.22
2025-11-21 07:57:39 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 22/30] 训练耗时: 4.73s | 平均训练准确率: 51.09
2025-11-21 07:57:44 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 23/30] 训练耗时: 4.81s | 平均训练准确率: 51.72
2025-11-21 07:57:49 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 24/30] 训练耗时: 4.97s | 平均训练准确率: 50.78
2025-11-21 07:57:54 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 25/30] 训练耗时: 4.94s | 平均训练准确率: 51.56
2025-11-21 07:57:59 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 26/30] 训练耗时: 5.37s | 平均训练准确率: 52.34
2025-11-21 07:58:05 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 27/30] 训练耗时: 5.25s | 平均训练准确率: 53.12
2025-11-21 07:58:10 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 28/30] 训练耗时: 5.16s | 平均训练准确率: 51.56
2025-11-21 07:58:10 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | 
2025-11-21 07:58:10 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | ================================================================================
2025-11-21 07:58:10 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] |                     TEST START - Epoch 28/30
2025-11-21 07:58:10 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | ================================================================================
2025-11-21 07:58:10 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | 
2025-11-21 08:03:37 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    67.17 |      32.83 |    70.49 |
| Client 1 |    47.37 |      52.63 |    48.34 |
| Client 2 |    91.52 |       8.48 |    95.15 |
| Client 3 |    87.15 |      12.85 |    91.50 |
| Client 4 |    72.02 |      27.98 |    71.25 |
| Client 5 |    49.87 |      50.13 |    50.00 |
| Client 6 |    48.25 |      51.75 |    45.60 |
| Client 7 |    78.00 |      22.00 |    82.71 |
| Client 8 |    93.50 |       6.50 |    96.35 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    73.49 |      26.51 |    75.14 |
+----------+----------+------------+----------+

2025-11-21 08:03:37 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    74.07 |      25.93 |    67.08 |
| Client 1 |    74.68 |      25.32 |    69.56 |
| Client 2 |    69.33 |      30.67 |    61.97 |
| Client 3 |    68.37 |      31.63 |    63.63 |
| Client 4 |    69.36 |      30.64 |    62.91 |
| Client 5 |    72.48 |      27.52 |    66.55 |
| Client 6 |    73.26 |      26.74 |    68.96 |
| Client 7 |    69.62 |      30.38 |    63.22 |
| Client 8 |    67.57 |      32.43 |    60.72 |
| Client 9 |    69.66 |      30.34 |    62.95 |
| Average  |    70.84 |      29.16 |    64.75 |
+----------+----------+------------+----------+

2025-11-21 08:03:37 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | 
2025-11-21 08:03:37 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | ================================================================================
2025-11-21 08:03:37 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 08:03:37 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] |                     测试耗时: 327.03s
2025-11-21 08:03:37 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | ================================================================================
2025-11-21 08:03:37 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | 
2025-11-21 08:03:42 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 29/30] 训练耗时: 5.26s | 平均训练准确率: 63.91
2025-11-21 08:03:42 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | 
2025-11-21 08:03:42 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | ================================================================================
2025-11-21 08:03:42 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] |                     TEST START - Epoch 29/30
2025-11-21 08:03:42 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | ================================================================================
2025-11-21 08:03:42 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | 
2025-11-21 08:09:08 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    72.68 |      27.32 |    73.73 |
| Client 1 |    69.42 |      30.58 |    72.40 |
| Client 2 |    90.49 |       9.51 |    94.69 |
| Client 3 |    83.38 |      16.62 |    89.38 |
| Client 4 |    70.73 |      29.27 |    71.39 |
| Client 5 |    86.22 |      13.78 |    91.28 |
| Client 6 |    57.00 |      43.00 |    63.10 |
| Client 7 |    97.75 |       2.25 |    98.85 |
| Client 8 |    96.00 |       4.00 |    97.83 |
| Client 9 |    99.00 |       1.00 |    99.50 |
| Average  |    82.27 |      17.73 |    85.21 |
+----------+----------+------------+----------+

2025-11-21 08:09:08 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    81.10 |      18.90 |    76.76 |
| Client 1 |    83.55 |      16.45 |    81.13 |
| Client 2 |    81.59 |      18.41 |    78.54 |
| Client 3 |    82.12 |      17.88 |    79.84 |
| Client 4 |    83.00 |      17.00 |    80.27 |
| Client 5 |    80.76 |      19.24 |    77.61 |
| Client 6 |    83.79 |      16.21 |    82.00 |
| Client 7 |    78.25 |      21.75 |    75.35 |
| Client 8 |    78.07 |      21.93 |    74.48 |
| Client 9 |    79.49 |      20.51 |    75.87 |
| Average  |    81.17 |      18.83 |    78.19 |
+----------+----------+------------+----------+

2025-11-21 08:09:08 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | 
2025-11-21 08:09:08 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | ================================================================================
2025-11-21 08:09:08 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 08:09:08 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] |                     测试耗时: 326.32s
2025-11-21 08:09:08 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | ================================================================================
2025-11-21 08:09:08 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | 
2025-11-21 08:09:14 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | [Epoch 30/30] 训练耗时: 5.15s | 平均训练准确率: 75.16
2025-11-21 08:09:14 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | 
2025-11-21 08:09:14 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | ================================================================================
2025-11-21 08:09:14 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] |                     TEST START - Epoch 30/30
2025-11-21 08:09:14 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | ================================================================================
2025-11-21 08:09:14 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | 
2025-11-21 08:14:41 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    70.93 |      29.07 |    72.81 |
| Client 1 |    69.17 |      30.83 |    71.66 |
| Client 2 |    87.15 |      12.85 |    92.24 |
| Client 3 |    86.40 |      13.60 |    91.02 |
| Client 4 |    71.50 |      28.50 |    71.53 |
| Client 5 |    91.23 |       8.77 |    95.25 |
| Client 6 |    55.75 |      44.25 |    59.51 |
| Client 7 |    95.50 |       4.50 |    97.67 |
| Client 8 |    95.00 |       5.00 |    97.30 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    82.26 |      17.74 |    84.90 |
+----------+----------+------------+----------+

2025-11-21 08:14:41 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    75.90 |      24.10 |    70.60 |
| Client 1 |    77.34 |      22.66 |    74.24 |
| Client 2 |    76.77 |      23.23 |    73.02 |
| Client 3 |    78.88 |      21.12 |    77.15 |
| Client 4 |    81.75 |      18.25 |    78.94 |
| Client 5 |    79.17 |      20.83 |    75.69 |
| Client 6 |    82.62 |      17.38 |    80.95 |
| Client 7 |    75.83 |      24.17 |    72.33 |
| Client 8 |    74.40 |      25.60 |    69.63 |
| Client 9 |    74.64 |      25.36 |    69.58 |
| Average  |    77.73 |      22.27 |    74.21 |
+----------+----------+------------+----------+

2025-11-21 08:14:41 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | 
2025-11-21 08:14:41 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | ================================================================================
2025-11-21 08:14:41 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 08:14:41 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] |                     测试耗时: 327.54s
2025-11-21 08:14:41 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | ================================================================================
2025-11-21 08:14:41 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | 
2025-11-21 08:14:41 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | maximum test local acc: 82.266
2025-11-21 08:14:41 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | mean of local acc: 79.338
2025-11-21 08:14:41 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | maximum test neighbor acc: 81.172
2025-11-21 08:14:41 | INFO | oxford_pets_dpfpl_8_0.01_10_[104/120] | mean of neighbor acc: 76.581
