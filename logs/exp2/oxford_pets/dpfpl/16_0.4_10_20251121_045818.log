2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | Loading trainer: DP_FPL
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | Loading dataset: OxfordPets
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | Reading split from %s
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | Creating a baseline federated dataset
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | class_num %d
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | user class dict total %s
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | idx: %s, output_dict_len: %d
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | user class dict total %s
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | idx: %s, output_dict_len: %d
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | user class dict total %s
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | idx: %s, output_dict_len: %d
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | user class dict total %s
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | idx: %s, output_dict_len: %d
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | user class dict total %s
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | idx: %s, output_dict_len: %d
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | user class dict total %s
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | idx: %s, output_dict_len: %d
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | user class dict total %s
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | idx: %s, output_dict_len: %d
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | user class dict total %s
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | idx: %s, output_dict_len: %d
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | user class dict total %s
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | idx: %s, output_dict_len: %d
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | user class dict total %s
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | idx: %s, output_dict_len: %d
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | Creating a baseline federated dataset
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | class_num %d
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | user class dict total %s
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | idx: %s, output_dict_len: %d
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | user class dict total %s
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | idx: %s, output_dict_len: %d
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | user class dict total %s
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | idx: %s, output_dict_len: %d
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | user class dict total %s
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | idx: %s, output_dict_len: %d
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | user class dict total %s
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | idx: %s, output_dict_len: %d
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | user class dict total %s
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | idx: %s, output_dict_len: %d
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | user class dict total %s
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | idx: %s, output_dict_len: %d
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | user class dict total %s
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | idx: %s, output_dict_len: %d
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | user class dict total %s
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | idx: %s, output_dict_len: %d
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | user class dict total %s
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | idx: %s, output_dict_len: %d
2025-11-21 04:58:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 04:58:20 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | Building custom CLIP
2025-11-21 04:58:20 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | Turning off gradients in both the image and the text encoder
2025-11-21 04:58:20 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [wandb] 正在初始化实验：project=SepFPL, name=oxford_pets-dpfpl-rank16-noise0.4-seed1-users10-65/120, mode=online
2025-11-21 04:58:30 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 1/30] 训练耗时: 5.76s | 平均训练准确率: 50.62
2025-11-21 04:58:35 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 2/30] 训练耗时: 4.91s | 平均训练准确率: 50.47
2025-11-21 04:58:41 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 3/30] 训练耗时: 5.20s | 平均训练准确率: 52.97
2025-11-21 04:58:46 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 4/30] 训练耗时: 5.47s | 平均训练准确率: 52.19
2025-11-21 04:58:51 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 5/30] 训练耗时: 5.39s | 平均训练准确率: 51.72
2025-11-21 04:58:57 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 6/30] 训练耗时: 5.59s | 平均训练准确率: 50.94
2025-11-21 04:59:02 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 7/30] 训练耗时: 5.35s | 平均训练准确率: 51.09
2025-11-21 04:59:07 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 8/30] 训练耗时: 4.81s | 平均训练准确率: 52.81
2025-11-21 04:59:12 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 9/30] 训练耗时: 4.78s | 平均训练准确率: 52.19
2025-11-21 04:59:17 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 10/30] 训练耗时: 4.81s | 平均训练准确率: 53.44
2025-11-21 04:59:22 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 11/30] 训练耗时: 4.92s | 平均训练准确率: 52.34
2025-11-21 04:59:27 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 12/30] 训练耗时: 4.94s | 平均训练准确率: 54.06
2025-11-21 04:59:32 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 13/30] 训练耗时: 5.07s | 平均训练准确率: 50.47
2025-11-21 04:59:36 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 14/30] 训练耗时: 4.80s | 平均训练准确率: 52.97
2025-11-21 04:59:42 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 15/30] 训练耗时: 5.40s | 平均训练准确率: 50.94
2025-11-21 04:59:47 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 16/30] 训练耗时: 5.24s | 平均训练准确率: 52.34
2025-11-21 04:59:52 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 17/30] 训练耗时: 5.38s | 平均训练准确率: 51.72
2025-11-21 04:59:57 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 18/30] 训练耗时: 4.86s | 平均训练准确率: 52.19
2025-11-21 05:00:02 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 19/30] 训练耗时: 5.11s | 平均训练准确率: 52.50
2025-11-21 05:00:08 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 20/30] 训练耗时: 5.14s | 平均训练准确率: 52.97
2025-11-21 05:00:12 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 21/30] 训练耗时: 4.89s | 平均训练准确率: 50.47
2025-11-21 05:00:18 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 22/30] 训练耗时: 5.33s | 平均训练准确率: 49.53
2025-11-21 05:00:23 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 23/30] 训练耗时: 5.50s | 平均训练准确率: 51.25
2025-11-21 05:00:28 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 24/30] 训练耗时: 4.85s | 平均训练准确率: 50.00
2025-11-21 05:00:33 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 25/30] 训练耗时: 4.74s | 平均训练准确率: 51.56
2025-11-21 05:00:38 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 26/30] 训练耗时: 5.13s | 平均训练准确率: 52.66
2025-11-21 05:00:43 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 27/30] 训练耗时: 5.48s | 平均训练准确率: 52.34
2025-11-21 05:00:49 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 28/30] 训练耗时: 5.42s | 平均训练准确率: 52.66
2025-11-21 05:00:49 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | 
2025-11-21 05:00:49 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | ================================================================================
2025-11-21 05:00:49 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] |                     TEST START - Epoch 28/30
2025-11-21 05:00:49 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | ================================================================================
2025-11-21 05:00:49 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | 
2025-11-21 05:06:23 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    70.18 |      29.82 |    72.40 |
| Client 1 |    70.93 |      29.07 |    72.78 |
| Client 2 |    83.03 |      16.97 |    89.22 |
| Client 3 |    85.14 |      14.86 |    90.43 |
| Client 4 |    72.02 |      27.98 |    71.80 |
| Client 5 |    76.94 |      23.06 |    79.85 |
| Client 6 |    72.75 |      27.25 |    82.24 |
| Client 7 |    89.25 |      10.75 |    93.37 |
| Client 8 |    94.75 |       5.25 |    97.29 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    81.50 |      18.50 |    84.94 |
+----------+----------+------------+----------+

2025-11-21 05:06:23 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    79.85 |      20.15 |    76.59 |
| Client 1 |    80.24 |      19.76 |    78.17 |
| Client 2 |    79.27 |      20.73 |    75.83 |
| Client 3 |    79.37 |      20.63 |    77.78 |
| Client 4 |    80.99 |      19.01 |    78.04 |
| Client 5 |    80.76 |      19.24 |    78.14 |
| Client 6 |    81.37 |      18.63 |    79.55 |
| Client 7 |    79.44 |      20.56 |    76.58 |
| Client 8 |    78.89 |      21.11 |    75.84 |
| Client 9 |    80.22 |      19.78 |    77.23 |
| Average  |    80.04 |      19.96 |    77.38 |
+----------+----------+------------+----------+

2025-11-21 05:06:23 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | 
2025-11-21 05:06:23 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | ================================================================================
2025-11-21 05:06:23 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 05:06:23 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] |                     测试耗时: 333.64s
2025-11-21 05:06:23 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | ================================================================================
2025-11-21 05:06:23 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | 
2025-11-21 05:06:28 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 29/30] 训练耗时: 5.33s | 平均训练准确率: 74.53
2025-11-21 05:06:28 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | 
2025-11-21 05:06:28 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | ================================================================================
2025-11-21 05:06:28 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] |                     TEST START - Epoch 29/30
2025-11-21 05:06:28 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | ================================================================================
2025-11-21 05:06:28 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | 
2025-11-21 05:11:57 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    69.42 |      30.58 |    72.12 |
| Client 1 |    72.43 |      27.57 |    76.11 |
| Client 2 |    92.54 |       7.46 |    95.93 |
| Client 3 |    86.40 |      13.60 |    91.47 |
| Client 4 |    71.76 |      28.24 |    71.38 |
| Client 5 |    70.18 |      29.82 |    72.43 |
| Client 6 |    63.75 |      36.25 |    65.40 |
| Client 7 |    80.25 |      19.75 |    85.05 |
| Client 8 |    94.25 |       5.75 |    97.03 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    80.10 |      19.90 |    82.69 |
+----------+----------+------------+----------+

2025-11-21 05:11:57 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    79.97 |      20.03 |    75.74 |
| Client 1 |    79.66 |      20.34 |    76.28 |
| Client 2 |    77.26 |      22.74 |    73.44 |
| Client 3 |    77.75 |      22.25 |    74.71 |
| Client 4 |    79.56 |      20.44 |    75.80 |
| Client 5 |    79.42 |      20.58 |    75.96 |
| Client 6 |    80.02 |      19.98 |    79.29 |
| Client 7 |    77.85 |      22.15 |    74.16 |
| Client 8 |    75.93 |      24.07 |    72.16 |
| Client 9 |    77.28 |      22.72 |    73.74 |
| Average  |    78.47 |      21.53 |    75.13 |
+----------+----------+------------+----------+

2025-11-21 05:11:57 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | 
2025-11-21 05:11:57 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | ================================================================================
2025-11-21 05:11:57 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 05:11:57 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] |                     测试耗时: 329.27s
2025-11-21 05:11:57 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | ================================================================================
2025-11-21 05:11:57 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | 
2025-11-21 05:12:02 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | [Epoch 30/30] 训练耗时: 5.25s | 平均训练准确率: 75.94
2025-11-21 05:12:02 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | 
2025-11-21 05:12:02 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | ================================================================================
2025-11-21 05:12:02 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] |                     TEST START - Epoch 30/30
2025-11-21 05:12:02 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | ================================================================================
2025-11-21 05:12:02 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | 
2025-11-21 05:17:36 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    71.68 |      28.32 |    73.21 |
| Client 1 |    71.43 |      28.57 |    72.93 |
| Client 2 |    90.49 |       9.51 |    94.58 |
| Client 3 |    86.40 |      13.60 |    91.06 |
| Client 4 |    73.32 |      26.68 |    71.34 |
| Client 5 |    86.72 |      13.28 |    91.78 |
| Client 6 |    67.25 |      32.75 |    75.87 |
| Client 7 |    91.25 |       8.75 |    94.81 |
| Client 8 |    94.50 |       5.50 |    97.14 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    83.30 |      16.70 |    86.27 |
+----------+----------+------------+----------+

2025-11-21 05:17:36 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    81.99 |      18.01 |    78.49 |
| Client 1 |    82.45 |      17.55 |    79.90 |
| Client 2 |    80.34 |      19.66 |    76.62 |
| Client 3 |    80.84 |      19.16 |    78.51 |
| Client 4 |    82.67 |      17.33 |    80.26 |
| Client 5 |    81.19 |      18.81 |    78.32 |
| Client 6 |    83.66 |      16.34 |    82.65 |
| Client 7 |    80.73 |      19.27 |    78.35 |
| Client 8 |    80.67 |      19.33 |    78.17 |
| Client 9 |    81.82 |      18.18 |    79.47 |
| Average  |    81.63 |      18.37 |    79.07 |
+----------+----------+------------+----------+

2025-11-21 05:17:36 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | 
2025-11-21 05:17:36 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | ================================================================================
2025-11-21 05:17:36 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 05:17:36 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] |                     测试耗时: 333.87s
2025-11-21 05:17:36 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | ================================================================================
2025-11-21 05:17:36 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | 
2025-11-21 05:17:36 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | maximum test local acc: 83.303
2025-11-21 05:17:36 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | mean of local acc: 81.633
2025-11-21 05:17:36 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | maximum test neighbor acc: 81.634
2025-11-21 05:17:36 | INFO | oxford_pets_dpfpl_16_0.4_10_[65/120] | mean of neighbor acc: 80.049
