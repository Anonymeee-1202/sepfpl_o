2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | Loading trainer: DP_FPL
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | Loading dataset: OxfordPets
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | Reading split from %s
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | Creating a baseline federated dataset
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | class_num %d
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | user class dict total %s
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | idx: %s, output_dict_len: %d
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | user class dict total %s
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | idx: %s, output_dict_len: %d
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | user class dict total %s
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | idx: %s, output_dict_len: %d
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | user class dict total %s
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | idx: %s, output_dict_len: %d
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | user class dict total %s
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | idx: %s, output_dict_len: %d
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | user class dict total %s
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | idx: %s, output_dict_len: %d
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | user class dict total %s
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | idx: %s, output_dict_len: %d
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | user class dict total %s
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | idx: %s, output_dict_len: %d
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | user class dict total %s
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | idx: %s, output_dict_len: %d
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | user class dict total %s
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | idx: %s, output_dict_len: %d
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | Creating a baseline federated dataset
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | class_num %d
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | user class dict total %s
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | idx: %s, output_dict_len: %d
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | user class dict total %s
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | idx: %s, output_dict_len: %d
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | user class dict total %s
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | idx: %s, output_dict_len: %d
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | user class dict total %s
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | idx: %s, output_dict_len: %d
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | user class dict total %s
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | idx: %s, output_dict_len: %d
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | user class dict total %s
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | idx: %s, output_dict_len: %d
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | user class dict total %s
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | idx: %s, output_dict_len: %d
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | user class dict total %s
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | idx: %s, output_dict_len: %d
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | user class dict total %s
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | idx: %s, output_dict_len: %d
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | user class dict total %s
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | idx: %s, output_dict_len: %d
2025-11-21 05:57:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 05:57:52 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | Building custom CLIP
2025-11-21 05:57:52 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | Turning off gradients in both the image and the text encoder
2025-11-21 05:57:52 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [wandb] 正在初始化实验：project=SepFPL, name=oxford_pets-dpfpl-rank2-noise0.1-seed1-users10-82/120, mode=online
2025-11-21 05:58:02 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 1/30] 训练耗时: 5.70s | 平均训练准确率: 52.81
2025-11-21 05:58:07 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 2/30] 训练耗时: 5.22s | 平均训练准确率: 50.31
2025-11-21 05:58:13 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 3/30] 训练耗时: 5.16s | 平均训练准确率: 52.19
2025-11-21 05:58:18 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 4/30] 训练耗时: 5.18s | 平均训练准确率: 52.81
2025-11-21 05:58:23 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 5/30] 训练耗时: 5.27s | 平均训练准确率: 53.12
2025-11-21 05:58:28 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 6/30] 训练耗时: 5.21s | 平均训练准确率: 51.88
2025-11-21 05:58:34 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 7/30] 训练耗时: 5.29s | 平均训练准确率: 53.12
2025-11-21 05:58:39 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 8/30] 训练耗时: 5.24s | 平均训练准确率: 51.88
2025-11-21 05:58:44 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 9/30] 训练耗时: 5.23s | 平均训练准确率: 52.03
2025-11-21 05:58:49 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 10/30] 训练耗时: 5.11s | 平均训练准确率: 51.41
2025-11-21 05:58:54 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 11/30] 训练耗时: 5.22s | 平均训练准确率: 53.44
2025-11-21 05:59:00 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 12/30] 训练耗时: 5.17s | 平均训练准确率: 53.12
2025-11-21 05:59:05 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 13/30] 训练耗时: 5.21s | 平均训练准确率: 48.59
2025-11-21 05:59:10 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 14/30] 训练耗时: 5.14s | 平均训练准确率: 51.56
2025-11-21 05:59:15 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 15/30] 训练耗时: 4.84s | 平均训练准确率: 52.81
2025-11-21 05:59:20 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 16/30] 训练耗时: 4.86s | 平均训练准确率: 51.72
2025-11-21 05:59:25 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 17/30] 训练耗时: 5.51s | 平均训练准确率: 52.81
2025-11-21 05:59:30 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 18/30] 训练耗时: 4.84s | 平均训练准确率: 51.25
2025-11-21 05:59:35 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 19/30] 训练耗时: 4.99s | 平均训练准确率: 50.00
2025-11-21 05:59:40 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 20/30] 训练耗时: 5.25s | 平均训练准确率: 52.19
2025-11-21 05:59:45 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 21/30] 训练耗时: 5.10s | 平均训练准确率: 52.19
2025-11-21 05:59:51 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 22/30] 训练耗时: 5.24s | 平均训练准确率: 52.97
2025-11-21 05:59:56 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 23/30] 训练耗时: 5.18s | 平均训练准确率: 53.28
2025-11-21 06:00:01 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 24/30] 训练耗时: 5.17s | 平均训练准确率: 51.88
2025-11-21 06:00:06 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 25/30] 训练耗时: 5.19s | 平均训练准确率: 52.19
2025-11-21 06:00:11 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 26/30] 训练耗时: 5.19s | 平均训练准确率: 51.88
2025-11-21 06:00:17 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 27/30] 训练耗时: 5.26s | 平均训练准确率: 52.34
2025-11-21 06:00:22 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 28/30] 训练耗时: 5.46s | 平均训练准确率: 50.31
2025-11-21 06:00:22 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | 
2025-11-21 06:00:22 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | ================================================================================
2025-11-21 06:00:22 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] |                     TEST START - Epoch 28/30
2025-11-21 06:00:22 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | ================================================================================
2025-11-21 06:00:22 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | 
2025-11-21 06:05:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    69.17 |      30.83 |    72.20 |
| Client 1 |    70.68 |      29.32 |    72.64 |
| Client 2 |    82.78 |      17.22 |    89.07 |
| Client 3 |    87.91 |      12.09 |    92.30 |
| Client 4 |    72.28 |      27.72 |    71.81 |
| Client 5 |    72.43 |      27.57 |    73.70 |
| Client 6 |    63.75 |      36.25 |    72.81 |
| Client 7 |    93.50 |       6.50 |    96.34 |
| Client 8 |    94.50 |       5.50 |    97.16 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    80.70 |      19.30 |    83.80 |
+----------+----------+------------+----------+

2025-11-21 06:05:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    80.43 |      19.57 |    76.97 |
| Client 1 |    80.18 |      19.82 |    77.67 |
| Client 2 |    78.84 |      21.16 |    74.78 |
| Client 3 |    78.21 |      21.79 |    76.28 |
| Client 4 |    80.14 |      19.86 |    76.44 |
| Client 5 |    80.00 |      20.00 |    76.63 |
| Client 6 |    80.85 |      19.15 |    77.86 |
| Client 7 |    77.24 |      22.76 |    73.35 |
| Client 8 |    77.00 |      23.00 |    72.74 |
| Client 9 |    78.09 |      21.91 |    73.73 |
| Average  |    79.10 |      20.90 |    75.64 |
+----------+----------+------------+----------+

2025-11-21 06:05:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | 
2025-11-21 06:05:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | ================================================================================
2025-11-21 06:05:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 06:05:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] |                     测试耗时: 327.55s
2025-11-21 06:05:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | ================================================================================
2025-11-21 06:05:50 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | 
2025-11-21 06:05:55 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 29/30] 训练耗时: 5.23s | 平均训练准确率: 75.31
2025-11-21 06:05:55 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | 
2025-11-21 06:05:55 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | ================================================================================
2025-11-21 06:05:55 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] |                     TEST START - Epoch 29/30
2025-11-21 06:05:55 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | ================================================================================
2025-11-21 06:05:55 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | 
2025-11-21 06:11:18 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    70.68 |      29.32 |    73.71 |
| Client 1 |    71.18 |      28.82 |    74.94 |
| Client 2 |    91.52 |       8.48 |    95.36 |
| Client 3 |    87.15 |      12.85 |    91.65 |
| Client 4 |    72.28 |      27.72 |    71.92 |
| Client 5 |    68.67 |      31.33 |    71.50 |
| Client 6 |    63.50 |      36.50 |    68.59 |
| Client 7 |    82.50 |      17.50 |    88.33 |
| Client 8 |    94.75 |       5.25 |    97.30 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    80.22 |      19.78 |    83.33 |
+----------+----------+------------+----------+

2025-11-21 06:11:18 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    81.59 |      18.41 |    78.86 |
| Client 1 |    80.80 |      19.20 |    78.35 |
| Client 2 |    77.62 |      22.38 |    74.09 |
| Client 3 |    77.84 |      22.16 |    75.80 |
| Client 4 |    79.32 |      20.68 |    75.82 |
| Client 5 |    79.82 |      20.18 |    76.48 |
| Client 6 |    80.36 |      19.64 |    78.79 |
| Client 7 |    77.97 |      22.03 |    73.93 |
| Client 8 |    76.26 |      23.74 |    72.16 |
| Client 9 |    77.84 |      22.16 |    73.88 |
| Average  |    78.94 |      21.06 |    75.82 |
+----------+----------+------------+----------+

2025-11-21 06:11:18 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | 
2025-11-21 06:11:18 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | ================================================================================
2025-11-21 06:11:18 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 06:11:18 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] |                     测试耗时: 323.71s
2025-11-21 06:11:18 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | ================================================================================
2025-11-21 06:11:18 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | 
2025-11-21 06:11:24 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | [Epoch 30/30] 训练耗时: 5.27s | 平均训练准确率: 74.38
2025-11-21 06:11:24 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | 
2025-11-21 06:11:24 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | ================================================================================
2025-11-21 06:11:24 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] |                     TEST START - Epoch 30/30
2025-11-21 06:11:24 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | ================================================================================
2025-11-21 06:11:24 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | 
2025-11-21 06:16:53 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    75.94 |      24.06 |    80.70 |
| Client 1 |    71.68 |      28.32 |    73.19 |
| Client 2 |    90.49 |       9.51 |    94.73 |
| Client 3 |    85.64 |      14.36 |    90.63 |
| Client 4 |    72.54 |      27.46 |    71.83 |
| Client 5 |    95.74 |       4.26 |    97.77 |
| Client 6 |    61.75 |      38.25 |    69.99 |
| Client 7 |    96.25 |       3.75 |    98.01 |
| Client 8 |    95.75 |       4.25 |    97.82 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    84.58 |      15.42 |    87.47 |
+----------+----------+------------+----------+

2025-11-21 06:16:53 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    84.22 |      15.78 |    81.92 |
| Client 1 |    84.89 |      15.11 |    83.64 |
| Client 2 |    82.65 |      17.35 |    79.88 |
| Client 3 |    83.22 |      16.78 |    81.62 |
| Client 4 |    84.53 |      15.47 |    82.53 |
| Client 5 |    81.38 |      18.62 |    78.94 |
| Client 6 |    85.44 |      14.56 |    83.16 |
| Client 7 |    80.91 |      19.09 |    78.45 |
| Client 8 |    80.73 |      19.27 |    77.27 |
| Client 9 |    81.68 |      18.32 |    77.96 |
| Average  |    82.96 |      17.04 |    80.54 |
+----------+----------+------------+----------+

2025-11-21 06:16:53 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | 
2025-11-21 06:16:53 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | ================================================================================
2025-11-21 06:16:53 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 06:16:53 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] |                     测试耗时: 329.10s
2025-11-21 06:16:53 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | ================================================================================
2025-11-21 06:16:53 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | 
2025-11-21 06:16:53 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | maximum test local acc: 84.578
2025-11-21 06:16:53 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | mean of local acc: 81.833
2025-11-21 06:16:53 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | maximum test neighbor acc: 82.964
2025-11-21 06:16:53 | INFO | oxford_pets_dpfpl_2_0.1_10_[82/120] | mean of neighbor acc: 80.335
