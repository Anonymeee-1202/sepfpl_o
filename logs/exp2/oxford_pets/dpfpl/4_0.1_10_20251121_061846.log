2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | Loading trainer: DP_FPL
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | Loading dataset: OxfordPets
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | Reading split from %s
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | Creating a baseline federated dataset
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | class_num %d
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | user class dict total %s
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | idx: %s, output_dict_len: %d
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | user class dict total %s
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | idx: %s, output_dict_len: %d
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | user class dict total %s
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | idx: %s, output_dict_len: %d
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | user class dict total %s
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | idx: %s, output_dict_len: %d
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | user class dict total %s
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | idx: %s, output_dict_len: %d
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | user class dict total %s
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | idx: %s, output_dict_len: %d
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | user class dict total %s
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | idx: %s, output_dict_len: %d
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | user class dict total %s
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | idx: %s, output_dict_len: %d
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | user class dict total %s
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | idx: %s, output_dict_len: %d
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | user class dict total %s
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | idx: %s, output_dict_len: %d
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | Creating a baseline federated dataset
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | class_num %d
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | user class dict total %s
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | idx: %s, output_dict_len: %d
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | user class dict total %s
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | idx: %s, output_dict_len: %d
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | user class dict total %s
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | idx: %s, output_dict_len: %d
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | user class dict total %s
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | idx: %s, output_dict_len: %d
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | user class dict total %s
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | idx: %s, output_dict_len: %d
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | user class dict total %s
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | idx: %s, output_dict_len: %d
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | user class dict total %s
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | idx: %s, output_dict_len: %d
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | user class dict total %s
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | idx: %s, output_dict_len: %d
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | user class dict total %s
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | idx: %s, output_dict_len: %d
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | user class dict total %s
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | idx: %s, output_dict_len: %d
2025-11-21 06:18:46 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | Loading CLIP (backbone: ViT-B/16)
2025-11-21 06:18:48 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | Building custom CLIP
2025-11-21 06:18:48 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | Turning off gradients in both the image and the text encoder
2025-11-21 06:18:49 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [wandb] 正在初始化实验：project=SepFPL, name=oxford_pets-dpfpl-rank4-noise0.1-seed1-users10-83/120, mode=online
2025-11-21 06:18:59 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 1/30] 训练耗时: 6.08s | 平均训练准确率: 52.34
2025-11-21 06:19:05 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 2/30] 训练耗时: 5.69s | 平均训练准确率: 52.34
2025-11-21 06:19:10 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 3/30] 训练耗时: 5.50s | 平均训练准确率: 53.28
2025-11-21 06:19:16 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 4/30] 训练耗时: 5.11s | 平均训练准确率: 52.19
2025-11-21 06:19:21 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 5/30] 训练耗时: 5.15s | 平均训练准确率: 53.12
2025-11-21 06:19:26 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 6/30] 训练耗时: 5.07s | 平均训练准确率: 50.16
2025-11-21 06:19:31 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 7/30] 训练耗时: 5.28s | 平均训练准确率: 50.47
2025-11-21 06:19:36 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 8/30] 训练耗时: 5.17s | 平均训练准确率: 53.75
2025-11-21 06:19:41 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 9/30] 训练耗时: 5.10s | 平均训练准确率: 51.25
2025-11-21 06:19:47 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 10/30] 训练耗时: 5.24s | 平均训练准确率: 51.41
2025-11-21 06:19:52 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 11/30] 训练耗时: 5.33s | 平均训练准确率: 50.78
2025-11-21 06:19:57 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 12/30] 训练耗时: 5.35s | 平均训练准确率: 52.34
2025-11-21 06:20:03 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 13/30] 训练耗时: 5.32s | 平均训练准确率: 53.12
2025-11-21 06:20:08 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 14/30] 训练耗时: 5.41s | 平均训练准确率: 52.03
2025-11-21 06:20:13 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 15/30] 训练耗时: 5.39s | 平均训练准确率: 49.06
2025-11-21 06:20:19 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 16/30] 训练耗时: 5.27s | 平均训练准确率: 52.66
2025-11-21 06:20:24 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 17/30] 训练耗时: 5.30s | 平均训练准确率: 54.22
2025-11-21 06:20:29 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 18/30] 训练耗时: 5.42s | 平均训练准确率: 49.53
2025-11-21 06:20:35 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 19/30] 训练耗时: 5.28s | 平均训练准确率: 51.72
2025-11-21 06:20:40 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 20/30] 训练耗时: 5.30s | 平均训练准确率: 53.12
2025-11-21 06:20:45 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 21/30] 训练耗时: 5.20s | 平均训练准确率: 51.41
2025-11-21 06:20:50 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 22/30] 训练耗时: 5.22s | 平均训练准确率: 50.31
2025-11-21 06:20:56 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 23/30] 训练耗时: 5.30s | 平均训练准确率: 51.56
2025-11-21 06:21:01 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 24/30] 训练耗时: 5.35s | 平均训练准确率: 50.78
2025-11-21 06:21:06 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 25/30] 训练耗时: 5.34s | 平均训练准确率: 51.25
2025-11-21 06:21:12 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 26/30] 训练耗时: 5.29s | 平均训练准确率: 52.50
2025-11-21 06:21:17 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 27/30] 训练耗时: 5.23s | 平均训练准确率: 54.22
2025-11-21 06:21:22 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 28/30] 训练耗时: 5.30s | 平均训练准确率: 52.19
2025-11-21 06:21:22 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | 
2025-11-21 06:21:22 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | ================================================================================
2025-11-21 06:21:22 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] |                     TEST START - Epoch 28/30
2025-11-21 06:21:22 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | ================================================================================
2025-11-21 06:21:22 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | 
2025-11-21 06:26:55 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    69.42 |      30.58 |    71.84 |
| Client 1 |    70.43 |      29.57 |    72.50 |
| Client 2 |    82.01 |      17.99 |    88.44 |
| Client 3 |    87.91 |      12.09 |    92.31 |
| Client 4 |    72.28 |      27.72 |    71.69 |
| Client 5 |    72.93 |      27.07 |    74.68 |
| Client 6 |    55.50 |      44.50 |    61.73 |
| Client 7 |    91.00 |       9.00 |    94.63 |
| Client 8 |    95.25 |       4.75 |    97.56 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    79.67 |      20.33 |    82.54 |
+----------+----------+------------+----------+

2025-11-21 06:26:55 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    79.66 |      20.34 |    75.83 |
| Client 1 |    79.45 |      20.55 |    76.75 |
| Client 2 |    77.87 |      22.13 |    73.33 |
| Client 3 |    77.08 |      22.92 |    74.74 |
| Client 4 |    78.95 |      21.05 |    74.79 |
| Client 5 |    78.75 |      21.25 |    74.72 |
| Client 6 |    80.76 |      19.24 |    77.47 |
| Client 7 |    76.38 |      23.62 |    72.05 |
| Client 8 |    75.77 |      24.23 |    70.84 |
| Client 9 |    77.14 |      22.86 |    72.17 |
| Average  |    78.18 |      21.82 |    74.27 |
+----------+----------+------------+----------+

2025-11-21 06:26:55 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | 
2025-11-21 06:26:55 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | ================================================================================
2025-11-21 06:26:55 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] |                     TEST FINISH - Epoch 28/30
2025-11-21 06:26:55 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] |                     测试耗时: 333.14s
2025-11-21 06:26:55 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | ================================================================================
2025-11-21 06:26:55 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | 
2025-11-21 06:27:01 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 29/30] 训练耗时: 5.25s | 平均训练准确率: 74.84
2025-11-21 06:27:01 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | 
2025-11-21 06:27:01 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | ================================================================================
2025-11-21 06:27:01 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] |                     TEST START - Epoch 29/30
2025-11-21 06:27:01 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | ================================================================================
2025-11-21 06:27:01 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | 
2025-11-21 06:32:33 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    78.20 |      21.80 |    84.81 |
| Client 1 |    81.70 |      18.30 |    87.33 |
| Client 2 |    91.00 |       9.00 |    95.06 |
| Client 3 |    86.15 |      13.85 |    91.20 |
| Client 4 |    72.28 |      27.72 |    71.92 |
| Client 5 |    82.71 |      17.29 |    87.60 |
| Client 6 |    74.75 |      25.25 |    83.78 |
| Client 7 |    89.00 |      11.00 |    93.18 |
| Client 8 |    94.25 |       5.75 |    97.01 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    85.00 |      15.00 |    89.19 |
+----------+----------+------------+----------+

2025-11-21 06:32:33 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    82.75 |      17.25 |    80.60 |
| Client 1 |    82.23 |      17.77 |    80.47 |
| Client 2 |    81.49 |      18.51 |    79.40 |
| Client 3 |    82.12 |      17.88 |    81.59 |
| Client 4 |    84.25 |      15.75 |    83.11 |
| Client 5 |    83.33 |      16.67 |    81.71 |
| Client 6 |    84.80 |      15.20 |    84.19 |
| Client 7 |    83.30 |      16.70 |    81.73 |
| Client 8 |    82.29 |      17.71 |    80.40 |
| Client 9 |    83.08 |      16.92 |    81.08 |
| Average  |    82.96 |      17.04 |    81.43 |
+----------+----------+------------+----------+

2025-11-21 06:32:33 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | 
2025-11-21 06:32:33 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | ================================================================================
2025-11-21 06:32:33 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] |                     TEST FINISH - Epoch 29/30
2025-11-21 06:32:33 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] |                     测试耗时: 332.78s
2025-11-21 06:32:33 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | ================================================================================
2025-11-21 06:32:33 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | 
2025-11-21 06:32:39 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | [Epoch 30/30] 训练耗时: 5.32s | 平均训练准确率: 78.12
2025-11-21 06:32:39 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | 
2025-11-21 06:32:39 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | ================================================================================
2025-11-21 06:32:39 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] |                     TEST START - Epoch 30/30
2025-11-21 06:32:39 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | ================================================================================
2025-11-21 06:32:39 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | 
2025-11-21 06:37:53 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | 
================= Local Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    75.94 |      24.06 |    81.94 |
| Client 1 |    72.68 |      27.32 |    74.67 |
| Client 2 |    88.69 |      11.31 |    93.63 |
| Client 3 |    85.89 |      14.11 |    90.72 |
| Client 4 |    72.28 |      27.72 |    71.56 |
| Client 5 |    84.71 |      15.29 |    89.64 |
| Client 6 |    59.50 |      40.50 |    67.00 |
| Client 7 |    95.00 |       5.00 |    97.28 |
| Client 8 |    95.00 |       5.00 |    97.39 |
| Client 9 |   100.00 |       0.00 |   100.00 |
| Average  |    82.97 |      17.03 |    86.38 |
+----------+----------+------------+----------+

2025-11-21 06:37:53 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | 
================= Neighbor Test Results ==================
+----------+----------+------------+----------+
| Client   | Accuracy | Error Rate | Macro F1 |
+----------+----------+------------+----------+
| Client 0 |    82.94 |      17.06 |    81.09 |
| Client 1 |    83.18 |      16.82 |    82.13 |
| Client 2 |    81.28 |      18.72 |    78.78 |
| Client 3 |    81.17 |      18.83 |    80.13 |
| Client 4 |    82.67 |      17.33 |    80.25 |
| Client 5 |    80.83 |      19.17 |    77.65 |
| Client 6 |    83.51 |      16.49 |    81.33 |
| Client 7 |    78.98 |      21.02 |    75.81 |
| Client 8 |    78.62 |      21.38 |    74.77 |
| Client 9 |    79.74 |      20.26 |    75.68 |
| Average  |    81.29 |      18.71 |    78.76 |
+----------+----------+------------+----------+

2025-11-21 06:37:53 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | 
2025-11-21 06:37:53 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | ================================================================================
2025-11-21 06:37:53 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] |                     TEST FINISH - Epoch 30/30
2025-11-21 06:37:53 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] |                     测试耗时: 314.12s
2025-11-21 06:37:53 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | ================================================================================
2025-11-21 06:37:53 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | 
2025-11-21 06:37:53 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | maximum test local acc: 85.003
2025-11-21 06:37:53 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | mean of local acc: 82.549
2025-11-21 06:37:53 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | maximum test neighbor acc: 82.964
2025-11-21 06:37:53 | INFO | oxford_pets_dpfpl_4_0.1_10_[83/120] | mean of neighbor acc: 80.812
